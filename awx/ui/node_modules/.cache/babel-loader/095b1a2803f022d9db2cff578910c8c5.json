{"ast":null,"code":"var sortFns={finished:byFinished,id:byId,name:byName,created_by__id:byCreatedBy,unified_job_template__project__id:byProject,started:byStarted};export default function sortJobs(jobs,params){var _params$order_by=params.order_by,order_by=_params$order_by===void 0?'-finished':_params$order_by,_params$page_size=params.page_size,page_size=_params$page_size===void 0?20:_params$page_size;var key=order_by.replace('-','');var fn=sortFns[key];if(!fn){return jobs.slice(0,page_size);}var sorted=order_by[0]==='-'?jobs.sort(reverse(fn)):jobs.sort(fn);return sorted.slice(0,page_size);}function reverse(fn){return function(a,b){return fn(a,b)*-1;};}function byFinished(a,b){if(!a.finished){return 1;}if(!b.finished){return-1;}return sort(new Date(a.finished),new Date(b.finished));}function byStarted(a,b){if(!a.started){return 1;}if(!b.started){return-1;}return sort(new Date(a.started),new Date(b.started));}function byId(a,b){return sort(a.id,b.id);}function byName(a,b){return sort(a.name,b.name);}function byCreatedBy(a,b){var _a$summary_fields,_a$summary_fields$cre,_b$summary_fields,_b$summary_fields$cre;var nameA=(_a$summary_fields=a.summary_fields)===null||_a$summary_fields===void 0?void 0:(_a$summary_fields$cre=_a$summary_fields.created_by)===null||_a$summary_fields$cre===void 0?void 0:_a$summary_fields$cre.id;var nameB=(_b$summary_fields=b.summary_fields)===null||_b$summary_fields===void 0?void 0:(_b$summary_fields$cre=_b$summary_fields.created_by)===null||_b$summary_fields$cre===void 0?void 0:_b$summary_fields$cre.id;return sort(nameA,nameB)*-1;}function byProject(a,b){return sort(a.unified_job_template,b.unified_job_template);}function sort(a,b){if(!a){return-1;}if(!b){return 1;}if(a<b){return-1;}if(a>b){return 1;}return 0;}","map":{"version":3,"names":["sortFns","finished","byFinished","id","byId","name","byName","created_by__id","byCreatedBy","unified_job_template__project__id","byProject","started","byStarted","sortJobs","jobs","params","_params$order_by","order_by","_params$page_size","page_size","key","replace","fn","slice","sorted","sort","reverse","a","b","Date","_a$summary_fields","_a$summary_fields$cre","_b$summary_fields","_b$summary_fields$cre","nameA","summary_fields","created_by","nameB","unified_job_template"],"sources":["/awx_devel/awx/ui/src/components/JobList/sortJobs.js"],"sourcesContent":["const sortFns = {\n  finished: byFinished,\n  id: byId,\n  name: byName,\n  created_by__id: byCreatedBy,\n  unified_job_template__project__id: byProject,\n  started: byStarted,\n};\n\nexport default function sortJobs(jobs, params) {\n  const { order_by = '-finished', page_size = 20 } = params;\n  const key = order_by.replace('-', '');\n  const fn = sortFns[key];\n  if (!fn) {\n    return jobs.slice(0, page_size);\n  }\n\n  const sorted = order_by[0] === '-' ? jobs.sort(reverse(fn)) : jobs.sort(fn);\n  return sorted.slice(0, page_size);\n}\n\nfunction reverse(fn) {\n  return (a, b) => fn(a, b) * -1;\n}\n\nfunction byFinished(a, b) {\n  if (!a.finished) {\n    return 1;\n  }\n  if (!b.finished) {\n    return -1;\n  }\n  return sort(new Date(a.finished), new Date(b.finished));\n}\n\nfunction byStarted(a, b) {\n  if (!a.started) {\n    return 1;\n  }\n  if (!b.started) {\n    return -1;\n  }\n  return sort(new Date(a.started), new Date(b.started));\n}\n\nfunction byId(a, b) {\n  return sort(a.id, b.id);\n}\n\nfunction byName(a, b) {\n  return sort(a.name, b.name);\n}\n\nfunction byCreatedBy(a, b) {\n  const nameA = a.summary_fields?.created_by?.id;\n  const nameB = b.summary_fields?.created_by?.id;\n  return sort(nameA, nameB) * -1;\n}\n\nfunction byProject(a, b) {\n  return sort(a.unified_job_template, b.unified_job_template);\n}\n\nfunction sort(a, b) {\n  if (!a) {\n    return -1;\n  }\n  if (!b) {\n    return 1;\n  }\n  if (a < b) {\n    return -1;\n  }\n  if (a > b) {\n    return 1;\n  }\n  return 0;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}