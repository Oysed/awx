{"ast":null,"code":"import{i18n}from\"@lingui/core\";import React from'react';import{Link}from'react-router-dom';import{Tr,Td,ExpandableRowContent}from'@patternfly/react-table';import{formatDateString}from'util/dates';import{Detail,DetailList}from'components/DetailList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function InstancePeerListItem(_ref){var peerInstance=_ref.peerInstance,isSelected=_ref.isSelected,onSelect=_ref.onSelect,isExpanded=_ref.isExpanded,onExpand=_ref.onExpand,rowIndex=_ref.rowIndex;var labelId=\"check-action-\".concat(peerInstance.id);var isHopNode=peerInstance.node_type==='hop';return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Tr,{id:\"peerInstance-row-\".concat(peerInstance.id),ouiaId:\"peerInstance-row-\".concat(peerInstance.id),children:[isHopNode?/*#__PURE__*/_jsx(Td,{}):/*#__PURE__*/_jsx(Td,{expand:{rowIndex:rowIndex,isExpanded:isExpanded,onToggle:onExpand}}),/*#__PURE__*/_jsx(Td,{select:{rowIndex:rowIndex,isSelected:isSelected,onSelect:onSelect},dataLabel:/*i18n*/i18n._(\"Selected\")}),/*#__PURE__*/_jsx(Td,{id:labelId,dataLabel:/*i18n*/i18n._(\"Name\"),children:/*#__PURE__*/_jsx(Link,{to:\"/instances/\".concat(peerInstance.instance,\"/details\"),children:/*#__PURE__*/_jsx(\"b\",{children:peerInstance.hostname})})}),/*#__PURE__*/_jsx(Td,{id:labelId,dataLabel:/*i18n*/i18n._(\"Address\"),children:peerInstance.address}),/*#__PURE__*/_jsx(Td,{id:labelId,dataLabel:/*i18n*/i18n._(\"Port\"),children:peerInstance.port}),/*#__PURE__*/_jsx(Td,{dataLabel:/*i18n*/i18n._(\"Node Type\"),children:peerInstance.node_type}),/*#__PURE__*/_jsx(Td,{id:labelId,dataLabel:/*i18n*/i18n._(\"Canonical\"),children:peerInstance.canonical.toString()})]}),!isHopNode&&/*#__PURE__*/_jsxs(Tr,{ouiaId:\"peerInstance-row-\".concat(peerInstance.id,\"-expanded\"),isExpanded:isExpanded,children:[/*#__PURE__*/_jsx(Td,{colSpan:2}),/*#__PURE__*/_jsx(Td,{colSpan:7,children:/*#__PURE__*/_jsx(ExpandableRowContent,{children:/*#__PURE__*/_jsxs(DetailList,{children:[/*#__PURE__*/_jsx(Detail,{\"data-cy\":\"running-jobs\",value:peerInstance.jobs_running,label:/*i18n*/i18n._(\"Running Jobs\")}),/*#__PURE__*/_jsx(Detail,{\"data-cy\":\"total-jobs\",value:peerInstance.jobs_total,label:/*i18n*/i18n._(\"Total Jobs\")}),/*#__PURE__*/_jsx(Detail,{\"data-cy\":\"policy-type\",label:/*i18n*/i18n._(\"Policy Type\"),value:peerInstance.managed_by_policy?/*i18n*/i18n._(\"Auto\"):/*i18n*/i18n._(\"Manual\")}),/*#__PURE__*/_jsx(Detail,{\"data-cy\":\"last-health-check\",label:/*i18n*/i18n._(\"Last Health Check\"),value:formatDateString(peerInstance.last_health_check)})]})})})]})]});}export default InstancePeerListItem;","map":{"version":3,"names":["React","Link","Tr","Td","ExpandableRowContent","formatDateString","Detail","DetailList","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","InstancePeerListItem","_ref","peerInstance","isSelected","onSelect","isExpanded","onExpand","rowIndex","labelId","concat","id","isHopNode","node_type","children","ouiaId","expand","onToggle","select","dataLabel","i18n","_","to","instance","hostname","address","port","canonical","toString","colSpan","value","jobs_running","label","jobs_total","managed_by_policy","last_health_check"],"sources":["/awx_devel/awx/ui/src/screens/Instances/InstancePeers/InstancePeerListItem.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { t } from '@lingui/macro';\nimport 'styled-components/macro';\nimport { Tr, Td, ExpandableRowContent } from '@patternfly/react-table';\nimport { formatDateString } from 'util/dates';\nimport { Detail, DetailList } from 'components/DetailList';\n\nfunction InstancePeerListItem({\n  peerInstance,\n  isSelected,\n  onSelect,\n  isExpanded,\n  onExpand,\n  rowIndex,\n}) {\n  const labelId = `check-action-${peerInstance.id}`;\n  const isHopNode = peerInstance.node_type === 'hop';\n  return (\n    <>\n      <Tr\n        id={`peerInstance-row-${peerInstance.id}`}\n        ouiaId={`peerInstance-row-${peerInstance.id}`}\n      >\n        {isHopNode ? (\n          <Td />\n        ) : (\n          <Td\n            expand={{\n              rowIndex,\n              isExpanded,\n              onToggle: onExpand,\n            }}\n          />\n        )}\n        <Td\n          select={{\n            rowIndex,\n            isSelected,\n            onSelect,\n          }}\n          dataLabel={t`Selected`}\n        />\n\n        <Td id={labelId} dataLabel={t`Name`}>\n          <Link to={`/instances/${peerInstance.instance}/details`}>\n            <b>{peerInstance.hostname}</b>\n          </Link>\n        </Td>\n\n        <Td id={labelId} dataLabel={t`Address`}>\n          {peerInstance.address}\n        </Td>\n\n        <Td id={labelId} dataLabel={t`Port`}>\n          {peerInstance.port}\n        </Td>\n\n        <Td dataLabel={t`Node Type`}>{peerInstance.node_type}</Td>\n\n        <Td id={labelId} dataLabel={t`Canonical`}>\n          {peerInstance.canonical.toString()}\n        </Td>\n      </Tr>\n      {!isHopNode && (\n        <Tr\n          ouiaId={`peerInstance-row-${peerInstance.id}-expanded`}\n          isExpanded={isExpanded}\n        >\n          <Td colSpan={2} />\n          <Td colSpan={7}>\n            <ExpandableRowContent>\n              <DetailList>\n                <Detail\n                  data-cy=\"running-jobs\"\n                  value={peerInstance.jobs_running}\n                  label={t`Running Jobs`}\n                />\n                <Detail\n                  data-cy=\"total-jobs\"\n                  value={peerInstance.jobs_total}\n                  label={t`Total Jobs`}\n                />\n                <Detail\n                  data-cy=\"policy-type\"\n                  label={t`Policy Type`}\n                  value={peerInstance.managed_by_policy ? t`Auto` : t`Manual`}\n                />\n                <Detail\n                  data-cy=\"last-health-check\"\n                  label={t`Last Health Check`}\n                  value={formatDateString(peerInstance.last_health_check)}\n                />\n              </DetailList>\n            </ExpandableRowContent>\n          </Td>\n        </Tr>\n      )}\n    </>\n  );\n}\n\nexport default InstancePeerListItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}