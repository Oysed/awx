{"ast":null,"code":"import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef}from'react';export default function useThrottle(value,limit){var _useState=useState(value),_useState2=_slicedToArray(_useState,2),throttledValue=_useState2[0],setThrottledValue=_useState2[1];var lastRan=useRef(Date.now());var initialValue=useRef(value);useEffect(function(){if(value!==initialValue.current){setThrottledValue(value);return function(){};}var handler=setTimeout(function(){if(Date.now()-lastRan.current>=limit){lastRan.current=Date.now();setThrottledValue(value);}},limit-(Date.now()-lastRan.current));return function(){clearTimeout(handler);};},[value,limit]);return throttledValue;}","map":{"version":3,"names":["useState","useEffect","useRef","useThrottle","value","limit","_useState","_useState2","_slicedToArray","throttledValue","setThrottledValue","lastRan","Date","now","initialValue","current","handler","setTimeout","clearTimeout"],"sources":["/awx_devel/awx/ui/src/hooks/useThrottle.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\n\nexport default function useThrottle(value, limit) {\n  const [throttledValue, setThrottledValue] = useState(value);\n  const lastRan = useRef(Date.now());\n  const initialValue = useRef(value);\n\n  useEffect(() => {\n    if (value !== initialValue.current) {\n      setThrottledValue(value);\n      return () => {};\n    }\n\n    const handler = setTimeout(() => {\n      if (Date.now() - lastRan.current >= limit) {\n        lastRan.current = Date.now();\n        setThrottledValue(value);\n      }\n    }, limit - (Date.now() - lastRan.current));\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, limit]);\n\n  return throttledValue;\n}\n"],"mappings":"uGAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAEnD,cAAe,SAAS,CAAAC,WAAWA,CAACC,KAAK,CAAEC,KAAK,CAAE,CAChD,IAAAC,SAAA,CAA4CN,QAAQ,CAACI,KAAK,CAAC,CAAAG,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAApDG,cAAc,CAAAF,UAAA,IAAEG,iBAAiB,CAAAH,UAAA,IACxC,GAAM,CAAAI,OAAO,CAAGT,MAAM,CAACU,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC,CAClC,GAAM,CAAAC,YAAY,CAAGZ,MAAM,CAACE,KAAK,CAAC,CAElCH,SAAS,CAAC,UAAM,CACd,GAAIG,KAAK,GAAKU,YAAY,CAACC,OAAO,CAAE,CAClCL,iBAAiB,CAACN,KAAK,CAAC,CACxB,MAAO,WAAM,CAAC,CAAC,CACjB,CAEA,GAAM,CAAAY,OAAO,CAAGC,UAAU,CAAC,UAAM,CAC/B,GAAIL,IAAI,CAACC,GAAG,CAAC,CAAC,CAAGF,OAAO,CAACI,OAAO,EAAIV,KAAK,CAAE,CACzCM,OAAO,CAACI,OAAO,CAAGH,IAAI,CAACC,GAAG,CAAC,CAAC,CAC5BH,iBAAiB,CAACN,KAAK,CAAC,CAC1B,CACF,CAAC,CAAEC,KAAK,EAAIO,IAAI,CAACC,GAAG,CAAC,CAAC,CAAGF,OAAO,CAACI,OAAO,CAAC,CAAC,CAE1C,MAAO,WAAM,CACXG,YAAY,CAACF,OAAO,CAAC,CACvB,CAAC,CACH,CAAC,CAAE,CAACZ,KAAK,CAAEC,KAAK,CAAC,CAAC,CAElB,MAAO,CAAAI,cAAc,CACvB"},"metadata":{},"sourceType":"module"}