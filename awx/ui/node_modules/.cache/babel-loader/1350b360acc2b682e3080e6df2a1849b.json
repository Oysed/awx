{"ast":null,"code":"import{i18n}from\"@lingui/core\";import React from'react';import useTitle from'hooks/useTitle';import{Button,PageSection,PageSectionVariants,Breadcrumb,BreadcrumbItem,Title,Tooltip}from'@patternfly/react-core';import{HistoryIcon}from'@patternfly/react-icons';import{Link,Route,useRouteMatch,useLocation}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ScreenHeader=function ScreenHeader(_ref){var breadcrumbConfig=_ref.breadcrumbConfig,streamType=_ref.streamType;var light=PageSectionVariants.light;var oneCrumbMatch=useRouteMatch({path:Object.keys(breadcrumbConfig)[0],strict:true});var location=useLocation();var parts=location.pathname.split('/');if(parts.length>2){parts.pop();}var pathTitle=breadcrumbConfig[parts.join('/')];useTitle(pathTitle);var isOnlyOneCrumb=oneCrumbMatch&&oneCrumbMatch.isExact;return/*#__PURE__*/_jsx(PageSection,{variant:light,children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[!isOnlyOneCrumb&&/*#__PURE__*/_jsx(Breadcrumb,{ouiaId:\"breadcrumb-list\",children:/*#__PURE__*/_jsx(Route,{path:\"/:path\",children:/*#__PURE__*/_jsx(Crumb,{breadcrumbConfig:breadcrumbConfig})})}),/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'31px'},children:/*#__PURE__*/_jsx(Route,{path:\"/:path\",children:/*#__PURE__*/_jsx(ActualTitle,{breadcrumbConfig:breadcrumbConfig})})})]}),streamType!=='none'&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Tooltip,{content:/*i18n*/i18n._(\"View activity stream\"),position:\"top\",children:/*#__PURE__*/_jsx(Button,{ouiaId:\"activity-stream-button\",\"aria-label\":/*i18n*/i18n._(\"View activity stream\"),variant:\"plain\",component:Link,to:\"/activity_stream\".concat(streamType?\"?type=\".concat(streamType):''),children:/*#__PURE__*/_jsx(HistoryIcon,{})})})})]})});};var ActualTitle=function ActualTitle(_ref2){var breadcrumbConfig=_ref2.breadcrumbConfig;var match=useRouteMatch();var title=breadcrumbConfig[match.url];var titleElement;if(match.isExact){titleElement=/*#__PURE__*/_jsx(Title,{size:\"2xl\",headingLevel:\"h2\",\"data-cy\":\"screen-title\",children:title});}if(!title){titleElement=null;}return/*#__PURE__*/_jsxs(_Fragment,{children:[titleElement,/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.url,\"/:path\"),children:/*#__PURE__*/_jsx(ActualTitle,{breadcrumbConfig:breadcrumbConfig})})]});};var Crumb=function Crumb(_ref3){var breadcrumbConfig=_ref3.breadcrumbConfig,showDivider=_ref3.showDivider;var match=useRouteMatch();var crumb=breadcrumbConfig[match.url];var crumbElement=/*#__PURE__*/_jsx(BreadcrumbItem,{showDivider:showDivider,\"data-cy\":crumb,children:/*#__PURE__*/_jsx(Link,{to:match.url,children:crumb})},match.url);if(match.isExact){crumbElement=null;}if(!crumb){crumbElement=null;}return/*#__PURE__*/_jsxs(_Fragment,{children:[crumbElement,/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.url,\"/:path\"),children:/*#__PURE__*/_jsx(Crumb,{breadcrumbConfig:breadcrumbConfig,showDivider:true,\"data-cy\":crumb})})]});};export default ScreenHeader;","map":{"version":3,"names":["React","useTitle","Button","PageSection","PageSectionVariants","Breadcrumb","BreadcrumbItem","Title","Tooltip","HistoryIcon","Link","Route","useRouteMatch","useLocation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ScreenHeader","_ref","breadcrumbConfig","streamType","light","oneCrumbMatch","path","Object","keys","strict","location","parts","pathname","split","length","pop","pathTitle","join","isOnlyOneCrumb","isExact","variant","children","style","display","justifyContent","alignItems","ouiaId","Crumb","minHeight","ActualTitle","content","i18n","_","position","component","to","concat","_ref2","match","title","url","titleElement","size","headingLevel","_ref3","showDivider","crumb","crumbElement"],"sources":["/awx_devel/awx/ui/src/components/ScreenHeader/ScreenHeader.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport useTitle from 'hooks/useTitle';\n\nimport { t } from '@lingui/macro';\nimport {\n  Button,\n  PageSection,\n  PageSectionVariants,\n  Breadcrumb,\n  BreadcrumbItem,\n  Title,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { HistoryIcon } from '@patternfly/react-icons';\nimport { Link, Route, useRouteMatch, useLocation } from 'react-router-dom';\n\nconst ScreenHeader = ({ breadcrumbConfig, streamType }) => {\n  const { light } = PageSectionVariants;\n  const oneCrumbMatch = useRouteMatch({\n    path: Object.keys(breadcrumbConfig)[0],\n    strict: true,\n  });\n\n  const location = useLocation();\n  const parts = location.pathname.split('/');\n  if (parts.length > 2) {\n    parts.pop();\n  }\n\n  const pathTitle = breadcrumbConfig[parts.join('/')];\n  useTitle(pathTitle);\n\n  const isOnlyOneCrumb = oneCrumbMatch && oneCrumbMatch.isExact;\n\n  return (\n    <PageSection variant={light}>\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n        }}\n      >\n        <div>\n          {!isOnlyOneCrumb && (\n            <Breadcrumb ouiaId=\"breadcrumb-list\">\n              <Route path=\"/:path\">\n                <Crumb breadcrumbConfig={breadcrumbConfig} />\n              </Route>\n            </Breadcrumb>\n          )}\n          <div\n            style={{\n              minHeight: '31px',\n            }}\n          >\n            <Route path=\"/:path\">\n              <ActualTitle breadcrumbConfig={breadcrumbConfig} />\n            </Route>\n          </div>\n        </div>\n        {streamType !== 'none' && (\n          <div>\n            <Tooltip content={t`View activity stream`} position=\"top\">\n              <Button\n                ouiaId=\"activity-stream-button\"\n                aria-label={t`View activity stream`}\n                variant=\"plain\"\n                component={Link}\n                to={`/activity_stream${\n                  streamType ? `?type=${streamType}` : ''\n                }`}\n              >\n                <HistoryIcon />\n              </Button>\n            </Tooltip>\n          </div>\n        )}\n      </div>\n    </PageSection>\n  );\n};\n\nconst ActualTitle = ({ breadcrumbConfig }) => {\n  const match = useRouteMatch();\n  const title = breadcrumbConfig[match.url];\n  let titleElement;\n\n  if (match.isExact) {\n    titleElement = (\n      <Title size=\"2xl\" headingLevel=\"h2\" data-cy=\"screen-title\">\n        {title}\n      </Title>\n    );\n  }\n\n  if (!title) {\n    titleElement = null;\n  }\n\n  return (\n    <>\n      {titleElement}\n      <Route path={`${match.url}/:path`}>\n        <ActualTitle breadcrumbConfig={breadcrumbConfig} />\n      </Route>\n    </>\n  );\n};\n\nconst Crumb = ({ breadcrumbConfig, showDivider }) => {\n  const match = useRouteMatch();\n  const crumb = breadcrumbConfig[match.url];\n\n  let crumbElement = (\n    <BreadcrumbItem key={match.url} showDivider={showDivider} data-cy={crumb}>\n      <Link to={match.url}>{crumb}</Link>\n    </BreadcrumbItem>\n  );\n\n  if (match.isExact) {\n    crumbElement = null;\n  }\n\n  if (!crumb) {\n    crumbElement = null;\n  }\n  return (\n    <>\n      {crumbElement}\n      <Route path={`${match.url}/:path`}>\n        <Crumb\n          breadcrumbConfig={breadcrumbConfig}\n          showDivider\n          data-cy={crumb}\n        />\n      </Route>\n    </>\n  );\n};\n\nScreenHeader.propTypes = {\n  breadcrumbConfig: PropTypes.objectOf(PropTypes.string).isRequired,\n};\n\nCrumb.propTypes = {\n  breadcrumbConfig: PropTypes.objectOf(PropTypes.string).isRequired,\n};\n\nexport default ScreenHeader;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}