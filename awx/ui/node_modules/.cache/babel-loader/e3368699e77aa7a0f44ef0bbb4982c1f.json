{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{RRule,RRuleSet}from'rrule';import buildRuleObj,{buildDtStartObj}from'./buildRuleObj';window.RRuleSet=RRuleSet;var frequencies=['minute','hour','day','week','month','year'];export default function buildRuleSet(values,useUTCStart){var set=new RRuleSet();if(!useUTCStart){var startRule=buildDtStartObj({startDate:values.startDate,startTime:values.startTime,timezone:values.timezone});set.rrule(startRule);}if(values.frequency.length===0){var rule=buildRuleObj({startDate:values.startDate,startTime:values.startTime,timezone:values.timezone,frequency:'none',interval:1},useUTCStart);set.rrule(new RRule(rule));}frequencies.forEach(function(frequency){if(!values.frequency.includes(frequency)){return;}var rule=buildRuleObj(_objectSpread({startDate:values.startDate,startTime:values.startTime,timezone:values.timezone,frequency:frequency},values.frequencyOptions[frequency]),useUTCStart);set.rrule(new RRule(rule));});frequencies.forEach(function(frequency){var _values$exceptionFreq;if(!((_values$exceptionFreq=values.exceptionFrequency)!==null&&_values$exceptionFreq!==void 0&&_values$exceptionFreq.includes(frequency))){return;}var rule=buildRuleObj(_objectSpread({startDate:values.startDate,startTime:values.startTime,timezone:values.timezone,frequency:frequency},values.exceptionOptions[frequency]),useUTCStart);set.exrule(new RRule(rule));});return set;}","map":{"version":3,"names":["RRule","RRuleSet","buildRuleObj","buildDtStartObj","window","frequencies","buildRuleSet","values","useUTCStart","set","startRule","startDate","startTime","timezone","rrule","frequency","length","rule","interval","forEach","includes","_objectSpread","frequencyOptions","_values$exceptionFreq","exceptionFrequency","exceptionOptions","exrule"],"sources":["/awx_devel/awx/ui/src/components/Schedule/shared/buildRuleSet.js"],"sourcesContent":["import { RRule, RRuleSet } from 'rrule';\nimport buildRuleObj, { buildDtStartObj } from './buildRuleObj';\n\nwindow.RRuleSet = RRuleSet;\n\nconst frequencies = ['minute', 'hour', 'day', 'week', 'month', 'year'];\nexport default function buildRuleSet(values, useUTCStart) {\n  const set = new RRuleSet();\n\n  if (!useUTCStart) {\n    const startRule = buildDtStartObj({\n      startDate: values.startDate,\n      startTime: values.startTime,\n      timezone: values.timezone,\n    });\n    set.rrule(startRule);\n  }\n\n  if (values.frequency.length === 0) {\n    const rule = buildRuleObj(\n      {\n        startDate: values.startDate,\n        startTime: values.startTime,\n        timezone: values.timezone,\n        frequency: 'none',\n        interval: 1,\n      },\n      useUTCStart\n    );\n    set.rrule(new RRule(rule));\n  }\n\n  frequencies.forEach((frequency) => {\n    if (!values.frequency.includes(frequency)) {\n      return;\n    }\n    const rule = buildRuleObj(\n      {\n        startDate: values.startDate,\n        startTime: values.startTime,\n        timezone: values.timezone,\n        frequency,\n        ...values.frequencyOptions[frequency],\n      },\n      useUTCStart\n    );\n    set.rrule(new RRule(rule));\n  });\n\n  frequencies.forEach((frequency) => {\n    if (!values.exceptionFrequency?.includes(frequency)) {\n      return;\n    }\n    const rule = buildRuleObj(\n      {\n        startDate: values.startDate,\n        startTime: values.startTime,\n        timezone: values.timezone,\n        frequency,\n        ...values.exceptionOptions[frequency],\n      },\n      useUTCStart\n    );\n    set.exrule(new RRule(rule));\n  });\n\n  return set;\n}\n"],"mappings":"sGAAA,OAASA,KAAK,CAAEC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,YAAY,EAAIC,eAAe,KAAQ,gBAAgB,CAE9DC,MAAM,CAACH,QAAQ,CAAGA,QAAQ,CAE1B,GAAM,CAAAI,WAAW,CAAG,CAAC,QAAQ,CAAE,MAAM,CAAE,KAAK,CAAE,MAAM,CAAE,OAAO,CAAE,MAAM,CAAC,CACtE,cAAe,SAAS,CAAAC,YAAYA,CAACC,MAAM,CAAEC,WAAW,CAAE,CACxD,GAAM,CAAAC,GAAG,CAAG,GAAI,CAAAR,QAAQ,CAAC,CAAC,CAE1B,GAAI,CAACO,WAAW,CAAE,CAChB,GAAM,CAAAE,SAAS,CAAGP,eAAe,CAAC,CAChCQ,SAAS,CAAEJ,MAAM,CAACI,SAAS,CAC3BC,SAAS,CAAEL,MAAM,CAACK,SAAS,CAC3BC,QAAQ,CAAEN,MAAM,CAACM,QACnB,CAAC,CAAC,CACFJ,GAAG,CAACK,KAAK,CAACJ,SAAS,CAAC,CACtB,CAEA,GAAIH,MAAM,CAACQ,SAAS,CAACC,MAAM,GAAK,CAAC,CAAE,CACjC,GAAM,CAAAC,IAAI,CAAGf,YAAY,CACvB,CACES,SAAS,CAAEJ,MAAM,CAACI,SAAS,CAC3BC,SAAS,CAAEL,MAAM,CAACK,SAAS,CAC3BC,QAAQ,CAAEN,MAAM,CAACM,QAAQ,CACzBE,SAAS,CAAE,MAAM,CACjBG,QAAQ,CAAE,CACZ,CAAC,CACDV,WACF,CAAC,CACDC,GAAG,CAACK,KAAK,CAAC,GAAI,CAAAd,KAAK,CAACiB,IAAI,CAAC,CAAC,CAC5B,CAEAZ,WAAW,CAACc,OAAO,CAAC,SAACJ,SAAS,CAAK,CACjC,GAAI,CAACR,MAAM,CAACQ,SAAS,CAACK,QAAQ,CAACL,SAAS,CAAC,CAAE,CACzC,OACF,CACA,GAAM,CAAAE,IAAI,CAAGf,YAAY,CAAAmB,aAAA,EAErBV,SAAS,CAAEJ,MAAM,CAACI,SAAS,CAC3BC,SAAS,CAAEL,MAAM,CAACK,SAAS,CAC3BC,QAAQ,CAAEN,MAAM,CAACM,QAAQ,CACzBE,SAAS,CAATA,SAAS,EACNR,MAAM,CAACe,gBAAgB,CAACP,SAAS,CAAC,EAEvCP,WACF,CAAC,CACDC,GAAG,CAACK,KAAK,CAAC,GAAI,CAAAd,KAAK,CAACiB,IAAI,CAAC,CAAC,CAC5B,CAAC,CAAC,CAEFZ,WAAW,CAACc,OAAO,CAAC,SAACJ,SAAS,CAAK,KAAAQ,qBAAA,CACjC,GAAI,GAAAA,qBAAA,CAAChB,MAAM,CAACiB,kBAAkB,UAAAD,qBAAA,WAAzBA,qBAAA,CAA2BH,QAAQ,CAACL,SAAS,CAAC,EAAE,CACnD,OACF,CACA,GAAM,CAAAE,IAAI,CAAGf,YAAY,CAAAmB,aAAA,EAErBV,SAAS,CAAEJ,MAAM,CAACI,SAAS,CAC3BC,SAAS,CAAEL,MAAM,CAACK,SAAS,CAC3BC,QAAQ,CAAEN,MAAM,CAACM,QAAQ,CACzBE,SAAS,CAATA,SAAS,EACNR,MAAM,CAACkB,gBAAgB,CAACV,SAAS,CAAC,EAEvCP,WACF,CAAC,CACDC,GAAG,CAACiB,MAAM,CAAC,GAAI,CAAA1B,KAAK,CAACiB,IAAI,CAAC,CAAC,CAC7B,CAAC,CAAC,CAEF,MAAO,CAAAR,GAAG,CACZ"},"metadata":{},"sourceType":"module"}