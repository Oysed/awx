{"ast":null,"code":"import _styled from\"styled-components\";import{i18n}from\"@lingui/core\";import React,{useContext}from'react';import{Button}from'@patternfly/react-core';import{WorkflowDispatchContext,WorkflowStateContext}from'contexts/Workflow';import AlertModal from'components/AlertModal';import{stringIsUUID}from'util/strings';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _StyledStrong=_styled(\"strong\").withConfig({displayName:\"NodeDeleteModal___StyledStrong\",componentId:\"sc-1b0w0b3-0\"})([\"color:var(--pf-global--danger-color--100)\"]);function NodeDeleteModal(){var _nodeToDelete$origina,_nodeToDelete$origina2,_nodeToDelete$origina3;var dispatch=useContext(WorkflowDispatchContext);var _useContext=useContext(WorkflowStateContext),nodeToDelete=_useContext.nodeToDelete;var identifier=nodeToDelete===null||nodeToDelete===void 0?void 0:(_nodeToDelete$origina=nodeToDelete.originalNodeObject)===null||_nodeToDelete$origina===void 0?void 0:_nodeToDelete$origina.identifier;var nodeIdentifier=identifier&&!stringIsUUID(identifier)?identifier:nodeToDelete===null||nodeToDelete===void 0?void 0:nodeToDelete.identifier;var unifiedJobTemplate=(nodeToDelete===null||nodeToDelete===void 0?void 0:nodeToDelete.fullUnifiedJobTemplate)||(nodeToDelete===null||nodeToDelete===void 0?void 0:(_nodeToDelete$origina2=nodeToDelete.originalNodeObject)===null||_nodeToDelete$origina2===void 0?void 0:(_nodeToDelete$origina3=_nodeToDelete$origina2.summary_fields)===null||_nodeToDelete$origina3===void 0?void 0:_nodeToDelete$origina3.unified_job_template);var nodeName=nodeIdentifier||(unifiedJobTemplate===null||unifiedJobTemplate===void 0?void 0:unifiedJobTemplate.name);return/*#__PURE__*/_jsx(AlertModal,{variant:\"danger\",title:/*i18n*/i18n._(\"Remove Node {nodeName}\",{nodeName:nodeName}),isOpen:nodeToDelete,onClose:function onClose(){return dispatch({type:'SET_NODE_TO_DELETE',value:null});},actions:[/*#__PURE__*/_jsx(Button,{ouiaId:\"node-removal-confirm-button\",id:\"confirm-node-removal\",variant:\"danger\",\"aria-label\":/*i18n*/i18n._(\"Confirm node removal\"),onClick:function onClick(){return dispatch({type:'DELETE_NODE'});},children:/*i18n*/i18n._(\"Remove\")},\"remove\"),/*#__PURE__*/_jsx(Button,{ouiaId:\"node-removal-cancel-button\",id:\"cancel-node-removal\",variant:\"link\",\"aria-label\":/*i18n*/i18n._(\"Cancel node removal\"),onClick:function onClick(){return dispatch({type:'SET_NODE_TO_DELETE',value:null});},children:/*i18n*/i18n._(\"Cancel\")},\"cancel\")],children:nodeToDelete&&nodeToDelete.unifiedJobTemplate?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:/*i18n*/i18n._(\"Are you sure you want to remove the node below:\")}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(_StyledStrong,{children:nodeToDelete.unifiedJobTemplate.name})]}):/*#__PURE__*/_jsx(\"p\",{children:/*i18n*/i18n._(\"Are you sure you want to remove this node?\")})});}export default NodeDeleteModal;","map":{"version":3,"names":["React","useContext","Button","WorkflowDispatchContext","WorkflowStateContext","AlertModal","stringIsUUID","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","_StyledStrong","_styled","withConfig","displayName","componentId","NodeDeleteModal","_nodeToDelete$origina","_nodeToDelete$origina2","_nodeToDelete$origina3","dispatch","_useContext","nodeToDelete","identifier","originalNodeObject","nodeIdentifier","unifiedJobTemplate","fullUnifiedJobTemplate","summary_fields","unified_job_template","nodeName","name","variant","title","i18n","_","isOpen","onClose","type","value","actions","ouiaId","id","onClick","children"],"sources":["/awx_devel/awx/ui/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeDeleteModal.js"],"sourcesContent":["import 'styled-components/macro';\nimport React, { useContext } from 'react';\nimport { Button } from '@patternfly/react-core';\n\nimport { t } from '@lingui/macro';\nimport {\n  WorkflowDispatchContext,\n  WorkflowStateContext,\n} from 'contexts/Workflow';\nimport AlertModal from 'components/AlertModal';\nimport { stringIsUUID } from 'util/strings';\n\nfunction NodeDeleteModal() {\n  const dispatch = useContext(WorkflowDispatchContext);\n  const { nodeToDelete } = useContext(WorkflowStateContext);\n  const identifier = nodeToDelete?.originalNodeObject?.identifier;\n  const nodeIdentifier =\n    identifier && !stringIsUUID(identifier)\n      ? identifier\n      : nodeToDelete?.identifier;\n  const unifiedJobTemplate =\n    nodeToDelete?.fullUnifiedJobTemplate ||\n    nodeToDelete?.originalNodeObject?.summary_fields?.unified_job_template;\n  const nodeName = nodeIdentifier || unifiedJobTemplate?.name;\n  return (\n    <AlertModal\n      variant=\"danger\"\n      title={t`Remove Node ${nodeName}`}\n      isOpen={nodeToDelete}\n      onClose={() => dispatch({ type: 'SET_NODE_TO_DELETE', value: null })}\n      actions={[\n        <Button\n          ouiaId=\"node-removal-confirm-button\"\n          id=\"confirm-node-removal\"\n          key=\"remove\"\n          variant=\"danger\"\n          aria-label={t`Confirm node removal`}\n          onClick={() => dispatch({ type: 'DELETE_NODE' })}\n        >\n          {t`Remove`}\n        </Button>,\n        <Button\n          ouiaId=\"node-removal-cancel-button\"\n          id=\"cancel-node-removal\"\n          key=\"cancel\"\n          variant=\"link\"\n          aria-label={t`Cancel node removal`}\n          onClick={() => dispatch({ type: 'SET_NODE_TO_DELETE', value: null })}\n        >\n          {t`Cancel`}\n        </Button>,\n      ]}\n    >\n      {nodeToDelete && nodeToDelete.unifiedJobTemplate ? (\n        <>\n          <p>{t`Are you sure you want to remove the node below:`}</p>\n          <br />\n          <strong css=\"color: var(--pf-global--danger-color--100)\">\n            {nodeToDelete.unifiedJobTemplate.name}\n          </strong>\n        </>\n      ) : (\n        <p>{t`Are you sure you want to remove this node?`}</p>\n      )}\n    </AlertModal>\n  );\n}\n\nexport default NodeDeleteModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}