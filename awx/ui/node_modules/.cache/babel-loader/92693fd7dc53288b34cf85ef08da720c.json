{"ast":null,"code":"import * as React from 'react';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/Table/table';\nimport { SortColumn, SortByDirection } from '../../SortColumn';\nimport StarIcon from '@patternfly/react-icons/dist/esm/icons/star-icon';\nexport var sortableFavorites = function sortableFavorites(sort) {\n  return function () {\n    return sortable(React.createElement(StarIcon, {\n      \"aria-hidden\": true\n    }), {\n      columnIndex: sort.columnIndex,\n      className: styles.modifiers.favorite,\n      ariaLabel: 'Sort favorites',\n      column: {\n        extraParams: {\n          sortBy: sort.sortBy,\n          onSort: sort === null || sort === void 0 ? void 0 : sort.onSort\n        }\n      }\n    });\n  };\n};\nexport var sortable = function sortable(label, _ref) {\n  var columnIndex = _ref.columnIndex,\n    column = _ref.column,\n    property = _ref.property,\n    className = _ref.className,\n    ariaLabel = _ref.ariaLabel;\n  var _column$extraParams = column.extraParams,\n    sortBy = _column$extraParams.sortBy,\n    onSort = _column$extraParams.onSort;\n  var extraData = {\n    columnIndex: columnIndex,\n    column: column,\n    property: property\n  };\n  var isSortedBy = sortBy && columnIndex === sortBy.index;\n  /**\n   * @param {React.MouseEvent} event - React mouse event\n   */\n  function sortClicked(event) {\n    var reversedDirection;\n    if (!isSortedBy) {\n      reversedDirection = sortBy.defaultDirection ? sortBy.defaultDirection : SortByDirection.asc;\n    } else {\n      reversedDirection = sortBy.direction === SortByDirection.asc ? SortByDirection.desc : SortByDirection.asc;\n    }\n    // tslint:disable-next-line:no-unused-expression\n    onSort && onSort(event, columnIndex, reversedDirection, extraData);\n  }\n  return {\n    className: css(styles.tableSort, isSortedBy && styles.modifiers.selected, className),\n    'aria-sort': isSortedBy ? \"\".concat(sortBy.direction, \"ending\") : 'none',\n    children: React.createElement(SortColumn, {\n      isSortedBy: isSortedBy,\n      sortDirection: isSortedBy ? sortBy.direction : '',\n      onSort: sortClicked,\n      \"aria-label\": ariaLabel\n    }, label)\n  };\n};","map":{"version":3,"names":["React","css","styles","SortColumn","SortByDirection","StarIcon","sortableFavorites","sort","sortable","createElement","columnIndex","className","modifiers","favorite","ariaLabel","column","extraParams","sortBy","onSort","label","_ref","property","_column$extraParams","extraData","isSortedBy","index","sortClicked","event","reversedDirection","defaultDirection","asc","direction","desc","tableSort","selected","concat","children","sortDirection"],"sources":["/awx_devel/awx/ui/node_modules/@patternfly/react-table/src/components/Table/utils/decorators/sortable.tsx"],"sourcesContent":["import * as React from 'react';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/Table/table';\nimport { IExtra, IFormatterValueType, ITransform } from '../../TableTypes';\nimport { SortColumn, SortByDirection } from '../../SortColumn';\nimport StarIcon from '@patternfly/react-icons/dist/esm/icons/star-icon';\n\nexport const sortableFavorites = (sort: any) => () =>\n  sortable(<StarIcon aria-hidden />, {\n    columnIndex: sort.columnIndex,\n    className: styles.modifiers.favorite,\n    ariaLabel: 'Sort favorites',\n    column: {\n      extraParams: {\n        sortBy: sort.sortBy,\n        onSort: sort?.onSort\n      }\n    }\n  });\n\nexport const sortable: ITransform = (\n  label: IFormatterValueType,\n  { columnIndex, column, property, className, ariaLabel }: IExtra\n) => {\n  const {\n    extraParams: { sortBy, onSort }\n  } = column;\n\n  const extraData = {\n    columnIndex,\n    column,\n    property\n  };\n\n  const isSortedBy = sortBy && columnIndex === sortBy.index;\n  /**\n   * @param {React.MouseEvent} event - React mouse event\n   */\n  function sortClicked(event: React.MouseEvent) {\n    let reversedDirection: SortByDirection;\n    if (!isSortedBy) {\n      reversedDirection = sortBy.defaultDirection ? (sortBy.defaultDirection as SortByDirection) : SortByDirection.asc;\n    } else {\n      reversedDirection = sortBy.direction === SortByDirection.asc ? SortByDirection.desc : SortByDirection.asc;\n    }\n    // tslint:disable-next-line:no-unused-expression\n    onSort && onSort(event, columnIndex, reversedDirection, extraData);\n  }\n\n  return {\n    className: css(styles.tableSort, isSortedBy && styles.modifiers.selected, className),\n    'aria-sort': isSortedBy ? `${sortBy.direction}ending` : 'none',\n    children: (\n      <SortColumn\n        isSortedBy={isSortedBy}\n        sortDirection={isSortedBy ? sortBy.direction : ''}\n        onSort={sortClicked}\n        aria-label={ariaLabel}\n      >\n        {label as React.ReactNode}\n      </SortColumn>\n    )\n  };\n};\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,GAAG,QAAQ,0BAA0B;AAC9C,OAAOC,MAAM,MAAM,qDAAqD;AAExE,SAASC,UAAU,EAAEC,eAAe,QAAQ,kBAAkB;AAC9D,OAAOC,QAAQ,MAAM,kDAAkD;AAEvE,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIC,IAAS;EAAA,OAAK;IAAA,OAC9CC,QAAQ,CAACR,KAAA,CAAAS,aAAA,CAACJ,QAAQ;MAAA;IAAA,EAAe,EAAE;MACjCK,WAAW,EAAEH,IAAI,CAACG,WAAW;MAC7BC,SAAS,EAAET,MAAM,CAACU,SAAS,CAACC,QAAQ;MACpCC,SAAS,EAAE,gBAAgB;MAC3BC,MAAM,EAAE;QACNC,WAAW,EAAE;UACXC,MAAM,EAAEV,IAAI,CAACU,MAAM;UACnBC,MAAM,EAAEX,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEW;;;KAGnB,CAAC;EAAA;AAAA;AAEJ,OAAO,IAAMV,QAAQ,GAAe,SAAvBA,QAAQA,CACnBW,KAA0B,EAAAC,IAAA,EAExB;EAAA,IADAV,WAAW,GAAAU,IAAA,CAAXV,WAAW;IAAEK,MAAM,GAAAK,IAAA,CAANL,MAAM;IAAEM,QAAQ,GAAAD,IAAA,CAARC,QAAQ;IAAEV,SAAS,GAAAS,IAAA,CAATT,SAAS;IAAEG,SAAS,GAAAM,IAAA,CAATN,SAAS;EAErD,IAAAQ,mBAAA,GAEIP,MAAM,CADRC,WAAW;IAAIC,MAAM,GAAAK,mBAAA,CAANL,MAAM;IAAEC,MAAM,GAAAI,mBAAA,CAANJ,MAAM;EAG/B,IAAMK,SAAS,GAAG;IAChBb,WAAW,EAAXA,WAAW;IACXK,MAAM,EAANA,MAAM;IACNM,QAAQ,EAARA;GACD;EAED,IAAMG,UAAU,GAAGP,MAAM,IAAIP,WAAW,KAAKO,MAAM,CAACQ,KAAK;EACzD;;;EAGA,SAASC,WAAWA,CAACC,KAAuB;IAC1C,IAAIC,iBAAkC;IACtC,IAAI,CAACJ,UAAU,EAAE;MACfI,iBAAiB,GAAGX,MAAM,CAACY,gBAAgB,GAAIZ,MAAM,CAACY,gBAAoC,GAAGzB,eAAe,CAAC0B,GAAG;KACjH,MAAM;MACLF,iBAAiB,GAAGX,MAAM,CAACc,SAAS,KAAK3B,eAAe,CAAC0B,GAAG,GAAG1B,eAAe,CAAC4B,IAAI,GAAG5B,eAAe,CAAC0B,GAAG;;IAE3G;IACAZ,MAAM,IAAIA,MAAM,CAACS,KAAK,EAAEjB,WAAW,EAAEkB,iBAAiB,EAAEL,SAAS,CAAC;EACpE;EAEA,OAAO;IACLZ,SAAS,EAAEV,GAAG,CAACC,MAAM,CAAC+B,SAAS,EAAET,UAAU,IAAItB,MAAM,CAACU,SAAS,CAACsB,QAAQ,EAAEvB,SAAS,CAAC;IACpF,WAAW,EAAEa,UAAU,MAAAW,MAAA,CAAMlB,MAAM,CAACc,SAAS,cAAW,MAAM;IAC9DK,QAAQ,EACNpC,KAAA,CAAAS,aAAA,CAACN,UAAU;MACTqB,UAAU,EAAEA,UAAU;MACtBa,aAAa,EAAEb,UAAU,GAAGP,MAAM,CAACc,SAAS,GAAG,EAAE;MACjDb,MAAM,EAAEQ,WAAW;MAAA,cACPZ;IAAS,GAEpBK,KAAwB;GAG9B;AACH,CAAC"},"metadata":{},"sourceType":"module"}