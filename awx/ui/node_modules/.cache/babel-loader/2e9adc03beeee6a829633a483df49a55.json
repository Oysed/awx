{"ast":null,"code":"import _defineProperty from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{i18n}from\"@lingui/core\";import React,{useCallback,useState}from'react';import{Route,Switch,useLocation}from'react-router-dom';import ScreenHeader from'components/ScreenHeader';import PersistentFilters from'components/PersistentFilters';import InstanceGroupAdd from'./InstanceGroupAdd';import InstanceGroupList from'./InstanceGroupList';import InstanceGroup from'./InstanceGroup';import ContainerGroupAdd from'./ContainerGroupAdd';import ContainerGroup from'./ContainerGroup';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function InstanceGroups(){var _useLocation=useLocation(),pathname=_useLocation.pathname;var _useState=useState({'/instance_groups':/*i18n*/i18n._(\"Instance Groups\"),'/instance_groups/add':/*i18n*/i18n._(\"Create new instance group\"),'/instance_groups/container_group/add':/*i18n*/i18n._(\"Create new container group\")}),_useState2=_slicedToArray(_useState,2),breadcrumbConfig=_useState2[0],setBreadcrumbConfig=_useState2[1];var buildBreadcrumbConfig=useCallback(function(instanceGroups,instance){var _setBreadcrumbConfig;if(!instanceGroups){return;}setBreadcrumbConfig((_setBreadcrumbConfig={'/instance_groups':/*i18n*/i18n._(\"Instance Groups\"),'/instance_groups/add':/*i18n*/i18n._(\"Create new instance group\"),'/instance_groups/container_group/add':/*i18n*/i18n._(\"Create new container group\")},_defineProperty(_setBreadcrumbConfig,\"/instance_groups/\".concat(instanceGroups.id,\"/details\"),/*i18n*/i18n._(\"Details\")),_defineProperty(_setBreadcrumbConfig,\"/instance_groups/\".concat(instanceGroups.id,\"/instances\"),/*i18n*/i18n._(\"Instances\")),_defineProperty(_setBreadcrumbConfig,\"/instance_groups/\".concat(instanceGroups.id,\"/instances/\").concat(instance===null||instance===void 0?void 0:instance.id),\"\".concat(instance===null||instance===void 0?void 0:instance.hostname)),_defineProperty(_setBreadcrumbConfig,\"/instance_groups/\".concat(instanceGroups.id,\"/instances/\").concat(instance===null||instance===void 0?void 0:instance.id,\"/details\"),/*i18n*/i18n._(\"Instance details\")),_defineProperty(_setBreadcrumbConfig,\"/instance_groups/\".concat(instanceGroups.id,\"/jobs\"),/*i18n*/i18n._(\"Jobs\")),_defineProperty(_setBreadcrumbConfig,\"/instance_groups/\".concat(instanceGroups.id,\"/edit\"),/*i18n*/i18n._(\"Edit details\")),_defineProperty(_setBreadcrumbConfig,\"/instance_groups/\".concat(instanceGroups.id),\"\".concat(instanceGroups.name)),_defineProperty(_setBreadcrumbConfig,\"/instance_groups/container_group/\".concat(instanceGroups.id,\"/details\"),/*i18n*/i18n._(\"Details\")),_defineProperty(_setBreadcrumbConfig,\"/instance_groups/container_group/\".concat(instanceGroups.id,\"/jobs\"),/*i18n*/i18n._(\"Jobs\")),_defineProperty(_setBreadcrumbConfig,\"/instance_groups/container_group/\".concat(instanceGroups.id,\"/edit\"),/*i18n*/i18n._(\"Edit details\")),_defineProperty(_setBreadcrumbConfig,\"/instance_groups/container_group/\".concat(instanceGroups.id),\"\".concat(instanceGroups.name)),_setBreadcrumbConfig));},[]);var streamType=pathname.includes('instances')?'instance':'instance_group';return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ScreenHeader,{streamType:streamType,breadcrumbConfig:breadcrumbConfig}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/instance_groups/container_group/add\",children:/*#__PURE__*/_jsx(ContainerGroupAdd,{})}),/*#__PURE__*/_jsx(Route,{path:\"/instance_groups/container_group/:id\",children:/*#__PURE__*/_jsx(ContainerGroup,{setBreadcrumb:buildBreadcrumbConfig})}),/*#__PURE__*/_jsx(Route,{path:\"/instance_groups/add\",children:/*#__PURE__*/_jsx(InstanceGroupAdd,{})}),/*#__PURE__*/_jsx(Route,{path:\"/instance_groups/:id\",children:/*#__PURE__*/_jsx(InstanceGroup,{setBreadcrumb:buildBreadcrumbConfig})}),/*#__PURE__*/_jsx(Route,{path:\"/instance_groups\",children:/*#__PURE__*/_jsx(PersistentFilters,{pageKey:\"instanceGroups\",children:/*#__PURE__*/_jsx(InstanceGroupList,{})})})]})]});}export default InstanceGroups;","map":{"version":3,"names":["React","useCallback","useState","Route","Switch","useLocation","ScreenHeader","PersistentFilters","InstanceGroupAdd","InstanceGroupList","InstanceGroup","ContainerGroupAdd","ContainerGroup","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","InstanceGroups","_useLocation","pathname","_useState","i18n","_","_useState2","_slicedToArray","breadcrumbConfig","setBreadcrumbConfig","buildBreadcrumbConfig","instanceGroups","instance","_setBreadcrumbConfig","_defineProperty","concat","id","hostname","name","streamType","includes","children","path","setBreadcrumb","pageKey"],"sources":["/awx_devel/awx/ui/src/screens/InstanceGroup/InstanceGroups.js"],"sourcesContent":["import React, { useCallback, useState } from 'react';\n\nimport { t } from '@lingui/macro';\nimport { Route, Switch, useLocation } from 'react-router-dom';\nimport ScreenHeader from 'components/ScreenHeader';\nimport PersistentFilters from 'components/PersistentFilters';\nimport InstanceGroupAdd from './InstanceGroupAdd';\nimport InstanceGroupList from './InstanceGroupList';\nimport InstanceGroup from './InstanceGroup';\nimport ContainerGroupAdd from './ContainerGroupAdd';\nimport ContainerGroup from './ContainerGroup';\n\nfunction InstanceGroups() {\n  const { pathname } = useLocation();\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/instance_groups': t`Instance Groups`,\n    '/instance_groups/add': t`Create new instance group`,\n    '/instance_groups/container_group/add': t`Create new container group`,\n  });\n\n  const buildBreadcrumbConfig = useCallback((instanceGroups, instance) => {\n    if (!instanceGroups) {\n      return;\n    }\n    setBreadcrumbConfig({\n      '/instance_groups': t`Instance Groups`,\n      '/instance_groups/add': t`Create new instance group`,\n      '/instance_groups/container_group/add': t`Create new container group`,\n\n      [`/instance_groups/${instanceGroups.id}/details`]: t`Details`,\n      [`/instance_groups/${instanceGroups.id}/instances`]: t`Instances`,\n      [`/instance_groups/${instanceGroups.id}/instances/${instance?.id}`]: `${instance?.hostname}`,\n      [`/instance_groups/${instanceGroups.id}/instances/${instance?.id}/details`]: t`Instance details`,\n      [`/instance_groups/${instanceGroups.id}/jobs`]: t`Jobs`,\n      [`/instance_groups/${instanceGroups.id}/edit`]: t`Edit details`,\n      [`/instance_groups/${instanceGroups.id}`]: `${instanceGroups.name}`,\n\n      [`/instance_groups/container_group/${instanceGroups.id}/details`]: t`Details`,\n      [`/instance_groups/container_group/${instanceGroups.id}/jobs`]: t`Jobs`,\n      [`/instance_groups/container_group/${instanceGroups.id}/edit`]: t`Edit details`,\n      [`/instance_groups/container_group/${instanceGroups.id}`]: `${instanceGroups.name}`,\n    });\n  }, []);\n\n  const streamType = pathname.includes('instances')\n    ? 'instance'\n    : 'instance_group';\n\n  return (\n    <>\n      <ScreenHeader\n        streamType={streamType}\n        breadcrumbConfig={breadcrumbConfig}\n      />\n      <Switch>\n        <Route path=\"/instance_groups/container_group/add\">\n          <ContainerGroupAdd />\n        </Route>\n        <Route path=\"/instance_groups/container_group/:id\">\n          <ContainerGroup setBreadcrumb={buildBreadcrumbConfig} />\n        </Route>\n        <Route path=\"/instance_groups/add\">\n          <InstanceGroupAdd />\n        </Route>\n        <Route path=\"/instance_groups/:id\">\n          <InstanceGroup setBreadcrumb={buildBreadcrumbConfig} />\n        </Route>\n        <Route path=\"/instance_groups\">\n          <PersistentFilters pageKey=\"instanceGroups\">\n            <InstanceGroupList />\n          </PersistentFilters>\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport default InstanceGroups;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}