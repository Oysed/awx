{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{i18n}from\"@lingui/core\";import React,{useEffect}from'react';import{useField}from'formik';import{FormGroup}from'@patternfly/react-core';import{minMaxValue,regExp}from'util/validators';import AnsibleSelect from'components/AnsibleSelect';import{VariablesField}from'components/CodeEditor';import FormField,{CheckboxField}from'components/FormField';import{FormFullWidthLayout,FormCheckboxLayout}from'components/FormLayout';import Popover from'components/Popover';import getHelpText from'../Inventory.helptext';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var SourceVarsField=function SourceVarsField(_ref){var popoverContent=_ref.popoverContent;var helpText=getHelpText();return/*#__PURE__*/_jsx(FormFullWidthLayout,{children:/*#__PURE__*/_jsx(VariablesField,{id:\"source_vars\",name:\"source_vars\",label:/*i18n*/i18n._(\"Source variables\"),tooltip:/*#__PURE__*/_jsxs(_Fragment,{children:[popoverContent,helpText.variables()]})})});};export var VerbosityField=function VerbosityField(){var helpText=getHelpText();var _useField=useField('verbosity'),_useField2=_slicedToArray(_useField,3),field=_useField2[0],meta=_useField2[1],helpers=_useField2[2];var isValid=!(meta.touched&&meta.error);var options=[{value:'0',key:'0',label:/*i18n*/i18n._(\"0 (Warning)\")},{value:'1',key:'1',label:/*i18n*/i18n._(\"1 (Info)\")},{value:'2',key:'2',label:/*i18n*/i18n._(\"2 (Debug)\")}];return/*#__PURE__*/_jsx(FormGroup,{fieldId:\"verbosity\",validated:isValid?'default':'error',label:/*i18n*/i18n._(\"Verbosity\"),labelIcon:/*#__PURE__*/_jsx(Popover,{content:helpText.subFormVerbosityFields}),children:/*#__PURE__*/_jsx(AnsibleSelect,_objectSpread(_objectSpread({id:\"verbosity\",data:options},field),{},{onChange:function onChange(event,value){return helpers.setValue(value);}}))});};export var OptionsField=function OptionsField(){var helpText=getHelpText();var _useField3=useField('update_on_launch'),_useField4=_slicedToArray(_useField3,1),updateOnLaunchField=_useField4[0];var _useField5=useField('update_cache_timeout'),_useField6=_slicedToArray(_useField5,3),updateCacheTimeoutHelper=_useField6[2];var _useField7=useField('source_project'),_useField8=_slicedToArray(_useField7,1),projectField=_useField8[0];useEffect(function(){if(!updateOnLaunchField.value){updateCacheTimeoutHelper.setValue(0);}},[updateOnLaunchField.value]);// eslint-disable-line react-hooks/exhaustive-deps\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FormFullWidthLayout,{children:/*#__PURE__*/_jsx(FormGroup,{fieldId:\"option-checkboxes\",label:/*i18n*/i18n._(\"Update options\"),children:/*#__PURE__*/_jsxs(FormCheckboxLayout,{children:[/*#__PURE__*/_jsx(CheckboxField,{id:\"overwrite\",name:\"overwrite\",label:/*i18n*/i18n._(\"Overwrite\"),tooltip:helpText.subFormOptions.overwrite}),/*#__PURE__*/_jsx(CheckboxField,{id:\"overwrite_vars\",name:\"overwrite_vars\",label:/*i18n*/i18n._(\"Overwrite variables\"),tooltip:helpText.subFormOptions.overwriteVariables}),/*#__PURE__*/_jsx(CheckboxField,{id:\"update_on_launch\",name:\"update_on_launch\",label:/*i18n*/i18n._(\"Update on launch\"),tooltip:helpText.subFormOptions.updateOnLaunch(projectField)})]})})}),updateOnLaunchField.value&&/*#__PURE__*/_jsx(FormField,{id:\"cache-timeout\",name:\"update_cache_timeout\",type:\"number\",min:\"0\",max:\"2147483647\",validate:minMaxValue(0,2147483647),label:/*i18n*/i18n._(\"Cache timeout (seconds)\"),tooltip:helpText.cachedTimeOut})]});};export var EnabledVarField=function EnabledVarField(){var helpText=getHelpText();return/*#__PURE__*/_jsx(FormField,{id:\"inventory-enabled-var\",label:/*i18n*/i18n._(\"Enabled Variable\"),tooltip:helpText.enabledVariableField,name:\"enabled_var\",type:\"text\"});};export var EnabledValueField=function EnabledValueField(){var helpText=getHelpText();return/*#__PURE__*/_jsx(FormField,{id:\"inventory-enabled-value\",label:/*i18n*/i18n._(\"Enabled Value\"),tooltip:helpText.enabledValue,name:\"enabled_value\",type:\"text\"});};export var HostFilterField=function HostFilterField(){var helpText=getHelpText();return/*#__PURE__*/_jsx(FormField,{id:\"host-filter\",label:/*i18n*/i18n._(\"Host Filter\"),tooltip:helpText.hostFilter,name:\"host_filter\",type:\"text\",validate:regExp()});};","map":{"version":3,"names":["React","useEffect","useField","FormGroup","minMaxValue","regExp","AnsibleSelect","VariablesField","FormField","CheckboxField","FormFullWidthLayout","FormCheckboxLayout","Popover","getHelpText","Fragment","_Fragment","jsxs","_jsxs","jsx","_jsx","SourceVarsField","_ref","popoverContent","helpText","children","id","name","label","i18n","_","tooltip","variables","VerbosityField","_useField","_useField2","_slicedToArray","field","meta","helpers","isValid","touched","error","options","value","key","fieldId","validated","labelIcon","content","subFormVerbosityFields","_objectSpread","data","onChange","event","setValue","OptionsField","_useField3","_useField4","updateOnLaunchField","_useField5","_useField6","updateCacheTimeoutHelper","_useField7","_useField8","projectField","subFormOptions","overwrite","overwriteVariables","updateOnLaunch","type","min","max","validate","cachedTimeOut","EnabledVarField","enabledVariableField","EnabledValueField","enabledValue","HostFilterField","hostFilter"],"sources":["/awx_devel/awx/ui/src/screens/Inventory/shared/InventorySourceSubForms/SharedFields.js"],"sourcesContent":["import React, { useEffect } from 'react';\n\nimport { t } from '@lingui/macro';\nimport { useField } from 'formik';\nimport { FormGroup } from '@patternfly/react-core';\nimport { minMaxValue, regExp } from 'util/validators';\nimport AnsibleSelect from 'components/AnsibleSelect';\nimport { VariablesField } from 'components/CodeEditor';\nimport FormField, { CheckboxField } from 'components/FormField';\nimport { FormFullWidthLayout, FormCheckboxLayout } from 'components/FormLayout';\nimport Popover from 'components/Popover';\nimport getHelpText from '../Inventory.helptext';\n\nexport const SourceVarsField = ({ popoverContent }) => {\n  const helpText = getHelpText();\n  return (\n    <FormFullWidthLayout>\n      <VariablesField\n        id=\"source_vars\"\n        name=\"source_vars\"\n        label={t`Source variables`}\n        tooltip={\n          <>\n            {popoverContent}\n            {helpText.variables()}\n          </>\n        }\n      />\n    </FormFullWidthLayout>\n  );\n};\n\nexport const VerbosityField = () => {\n  const helpText = getHelpText();\n  const [field, meta, helpers] = useField('verbosity');\n  const isValid = !(meta.touched && meta.error);\n  const options = [\n    { value: '0', key: '0', label: t`0 (Warning)` },\n    { value: '1', key: '1', label: t`1 (Info)` },\n    { value: '2', key: '2', label: t`2 (Debug)` },\n  ];\n\n  return (\n    <FormGroup\n      fieldId=\"verbosity\"\n      validated={isValid ? 'default' : 'error'}\n      label={t`Verbosity`}\n      labelIcon={<Popover content={helpText.subFormVerbosityFields} />}\n    >\n      <AnsibleSelect\n        id=\"verbosity\"\n        data={options}\n        {...field}\n        onChange={(event, value) => helpers.setValue(value)}\n      />\n    </FormGroup>\n  );\n};\n\nexport const OptionsField = () => {\n  const helpText = getHelpText();\n  const [updateOnLaunchField] = useField('update_on_launch');\n  const [, , updateCacheTimeoutHelper] = useField('update_cache_timeout');\n  const [projectField] = useField('source_project');\n\n  useEffect(() => {\n    if (!updateOnLaunchField.value) {\n      updateCacheTimeoutHelper.setValue(0);\n    }\n  }, [updateOnLaunchField.value]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      <FormFullWidthLayout>\n        <FormGroup fieldId=\"option-checkboxes\" label={t`Update options`}>\n          <FormCheckboxLayout>\n            <CheckboxField\n              id=\"overwrite\"\n              name=\"overwrite\"\n              label={t`Overwrite`}\n              tooltip={helpText.subFormOptions.overwrite}\n            />\n            <CheckboxField\n              id=\"overwrite_vars\"\n              name=\"overwrite_vars\"\n              label={t`Overwrite variables`}\n              tooltip={helpText.subFormOptions.overwriteVariables}\n            />\n            <CheckboxField\n              id=\"update_on_launch\"\n              name=\"update_on_launch\"\n              label={t`Update on launch`}\n              tooltip={helpText.subFormOptions.updateOnLaunch(projectField)}\n            />\n          </FormCheckboxLayout>\n        </FormGroup>\n      </FormFullWidthLayout>\n      {updateOnLaunchField.value && (\n        <FormField\n          id=\"cache-timeout\"\n          name=\"update_cache_timeout\"\n          type=\"number\"\n          min=\"0\"\n          max=\"2147483647\"\n          validate={minMaxValue(0, 2147483647)}\n          label={t`Cache timeout (seconds)`}\n          tooltip={helpText.cachedTimeOut}\n        />\n      )}\n    </>\n  );\n};\n\nexport const EnabledVarField = () => {\n  const helpText = getHelpText();\n  return (\n    <FormField\n      id=\"inventory-enabled-var\"\n      label={t`Enabled Variable`}\n      tooltip={helpText.enabledVariableField}\n      name=\"enabled_var\"\n      type=\"text\"\n    />\n  );\n};\n\nexport const EnabledValueField = () => {\n  const helpText = getHelpText();\n  return (\n    <FormField\n      id=\"inventory-enabled-value\"\n      label={t`Enabled Value`}\n      tooltip={helpText.enabledValue}\n      name=\"enabled_value\"\n      type=\"text\"\n    />\n  );\n};\n\nexport const HostFilterField = () => {\n  const helpText = getHelpText();\n  return (\n    <FormField\n      id=\"host-filter\"\n      label={t`Host Filter`}\n      tooltip={helpText.hostFilter}\n      name=\"host_filter\"\n      type=\"text\"\n      validate={regExp()}\n    />\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}