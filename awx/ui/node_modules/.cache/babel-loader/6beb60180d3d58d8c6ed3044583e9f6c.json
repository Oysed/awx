{"ast":null,"code":"import{i18n}from\"@lingui/core\";/* eslint-disable react/jsx-no-useless-fragment */import React from'react';import{Link,Redirect}from'react-router-dom';import{Title,EmptyState,EmptyStateIcon,EmptyStateBody}from'@patternfly/react-core';import{ExclamationTriangleIcon}from'@patternfly/react-icons';import{useSession}from'contexts/Session';import ErrorDetail from'../ErrorDetail';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ContentError(_ref){var error=_ref.error,children=_ref.children,isNotFound=_ref.isNotFound;var _useSession=useSession(),logout=_useSession.logout;if(error&&error.response&&error.response.status===401){if(!error.response.headers['session-timeout']){logout();return null;}}var is404=isNotFound||error&&error.response&&error.response.status===404;var is401=error&&error.response&&error.response.status===401;return/*#__PURE__*/_jsx(_Fragment,{children:is401?/*#__PURE__*/_jsx(Redirect,{to:\"/login\"}):/*#__PURE__*/_jsxs(EmptyState,{variant:\"full\",children:[/*#__PURE__*/_jsx(EmptyStateIcon,{icon:ExclamationTriangleIcon}),/*#__PURE__*/_jsx(Title,{size:\"lg\",headingLevel:\"h3\",children:is404?/*i18n*/i18n._(\"Not Found\"):/*i18n*/i18n._(\"Something went wrong...\")}),/*#__PURE__*/_jsxs(EmptyStateBody,{children:[is404?/*i18n*/i18n._(\"The page you requested could not be found.\"):/*i18n*/i18n._(\"There was an error loading this content. Please reload the page.\"),' ',children||/*#__PURE__*/_jsx(Link,{to:\"/home\",children:/*i18n*/i18n._(\"Back to Dashboard.\")})]}),error&&/*#__PURE__*/_jsx(ErrorDetail,{error:error})]})});}ContentError.defaultProps={error:null,isNotFound:false};export{ContentError as _ContentError};export default ContentError;","map":{"version":3,"names":["React","Link","Redirect","Title","EmptyState","EmptyStateIcon","EmptyStateBody","ExclamationTriangleIcon","useSession","ErrorDetail","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ContentError","_ref","error","children","isNotFound","_useSession","logout","response","status","headers","is404","is401","to","variant","icon","size","headingLevel","i18n","_","defaultProps","_ContentError"],"sources":["/awx_devel/awx/ui/src/components/ContentError/ContentError.js"],"sourcesContent":["/* eslint-disable react/jsx-no-useless-fragment */\nimport React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { bool, instanceOf } from 'prop-types';\nimport { t } from '@lingui/macro';\n\nimport {\n  Title,\n  EmptyState,\n  EmptyStateIcon,\n  EmptyStateBody,\n} from '@patternfly/react-core';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\nimport { useSession } from 'contexts/Session';\nimport ErrorDetail from '../ErrorDetail';\n\nfunction ContentError({ error, children, isNotFound }) {\n  const { logout } = useSession();\n\n  if (error && error.response && error.response.status === 401) {\n    if (!error.response.headers['session-timeout']) {\n      logout();\n      return null;\n    }\n  }\n  const is404 =\n    isNotFound || (error && error.response && error.response.status === 404);\n  const is401 = error && error.response && error.response.status === 401;\n  return (\n    <>\n      {is401 ? (\n        <Redirect to=\"/login\" />\n      ) : (\n        <EmptyState variant=\"full\">\n          <EmptyStateIcon icon={ExclamationTriangleIcon} />\n          <Title size=\"lg\" headingLevel=\"h3\">\n            {is404 ? t`Not Found` : t`Something went wrong...`}\n          </Title>\n          <EmptyStateBody>\n            {is404\n              ? t`The page you requested could not be found.`\n              : t`There was an error loading this content. Please reload the page.`}{' '}\n            {children || <Link to=\"/home\">{t`Back to Dashboard.`}</Link>}\n          </EmptyStateBody>\n          {error && <ErrorDetail error={error} />}\n        </EmptyState>\n      )}\n    </>\n  );\n}\nContentError.propTypes = {\n  error: instanceOf(Error),\n  isNotFound: bool,\n};\nContentError.defaultProps = {\n  error: null,\n  isNotFound: false,\n};\n\nexport { ContentError as _ContentError };\nexport default ContentError;\n"],"mappings":"+BAAA,kDACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,CAAEC,QAAQ,KAAQ,kBAAkB,CAIjD,OACEC,KAAK,CACLC,UAAU,CACVC,cAAc,CACdC,cAAc,KACT,wBAAwB,CAC/B,OAASC,uBAAuB,KAAQ,yBAAyB,CACjE,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,MAAO,CAAAC,WAAW,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEzC,QAAS,CAAAC,YAAYA,CAAAC,IAAA,CAAkC,IAA/B,CAAAC,KAAK,CAAAD,IAAA,CAALC,KAAK,CAAEC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CAAEC,UAAU,CAAAH,IAAA,CAAVG,UAAU,CACjD,IAAAC,WAAA,CAAmBb,UAAU,CAAC,CAAC,CAAvBc,MAAM,CAAAD,WAAA,CAANC,MAAM,CAEd,GAAIJ,KAAK,EAAIA,KAAK,CAACK,QAAQ,EAAIL,KAAK,CAACK,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CAC5D,GAAI,CAACN,KAAK,CAACK,QAAQ,CAACE,OAAO,CAAC,iBAAiB,CAAC,CAAE,CAC9CH,MAAM,CAAC,CAAC,CACR,MAAO,KAAI,CACb,CACF,CACA,GAAM,CAAAI,KAAK,CACTN,UAAU,EAAKF,KAAK,EAAIA,KAAK,CAACK,QAAQ,EAAIL,KAAK,CAACK,QAAQ,CAACC,MAAM,GAAK,GAAI,CAC1E,GAAM,CAAAG,KAAK,CAAGT,KAAK,EAAIA,KAAK,CAACK,QAAQ,EAAIL,KAAK,CAACK,QAAQ,CAACC,MAAM,GAAK,GAAG,CACtE,mBACEb,IAAA,CAAAI,SAAA,EAAAI,QAAA,CACGQ,KAAK,cACJhB,IAAA,CAACT,QAAQ,EAAC0B,EAAE,CAAC,QAAQ,CAAE,CAAC,cAExBf,KAAA,CAACT,UAAU,EAACyB,OAAO,CAAC,MAAM,CAAAV,QAAA,eACxBR,IAAA,CAACN,cAAc,EAACyB,IAAI,CAAEvB,uBAAwB,CAAE,CAAC,cACjDI,IAAA,CAACR,KAAK,EAAC4B,IAAI,CAAC,IAAI,CAACC,YAAY,CAAC,IAAI,CAAAb,QAAA,CAC/BO,KAAK,SAAGO,IAAA,CAAAC,CAAA,YAAW,CAAC,SAAGD,IAAA,CAAAC,CAAA,0BAAyB,CAAC,CAC7C,CAAC,cACRrB,KAAA,CAACP,cAAc,EAAAa,QAAA,EACZO,KAAK,SACFO,IAAA,CAAAC,CAAA,6CAA4C,CAAC,SAC7CD,IAAA,CAAAC,CAAA,mEAAkE,CAAC,CAAE,GAAG,CAC3Ef,QAAQ,eAAIR,IAAA,CAACV,IAAI,EAAC2B,EAAE,CAAC,OAAO,CAAAT,QAAA,SAAEc,IAAA,CAAAC,CAAA,qBAAoB,CAAC,CAAO,CAAC,EAC9C,CAAC,CAChBhB,KAAK,eAAIP,IAAA,CAACF,WAAW,EAACS,KAAK,CAAEA,KAAM,CAAE,CAAC,EAC7B,CACb,CACD,CAAC,CAEP,CAKAF,YAAY,CAACmB,YAAY,CAAG,CAC1BjB,KAAK,CAAE,IAAI,CACXE,UAAU,CAAE,KACd,CAAC,CAED,OAASJ,YAAY,GAAI,CAAAoB,aAAa,EACtC,cAAe,CAAApB,YAAY"},"metadata":{},"sourceType":"module"}