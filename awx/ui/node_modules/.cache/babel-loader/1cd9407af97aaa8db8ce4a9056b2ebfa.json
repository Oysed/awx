{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import{CardBody}from'components/Card';import HostForm from'components/HostForm';import{GroupsAPI}from'api';import{jsx as _jsx}from\"react/jsx-runtime\";function InventoryGroupHostAdd(_ref){var inventoryGroup=_ref.inventoryGroup;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),formError=_useState2[0],setFormError=_useState2[1];var baseUrl=\"/inventories/inventory/\".concat(inventoryGroup.inventory);var history=useHistory();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(formData){var values,_yield$GroupsAPI$crea,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;values=_objectSpread(_objectSpread({},formData),{},{inventory:inventoryGroup.inventory});_context.next=4;return GroupsAPI.createHost(inventoryGroup.id,values);case 4:_yield$GroupsAPI$crea=_context.sent;response=_yield$GroupsAPI$crea.data;history.push(\"\".concat(baseUrl,\"/hosts/\").concat(response.id,\"/details\"));_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);setFormError(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handleCancel=function handleCancel(){history.push(\"\".concat(baseUrl,\"/groups/\").concat(inventoryGroup.id,\"/nested_hosts\"));};return/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(HostForm,{handleSubmit:handleSubmit,handleCancel:handleCancel,isInventoryVisible:false,submitError:formError})});}export default InventoryGroupHostAdd;","map":{"version":3,"names":["React","useState","useHistory","CardBody","HostForm","GroupsAPI","jsx","_jsx","InventoryGroupHostAdd","_ref","inventoryGroup","_useState","_useState2","_slicedToArray","formError","setFormError","baseUrl","concat","inventory","history","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","values","_yield$GroupsAPI$crea","response","wrap","_callee$","_context","prev","next","_objectSpread","createHost","id","sent","data","push","t0","stop","_x","apply","arguments","handleCancel","children","isInventoryVisible","submitError"],"sources":["/awx_devel/awx/ui/src/screens/Inventory/InventoryGroupHostAdd/InventoryGroupHostAdd.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { CardBody } from 'components/Card';\nimport HostForm from 'components/HostForm';\n\nimport { GroupsAPI } from 'api';\n\nfunction InventoryGroupHostAdd({ inventoryGroup }) {\n  const [formError, setFormError] = useState(null);\n  const baseUrl = `/inventories/inventory/${inventoryGroup.inventory}`;\n  const history = useHistory();\n\n  const handleSubmit = async (formData) => {\n    try {\n      const values = {\n        ...formData,\n        inventory: inventoryGroup.inventory,\n      };\n\n      const { data: response } = await GroupsAPI.createHost(\n        inventoryGroup.id,\n        values\n      );\n      history.push(`${baseUrl}/hosts/${response.id}/details`);\n    } catch (error) {\n      setFormError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`${baseUrl}/groups/${inventoryGroup.id}/nested_hosts`);\n  };\n\n  return (\n    <CardBody>\n      <HostForm\n        handleSubmit={handleSubmit}\n        handleCancel={handleCancel}\n        isInventoryVisible={false}\n        submitError={formError}\n      />\n    </CardBody>\n  );\n}\n\nexport default InventoryGroupHostAdd;\n"],"mappings":"8ZAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,MAAO,CAAAC,QAAQ,KAAM,qBAAqB,CAE1C,OAASC,SAAS,KAAQ,KAAK,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEhC,QAAS,CAAAC,qBAAqBA,CAAAC,IAAA,CAAqB,IAAlB,CAAAC,cAAc,CAAAD,IAAA,CAAdC,cAAc,CAC7C,IAAAC,SAAA,CAAkCV,QAAQ,CAAC,IAAI,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,GAAM,CAAAI,OAAO,2BAAAC,MAAA,CAA6BP,cAAc,CAACQ,SAAS,CAAE,CACpE,GAAM,CAAAC,OAAO,CAAGjB,UAAU,CAAC,CAAC,CAE5B,GAAM,CAAAkB,YAAY,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAOC,QAAQ,MAAAC,MAAA,CAAAC,qBAAA,CAAAC,QAAA,QAAAN,mBAAA,CAAAO,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAE1BN,MAAM,CAAAQ,aAAA,CAAAA,aAAA,IACPT,QAAQ,MACXR,SAAS,CAAER,cAAc,CAACQ,SAAS,GAAAc,QAAA,CAAAE,IAAA,SAGJ,CAAA7B,SAAS,CAAC+B,UAAU,CACnD1B,cAAc,CAAC2B,EAAE,CACjBV,MACF,CAAC,QAAAC,qBAAA,CAAAI,QAAA,CAAAM,IAAA,CAHaT,QAAQ,CAAAD,qBAAA,CAAdW,IAAI,CAIZpB,OAAO,CAACqB,IAAI,IAAAvB,MAAA,CAAID,OAAO,YAAAC,MAAA,CAAUY,QAAQ,CAACQ,EAAE,YAAU,CAAC,CAACL,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAS,EAAA,CAAAT,QAAA,aAExDjB,YAAY,CAAAiB,QAAA,CAAAS,EAAM,CAAC,CAAC,yBAAAT,QAAA,CAAAU,IAAA,OAAAjB,OAAA,gBAEvB,kBAfK,CAAAL,YAAYA,CAAAuB,EAAA,SAAAtB,KAAA,CAAAuB,KAAA,MAAAC,SAAA,OAejB,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzB3B,OAAO,CAACqB,IAAI,IAAAvB,MAAA,CAAID,OAAO,aAAAC,MAAA,CAAWP,cAAc,CAAC2B,EAAE,iBAAe,CAAC,CACrE,CAAC,CAED,mBACE9B,IAAA,CAACJ,QAAQ,EAAA4C,QAAA,cACPxC,IAAA,CAACH,QAAQ,EACPgB,YAAY,CAAEA,YAAa,CAC3B0B,YAAY,CAAEA,YAAa,CAC3BE,kBAAkB,CAAE,KAAM,CAC1BC,WAAW,CAAEnC,SAAU,CACxB,CAAC,CACM,CAAC,CAEf,CAEA,cAAe,CAAAN,qBAAqB"},"metadata":{},"sourceType":"module"}