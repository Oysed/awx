{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import{i18n}from\"@lingui/core\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import{AdHocCommandsAPI,InventorySourcesAPI,JobsAPI,JobTemplatesAPI,ProjectsAPI,WorkflowJobsAPI,WorkflowJobTemplatesAPI}from'api';import useToast,{AlertVariant}from'hooks/useToast';import AlertModal from'../AlertModal';import ErrorDetail from'../ErrorDetail';import LaunchPrompt from'../LaunchPrompt';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function canLaunchWithoutPrompt(launchData){return launchData.can_start_without_user_input&&!launchData.ask_inventory_on_launch&&!launchData.ask_variables_on_launch&&!launchData.ask_limit_on_launch&&!launchData.ask_scm_branch_on_launch&&!launchData.ask_execution_environment_on_launch&&!launchData.ask_labels_on_launch&&!launchData.ask_forks_on_launch&&!launchData.ask_job_slice_count_on_launch&&!launchData.ask_timeout_on_launch&&!launchData.ask_instance_groups_on_launch&&!launchData.survey_enabled&&(!launchData.passwords_needed_to_start||launchData.passwords_needed_to_start.length===0)&&(!launchData.variables_needed_to_start||launchData.variables_needed_to_start.length===0);}function LaunchButton(_ref){var resource=_ref.resource,children=_ref.children;var history=useHistory();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showLaunchPrompt=_useState2[0],setShowLaunchPrompt=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),launchConfig=_useState4[0],setLaunchConfig=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),surveyConfig=_useState6[0],setSurveyConfig=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),labels=_useState8[0],setLabels=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isLaunching=_useState10[0],setIsLaunching=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),resourceCredentials=_useState12[0],setResourceCredentials=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),error=_useState14[0],setError=_useState14[1];var _useToast=useToast(),addToast=_useToast.addToast,Toast=_useToast.Toast,toastProps=_useToast.toastProps;var showToast=function showToast(){addToast({id:resource.id,title:/*i18n*/i18n._(\"A job has already been launched\"),variant:AlertVariant.info,hasTimeout:true});};var handleLaunch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var readLaunch,readSurvey,readLabels,_yield$readLaunch,launch,_yield$readSurvey,data,_yield$readLabels,results,allLabels,_yield$JobTemplatesAP,templateCredentials;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!isLaunching){_context.next=3;break;}showToast();return _context.abrupt(\"return\");case 3:setIsLaunching(true);readLaunch=resource.type==='workflow_job_template'?WorkflowJobTemplatesAPI.readLaunch(resource.id):JobTemplatesAPI.readLaunch(resource.id);readSurvey=resource.type==='workflow_job_template'?WorkflowJobTemplatesAPI.readSurvey(resource.id):JobTemplatesAPI.readSurvey(resource.id);readLabels=resource.type==='workflow_job_template'?WorkflowJobTemplatesAPI.readAllLabels(resource.id):JobTemplatesAPI.readAllLabels(resource.id);_context.prev=7;_context.next=10;return readLaunch;case 10:_yield$readLaunch=_context.sent;launch=_yield$readLaunch.data;setLaunchConfig(launch);if(!launch.survey_enabled){_context.next=19;break;}_context.next=16;return readSurvey;case 16:_yield$readSurvey=_context.sent;data=_yield$readSurvey.data;setSurveyConfig(data);case 19:if(!launch.ask_labels_on_launch){_context.next=26;break;}_context.next=22;return readLabels;case 22:_yield$readLabels=_context.sent;results=_yield$readLabels.data.results;allLabels=results.map(function(label){return _objectSpread(_objectSpread({},label),{},{isReadOnly:true});});setLabels(allLabels);case 26:if(!launch.ask_credential_on_launch){_context.next=32;break;}_context.next=29;return JobTemplatesAPI.readCredentials(resource.id);case 29:_yield$JobTemplatesAP=_context.sent;templateCredentials=_yield$JobTemplatesAP.data.results;setResourceCredentials(templateCredentials);case 32:if(!canLaunchWithoutPrompt(launch)){_context.next=37;break;}_context.next=35;return launchWithParams({});case 35:_context.next=38;break;case 37:setShowLaunchPrompt(true);case 38:_context.next=43;break;case 40:_context.prev=40;_context.t0=_context[\"catch\"](7);setError(_context.t0);case 43:_context.prev=43;setIsLaunching(false);return _context.finish(43);case 46:case\"end\":return _context.stop();}}},_callee,null,[[7,40,43,46]]);}));return function handleLaunch(){return _ref2.apply(this,arguments);};}();var launchWithParams=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(params){var jobPromise,_yield$jobPromise,job;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!isLaunching){_context2.next=3;break;}showToast();return _context2.abrupt(\"return\");case 3:setIsLaunching(true);_context2.prev=4;if(resource.type==='job_template'){jobPromise=JobTemplatesAPI.launch(resource.id,params||{});}else if(resource.type==='workflow_job_template'){jobPromise=WorkflowJobTemplatesAPI.launch(resource.id,params||{});}else if(resource.type==='job'){jobPromise=JobsAPI.relaunch(resource.id,params||{});}else if(resource.type==='workflow_job'){jobPromise=WorkflowJobsAPI.relaunch(resource.id,params||{});}else if(resource.type==='ad_hoc_command'){if(params!==null&&params!==void 0&&params.credential_passwords){// The api expects the passwords at the top level of the object instead of nested\n// in credential_passwords like the other relaunch endpoints\nObject.keys(params.credential_passwords).forEach(function(key){params[key]=params.credential_passwords[key];});delete params.credential_passwords;}jobPromise=AdHocCommandsAPI.relaunch(resource.id,params||{});}_context2.next=8;return jobPromise;case 8:_yield$jobPromise=_context2.sent;job=_yield$jobPromise.data;history.push(\"/jobs/\".concat(job.id,\"/output\"));_context2.next=16;break;case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](4);setError(_context2.t0);case 16:_context2.prev=16;setIsLaunching(false);return _context2.finish(16);case 19:case\"end\":return _context2.stop();}}},_callee2,null,[[4,13,16,19]]);}));return function launchWithParams(_x){return _ref3.apply(this,arguments);};}();var handleRelaunch=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(params){var readRelaunch,relaunch,_yield$readRelaunch,relaunchConfig,_yield$relaunch,job;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!isLaunching){_context3.next=3;break;}showToast();return _context3.abrupt(\"return\");case 3:setIsLaunching(true);if(resource.type==='inventory_update'){// We'll need to handle the scenario where the src no longer exists\nreadRelaunch=InventorySourcesAPI.readLaunchUpdate(resource.inventory_source);}else if(resource.type==='project_update'){// We'll need to handle the scenario where the project no longer exists\nreadRelaunch=ProjectsAPI.readLaunchUpdate(resource.project);}else if(resource.type==='workflow_job'){readRelaunch=WorkflowJobsAPI.readRelaunch(resource.id);}else if(resource.type==='ad_hoc_command'){readRelaunch=AdHocCommandsAPI.readRelaunch(resource.id);}else if(resource.type==='job'){readRelaunch=JobsAPI.readRelaunch(resource.id);}_context3.prev=5;_context3.next=8;return readRelaunch;case 8:_yield$readRelaunch=_context3.sent;relaunchConfig=_yield$readRelaunch.data;setLaunchConfig(relaunchConfig);if(!(!relaunchConfig.passwords_needed_to_start||relaunchConfig.passwords_needed_to_start.length===0)){_context3.next=20;break;}if(resource.type==='inventory_update'){relaunch=InventorySourcesAPI.launchUpdate(resource.inventory_source);}else if(resource.type==='project_update'){relaunch=ProjectsAPI.launchUpdate(resource.project);}else if(resource.type==='workflow_job'){relaunch=WorkflowJobsAPI.relaunch(resource.id);}else if(resource.type==='ad_hoc_command'){relaunch=AdHocCommandsAPI.relaunch(resource.id);}else if(resource.type==='job'){relaunch=JobsAPI.relaunch(resource.id,params||{});}_context3.next=15;return relaunch;case 15:_yield$relaunch=_context3.sent;job=_yield$relaunch.data;history.push(\"/jobs/\".concat(job.id,\"/output\"));_context3.next=21;break;case 20:setShowLaunchPrompt(true);case 21:_context3.next=26;break;case 23:_context3.prev=23;_context3.t0=_context3[\"catch\"](5);setError(_context3.t0);case 26:_context3.prev=26;setIsLaunching(false);return _context3.finish(26);case 29:case\"end\":return _context3.stop();}}},_callee3,null,[[5,23,26,29]]);}));return function handleRelaunch(_x2){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[children({handleLaunch:handleLaunch,handleRelaunch:handleRelaunch,isLaunching:isLaunching}),/*#__PURE__*/_jsx(Toast,_objectSpread({},toastProps)),error&&/*#__PURE__*/_jsxs(AlertModal,{isOpen:error,variant:\"error\",title:/*i18n*/i18n._(\"Error!\"),onClose:function onClose(){return setError(null);},children:[/*i18n*/i18n._(\"Failed to launch job.\"),/*#__PURE__*/_jsx(ErrorDetail,{error:error})]}),showLaunchPrompt&&/*#__PURE__*/_jsx(LaunchPrompt,{launchConfig:launchConfig,surveyConfig:surveyConfig,resource:resource,labels:labels,onLaunch:launchWithParams,onCancel:function onCancel(){return setShowLaunchPrompt(false);},resourceDefaultCredentials:resourceCredentials})]});}export default LaunchButton;","map":{"version":3,"names":["React","useState","useHistory","AdHocCommandsAPI","InventorySourcesAPI","JobsAPI","JobTemplatesAPI","ProjectsAPI","WorkflowJobsAPI","WorkflowJobTemplatesAPI","useToast","AlertVariant","AlertModal","ErrorDetail","LaunchPrompt","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","canLaunchWithoutPrompt","launchData","can_start_without_user_input","ask_inventory_on_launch","ask_variables_on_launch","ask_limit_on_launch","ask_scm_branch_on_launch","ask_execution_environment_on_launch","ask_labels_on_launch","ask_forks_on_launch","ask_job_slice_count_on_launch","ask_timeout_on_launch","ask_instance_groups_on_launch","survey_enabled","passwords_needed_to_start","length","variables_needed_to_start","LaunchButton","_ref","resource","children","history","_useState","_useState2","_slicedToArray","showLaunchPrompt","setShowLaunchPrompt","_useState3","_useState4","launchConfig","setLaunchConfig","_useState5","_useState6","surveyConfig","setSurveyConfig","_useState7","_useState8","labels","setLabels","_useState9","_useState10","isLaunching","setIsLaunching","_useState11","_useState12","resourceCredentials","setResourceCredentials","_useState13","_useState14","error","setError","_useToast","addToast","Toast","toastProps","showToast","id","title","i18n","_","variant","info","hasTimeout","handleLaunch","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","readLaunch","readSurvey","readLabels","_yield$readLaunch","launch","_yield$readSurvey","data","_yield$readLabels","results","allLabels","_yield$JobTemplatesAP","templateCredentials","wrap","_callee$","_context","prev","next","abrupt","type","readAllLabels","sent","map","label","_objectSpread","isReadOnly","ask_credential_on_launch","readCredentials","launchWithParams","t0","finish","stop","apply","arguments","_ref3","_callee2","params","jobPromise","_yield$jobPromise","job","_callee2$","_context2","relaunch","credential_passwords","Object","keys","forEach","key","push","concat","_x","handleRelaunch","_ref4","_callee3","readRelaunch","_yield$readRelaunch","relaunchConfig","_yield$relaunch","_callee3$","_context3","readLaunchUpdate","inventory_source","project","launchUpdate","_x2","isOpen","onClose","onLaunch","onCancel","resourceDefaultCredentials"],"sources":["/awx_devel/awx/ui/src/components/LaunchButton/LaunchButton.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { number, shape } from 'prop-types';\nimport { t } from '@lingui/macro';\nimport {\n  AdHocCommandsAPI,\n  InventorySourcesAPI,\n  JobsAPI,\n  JobTemplatesAPI,\n  ProjectsAPI,\n  WorkflowJobsAPI,\n  WorkflowJobTemplatesAPI,\n} from 'api';\nimport useToast, { AlertVariant } from 'hooks/useToast';\nimport AlertModal from '../AlertModal';\nimport ErrorDetail from '../ErrorDetail';\nimport LaunchPrompt from '../LaunchPrompt';\n\nfunction canLaunchWithoutPrompt(launchData) {\n  return (\n    launchData.can_start_without_user_input &&\n    !launchData.ask_inventory_on_launch &&\n    !launchData.ask_variables_on_launch &&\n    !launchData.ask_limit_on_launch &&\n    !launchData.ask_scm_branch_on_launch &&\n    !launchData.ask_execution_environment_on_launch &&\n    !launchData.ask_labels_on_launch &&\n    !launchData.ask_forks_on_launch &&\n    !launchData.ask_job_slice_count_on_launch &&\n    !launchData.ask_timeout_on_launch &&\n    !launchData.ask_instance_groups_on_launch &&\n    !launchData.survey_enabled &&\n    (!launchData.passwords_needed_to_start ||\n      launchData.passwords_needed_to_start.length === 0) &&\n    (!launchData.variables_needed_to_start ||\n      launchData.variables_needed_to_start.length === 0)\n  );\n}\n\nfunction LaunchButton({ resource, children }) {\n  const history = useHistory();\n  const [showLaunchPrompt, setShowLaunchPrompt] = useState(false);\n  const [launchConfig, setLaunchConfig] = useState(null);\n  const [surveyConfig, setSurveyConfig] = useState(null);\n  const [labels, setLabels] = useState([]);\n  const [isLaunching, setIsLaunching] = useState(false);\n  const [resourceCredentials, setResourceCredentials] = useState([]);\n  const [error, setError] = useState(null);\n  const { addToast, Toast, toastProps } = useToast();\n\n  const showToast = () => {\n    addToast({\n      id: resource.id,\n      title: t`A job has already been launched`,\n      variant: AlertVariant.info,\n      hasTimeout: true,\n    });\n  };\n\n  const handleLaunch = async () => {\n    if (isLaunching) {\n      showToast();\n      return;\n    }\n    setIsLaunching(true);\n    const readLaunch =\n      resource.type === 'workflow_job_template'\n        ? WorkflowJobTemplatesAPI.readLaunch(resource.id)\n        : JobTemplatesAPI.readLaunch(resource.id);\n    const readSurvey =\n      resource.type === 'workflow_job_template'\n        ? WorkflowJobTemplatesAPI.readSurvey(resource.id)\n        : JobTemplatesAPI.readSurvey(resource.id);\n    const readLabels =\n      resource.type === 'workflow_job_template'\n        ? WorkflowJobTemplatesAPI.readAllLabels(resource.id)\n        : JobTemplatesAPI.readAllLabels(resource.id);\n\n    try {\n      const { data: launch } = await readLaunch;\n      setLaunchConfig(launch);\n\n      if (launch.survey_enabled) {\n        const { data } = await readSurvey;\n\n        setSurveyConfig(data);\n      }\n\n      if (launch.ask_labels_on_launch) {\n        const {\n          data: { results },\n        } = await readLabels;\n\n        const allLabels = results.map((label) => ({\n          ...label,\n          isReadOnly: true,\n        }));\n\n        setLabels(allLabels);\n      }\n\n      if (launch.ask_credential_on_launch) {\n        const {\n          data: { results: templateCredentials },\n        } = await JobTemplatesAPI.readCredentials(resource.id);\n        setResourceCredentials(templateCredentials);\n      }\n\n      if (canLaunchWithoutPrompt(launch)) {\n        await launchWithParams({});\n      } else {\n        setShowLaunchPrompt(true);\n      }\n    } catch (err) {\n      setError(err);\n    } finally {\n      setIsLaunching(false);\n    }\n  };\n\n  const launchWithParams = async (params) => {\n    if (isLaunching) {\n      showToast();\n      return;\n    }\n    setIsLaunching(true);\n    try {\n      let jobPromise;\n\n      if (resource.type === 'job_template') {\n        jobPromise = JobTemplatesAPI.launch(resource.id, params || {});\n      } else if (resource.type === 'workflow_job_template') {\n        jobPromise = WorkflowJobTemplatesAPI.launch(resource.id, params || {});\n      } else if (resource.type === 'job') {\n        jobPromise = JobsAPI.relaunch(resource.id, params || {});\n      } else if (resource.type === 'workflow_job') {\n        jobPromise = WorkflowJobsAPI.relaunch(resource.id, params || {});\n      } else if (resource.type === 'ad_hoc_command') {\n        if (params?.credential_passwords) {\n          // The api expects the passwords at the top level of the object instead of nested\n          // in credential_passwords like the other relaunch endpoints\n          Object.keys(params.credential_passwords).forEach((key) => {\n            params[key] = params.credential_passwords[key];\n          });\n\n          delete params.credential_passwords;\n        }\n        jobPromise = AdHocCommandsAPI.relaunch(resource.id, params || {});\n      }\n\n      const { data: job } = await jobPromise;\n      history.push(`/jobs/${job.id}/output`);\n    } catch (launchError) {\n      setError(launchError);\n    } finally {\n      setIsLaunching(false);\n    }\n  };\n\n  const handleRelaunch = async (params) => {\n    let readRelaunch;\n    let relaunch;\n\n    if (isLaunching) {\n      showToast();\n      return;\n    }\n    setIsLaunching(true);\n    if (resource.type === 'inventory_update') {\n      // We'll need to handle the scenario where the src no longer exists\n      readRelaunch = InventorySourcesAPI.readLaunchUpdate(\n        resource.inventory_source\n      );\n    } else if (resource.type === 'project_update') {\n      // We'll need to handle the scenario where the project no longer exists\n      readRelaunch = ProjectsAPI.readLaunchUpdate(resource.project);\n    } else if (resource.type === 'workflow_job') {\n      readRelaunch = WorkflowJobsAPI.readRelaunch(resource.id);\n    } else if (resource.type === 'ad_hoc_command') {\n      readRelaunch = AdHocCommandsAPI.readRelaunch(resource.id);\n    } else if (resource.type === 'job') {\n      readRelaunch = JobsAPI.readRelaunch(resource.id);\n    }\n\n    try {\n      const { data: relaunchConfig } = await readRelaunch;\n      setLaunchConfig(relaunchConfig);\n      if (\n        !relaunchConfig.passwords_needed_to_start ||\n        relaunchConfig.passwords_needed_to_start.length === 0\n      ) {\n        if (resource.type === 'inventory_update') {\n          relaunch = InventorySourcesAPI.launchUpdate(\n            resource.inventory_source\n          );\n        } else if (resource.type === 'project_update') {\n          relaunch = ProjectsAPI.launchUpdate(resource.project);\n        } else if (resource.type === 'workflow_job') {\n          relaunch = WorkflowJobsAPI.relaunch(resource.id);\n        } else if (resource.type === 'ad_hoc_command') {\n          relaunch = AdHocCommandsAPI.relaunch(resource.id);\n        } else if (resource.type === 'job') {\n          relaunch = JobsAPI.relaunch(resource.id, params || {});\n        }\n        const { data: job } = await relaunch;\n        history.push(`/jobs/${job.id}/output`);\n      } else {\n        setShowLaunchPrompt(true);\n      }\n    } catch (err) {\n      setError(err);\n    } finally {\n      setIsLaunching(false);\n    }\n  };\n\n  return (\n    <>\n      {children({\n        handleLaunch,\n        handleRelaunch,\n        isLaunching,\n      })}\n      <Toast {...toastProps} />\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={t`Error!`}\n          onClose={() => setError(null)}\n        >\n          {t`Failed to launch job.`}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n      {showLaunchPrompt && (\n        <LaunchPrompt\n          launchConfig={launchConfig}\n          surveyConfig={surveyConfig}\n          resource={resource}\n          labels={labels}\n          onLaunch={launchWithParams}\n          onCancel={() => setShowLaunchPrompt(false)}\n          resourceDefaultCredentials={resourceCredentials}\n        />\n      )}\n    </>\n  );\n}\n\nLaunchButton.propTypes = {\n  resource: shape({\n    id: number.isRequired,\n  }).isRequired,\n};\n\nexport default LaunchButton;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}