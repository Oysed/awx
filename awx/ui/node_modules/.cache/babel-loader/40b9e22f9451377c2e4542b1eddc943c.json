{"ast":null,"code":"import _defineProperty from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{i18n}from\"@lingui/core\";import React,{useState,useCallback}from'react';import{Route,useRouteMatch,Switch}from'react-router-dom';import ScreenHeader from'components/ScreenHeader/ScreenHeader';import PersistentFilters from'components/PersistentFilters';import{Config}from'contexts/Config';import UsersList from'./UserList/UserList';import UserAdd from'./UserAdd/UserAdd';import User from'./User';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Users(){var _useState=useState({'/users':/*i18n*/i18n._(\"Users\"),'/users/add':/*i18n*/i18n._(\"Create New User\")}),_useState2=_slicedToArray(_useState,2),breadcrumbConfig=_useState2[0],setBreadcrumbConfig=_useState2[1];var match=useRouteMatch();var addUserBreadcrumb=useCallback(function(user,token){var _setBreadcrumbConfig;if(!user){return;}setBreadcrumbConfig((_setBreadcrumbConfig={'/users':/*i18n*/i18n._(\"Users\"),'/users/add':/*i18n*/i18n._(\"Create New User\")},_defineProperty(_setBreadcrumbConfig,\"/users/\".concat(user.id),\"\".concat(user.username)),_defineProperty(_setBreadcrumbConfig,\"/users/\".concat(user.id,\"/edit\"),/*i18n*/i18n._(\"Edit Details\")),_defineProperty(_setBreadcrumbConfig,\"/users/\".concat(user.id,\"/details\"),/*i18n*/i18n._(\"Details\")),_defineProperty(_setBreadcrumbConfig,\"/users/\".concat(user.id,\"/roles\"),/*i18n*/i18n._(\"Roles\")),_defineProperty(_setBreadcrumbConfig,\"/users/\".concat(user.id,\"/teams\"),/*i18n*/i18n._(\"Teams\")),_defineProperty(_setBreadcrumbConfig,\"/users/\".concat(user.id,\"/organizations\"),/*i18n*/i18n._(\"Organizations\")),_defineProperty(_setBreadcrumbConfig,\"/users/\".concat(user.id,\"/tokens\"),/*i18n*/i18n._(\"Tokens\")),_defineProperty(_setBreadcrumbConfig,\"/users/\".concat(user.id,\"/tokens/add\"),/*i18n*/i18n._(\"Create user token\")),_defineProperty(_setBreadcrumbConfig,\"/users/\".concat(user.id,\"/tokens/\").concat(token&&token.id,\"/details\"),/*i18n*/i18n._(\"Details\")),_setBreadcrumbConfig));},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ScreenHeader,{streamType:\"user\",breadcrumbConfig:breadcrumbConfig}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.path,\"/add\"),children:/*#__PURE__*/_jsx(UserAdd,{})}),/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.path,\"/:id\"),children:/*#__PURE__*/_jsx(Config,{children:function children(_ref){var me=_ref.me;return/*#__PURE__*/_jsx(User,{setBreadcrumb:addUserBreadcrumb,me:me||{}});}})}),/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.path),children:/*#__PURE__*/_jsx(PersistentFilters,{pageKey:\"users\",children:/*#__PURE__*/_jsx(UsersList,{})})})]})]});}export{Users as _Users};export default Users;","map":{"version":3,"names":["React","useState","useCallback","Route","useRouteMatch","Switch","ScreenHeader","PersistentFilters","Config","UsersList","UserAdd","User","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Users","_useState","i18n","_","_useState2","_slicedToArray","breadcrumbConfig","setBreadcrumbConfig","match","addUserBreadcrumb","user","token","_setBreadcrumbConfig","_defineProperty","concat","id","username","children","streamType","path","_ref","me","setBreadcrumb","pageKey","_Users"],"sources":["/awx_devel/awx/ui/src/screens/User/Users.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { Route, useRouteMatch, Switch } from 'react-router-dom';\n\nimport { t } from '@lingui/macro';\n\nimport ScreenHeader from 'components/ScreenHeader/ScreenHeader';\nimport PersistentFilters from 'components/PersistentFilters';\nimport { Config } from 'contexts/Config';\nimport UsersList from './UserList/UserList';\nimport UserAdd from './UserAdd/UserAdd';\nimport User from './User';\n\nfunction Users() {\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/users': t`Users`,\n    '/users/add': t`Create New User`,\n  });\n  const match = useRouteMatch();\n\n  const addUserBreadcrumb = useCallback((user, token) => {\n    if (!user) {\n      return;\n    }\n\n    setBreadcrumbConfig({\n      '/users': t`Users`,\n      '/users/add': t`Create New User`,\n      [`/users/${user.id}`]: `${user.username}`,\n      [`/users/${user.id}/edit`]: t`Edit Details`,\n      [`/users/${user.id}/details`]: t`Details`,\n      [`/users/${user.id}/roles`]: t`Roles`,\n      [`/users/${user.id}/teams`]: t`Teams`,\n      [`/users/${user.id}/organizations`]: t`Organizations`,\n      [`/users/${user.id}/tokens`]: t`Tokens`,\n      [`/users/${user.id}/tokens/add`]: t`Create user token`,\n      [`/users/${user.id}/tokens/${token && token.id}/details`]: t`Details`,\n    });\n  }, []);\n  return (\n    <>\n      <ScreenHeader streamType=\"user\" breadcrumbConfig={breadcrumbConfig} />\n      <Switch>\n        <Route path={`${match.path}/add`}>\n          <UserAdd />\n        </Route>\n        <Route path={`${match.path}/:id`}>\n          <Config>\n            {({ me }) => (\n              <User setBreadcrumb={addUserBreadcrumb} me={me || {}} />\n            )}\n          </Config>\n        </Route>\n        <Route path={`${match.path}`}>\n          <PersistentFilters pageKey=\"users\">\n            <UsersList />\n          </PersistentFilters>\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport { Users as _Users };\nexport default Users;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}