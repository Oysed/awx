{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import{CardBody}from'components/Card';import HostForm from'components/HostForm';import{HostsAPI}from'api';import{jsx as _jsx}from\"react/jsx-runtime\";function HostEdit(_ref){var host=_ref.host;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),formError=_useState2[0],setFormError=_useState2[1];var detailsUrl=\"/hosts/\".concat(host.id,\"/details\");var history=useHistory();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var dataToSend;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dataToSend=_objectSpread({},values);if(dataToSend.inventory){dataToSend.inventory=dataToSend.inventory.id;}_context.next=5;return HostsAPI.update(host.id,dataToSend);case 5:history.push(detailsUrl);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setFormError(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handleCancel=function handleCancel(){history.push(detailsUrl);};return/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(HostForm,{host:host,handleSubmit:handleSubmit,handleCancel:handleCancel,submitError:formError,disableInventoryLookup:true})});}export default HostEdit;","map":{"version":3,"names":["React","useState","useHistory","CardBody","HostForm","HostsAPI","jsx","_jsx","HostEdit","_ref","host","_useState","_useState2","_slicedToArray","formError","setFormError","detailsUrl","concat","id","history","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","dataToSend","wrap","_callee$","_context","prev","next","_objectSpread","inventory","update","push","t0","stop","_x","apply","arguments","handleCancel","children","submitError","disableInventoryLookup"],"sources":["/awx_devel/awx/ui/src/screens/Host/HostEdit/HostEdit.js"],"sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport { CardBody } from 'components/Card';\nimport HostForm from 'components/HostForm';\nimport { HostsAPI } from 'api';\n\nfunction HostEdit({ host }) {\n  const [formError, setFormError] = useState(null);\n  const detailsUrl = `/hosts/${host.id}/details`;\n  const history = useHistory();\n\n  const handleSubmit = async (values) => {\n    try {\n      const dataToSend = { ...values };\n      if (dataToSend.inventory) {\n        dataToSend.inventory = dataToSend.inventory.id;\n      }\n      await HostsAPI.update(host.id, dataToSend);\n      history.push(detailsUrl);\n    } catch (error) {\n      setFormError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(detailsUrl);\n  };\n\n  return (\n    <CardBody>\n      <HostForm\n        host={host}\n        handleSubmit={handleSubmit}\n        handleCancel={handleCancel}\n        submitError={formError}\n        disableInventoryLookup\n      />\n    </CardBody>\n  );\n}\n\nHostEdit.propTypes = {\n  host: PropTypes.shape().isRequired,\n};\n\nexport default HostEdit;\n"],"mappings":"8ZAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAEvC,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,MAAO,CAAAC,QAAQ,KAAM,qBAAqB,CAC1C,OAASC,QAAQ,KAAQ,KAAK,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE/B,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAW,IAAR,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CACtB,IAAAC,SAAA,CAAkCV,QAAQ,CAAC,IAAI,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,GAAM,CAAAI,UAAU,WAAAC,MAAA,CAAaP,IAAI,CAACQ,EAAE,YAAU,CAC9C,GAAM,CAAAC,OAAO,CAAGjB,UAAU,CAAC,CAAC,CAE5B,GAAM,CAAAkB,YAAY,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAOC,MAAM,MAAAC,UAAA,QAAAJ,mBAAA,CAAAK,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAExBJ,UAAU,CAAAM,aAAA,IAAQP,MAAM,EAC9B,GAAIC,UAAU,CAACO,SAAS,CAAE,CACxBP,UAAU,CAACO,SAAS,CAAGP,UAAU,CAACO,SAAS,CAAChB,EAAE,CAChD,CAACY,QAAA,CAAAE,IAAA,SACK,CAAA3B,QAAQ,CAAC8B,MAAM,CAACzB,IAAI,CAACQ,EAAE,CAAES,UAAU,CAAC,QAC1CR,OAAO,CAACiB,IAAI,CAACpB,UAAU,CAAC,CAACc,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAO,EAAA,CAAAP,QAAA,aAEzBf,YAAY,CAAAe,QAAA,CAAAO,EAAM,CAAC,CAAC,yBAAAP,QAAA,CAAAQ,IAAA,OAAAb,OAAA,gBAEvB,kBAXK,CAAAL,YAAYA,CAAAmB,EAAA,SAAAlB,KAAA,CAAAmB,KAAA,MAAAC,SAAA,OAWjB,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzBvB,OAAO,CAACiB,IAAI,CAACpB,UAAU,CAAC,CAC1B,CAAC,CAED,mBACET,IAAA,CAACJ,QAAQ,EAAAwC,QAAA,cACPpC,IAAA,CAACH,QAAQ,EACPM,IAAI,CAAEA,IAAK,CACXU,YAAY,CAAEA,YAAa,CAC3BsB,YAAY,CAAEA,YAAa,CAC3BE,WAAW,CAAE9B,SAAU,CACvB+B,sBAAsB,MACvB,CAAC,CACM,CAAC,CAEf,CAMA,cAAe,CAAArC,QAAQ"},"metadata":{},"sourceType":"module"}