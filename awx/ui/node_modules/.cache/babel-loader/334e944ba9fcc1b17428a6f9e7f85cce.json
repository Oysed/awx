{"ast":null,"code":"import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useFormikContext}from'formik';import{Alert}from'@patternfly/react-core';import{FormFullWidthLayout}from'../FormLayout';import sortErrorMessages from'./sortErrorMessages';import{jsx as _jsx}from\"react/jsx-runtime\";function FormSubmitError(_ref){var error=_ref.error;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),errorMessage=_useState2[0],setErrorMessage=_useState2[1];var _useFormikContext=useFormikContext(),values=_useFormikContext.values,setErrors=_useFormikContext.setErrors;useEffect(function(){var _sortErrorMessages=sortErrorMessages(error,values),formError=_sortErrorMessages.formError,fieldErrors=_sortErrorMessages.fieldErrors;if(formError){setErrorMessage(formError);}if(fieldErrors){setErrors(fieldErrors);}},[error,setErrors,values]);if(!errorMessage){return null;}return/*#__PURE__*/_jsx(FormFullWidthLayout,{children:/*#__PURE__*/_jsx(Alert,{variant:\"danger\",isInline:true,ouiaId:\"form-submit-error-alert\",title:Array.isArray(errorMessage)?errorMessage.map(function(msg){return/*#__PURE__*/_jsx(\"div\",{children:msg},msg);}):errorMessage})});}export default FormSubmitError;","map":{"version":3,"names":["React","useState","useEffect","useFormikContext","Alert","FormFullWidthLayout","sortErrorMessages","jsx","_jsx","FormSubmitError","_ref","error","_useState","_useState2","_slicedToArray","errorMessage","setErrorMessage","_useFormikContext","values","setErrors","_sortErrorMessages","formError","fieldErrors","children","variant","isInline","ouiaId","title","Array","isArray","map","msg"],"sources":["/awx_devel/awx/ui/src/components/FormField/FormSubmitError.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useFormikContext } from 'formik';\nimport { Alert } from '@patternfly/react-core';\nimport { FormFullWidthLayout } from '../FormLayout';\nimport sortErrorMessages from './sortErrorMessages';\n\nfunction FormSubmitError({ error }) {\n  const [errorMessage, setErrorMessage] = useState(null);\n  const { values, setErrors } = useFormikContext();\n\n  useEffect(() => {\n    const { formError, fieldErrors } = sortErrorMessages(error, values);\n    if (formError) {\n      setErrorMessage(formError);\n    }\n    if (fieldErrors) {\n      setErrors(fieldErrors);\n    }\n  }, [error, setErrors, values]);\n\n  if (!errorMessage) {\n    return null;\n  }\n\n  return (\n    <FormFullWidthLayout>\n      <Alert\n        variant=\"danger\"\n        isInline\n        ouiaId=\"form-submit-error-alert\"\n        title={\n          Array.isArray(errorMessage)\n            ? errorMessage.map((msg) => <div key={msg}>{msg}</div>)\n            : errorMessage\n        }\n      />\n    </FormFullWidthLayout>\n  );\n}\n\nexport default FormSubmitError;\n"],"mappings":"uGAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,gBAAgB,KAAQ,QAAQ,CACzC,OAASC,KAAK,KAAQ,wBAAwB,CAC9C,OAASC,mBAAmB,KAAQ,eAAe,CACnD,MAAO,CAAAC,iBAAiB,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEpD,QAAS,CAAAC,eAAeA,CAAAC,IAAA,CAAY,IAAT,CAAAC,KAAK,CAAAD,IAAA,CAALC,KAAK,CAC9B,IAAAC,SAAA,CAAwCX,QAAQ,CAAC,IAAI,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/CG,YAAY,CAAAF,UAAA,IAAEG,eAAe,CAAAH,UAAA,IACpC,IAAAI,iBAAA,CAA8Bd,gBAAgB,CAAC,CAAC,CAAxCe,MAAM,CAAAD,iBAAA,CAANC,MAAM,CAAEC,SAAS,CAAAF,iBAAA,CAATE,SAAS,CAEzBjB,SAAS,CAAC,UAAM,CACd,IAAAkB,kBAAA,CAAmCd,iBAAiB,CAACK,KAAK,CAAEO,MAAM,CAAC,CAA3DG,SAAS,CAAAD,kBAAA,CAATC,SAAS,CAAEC,WAAW,CAAAF,kBAAA,CAAXE,WAAW,CAC9B,GAAID,SAAS,CAAE,CACbL,eAAe,CAACK,SAAS,CAAC,CAC5B,CACA,GAAIC,WAAW,CAAE,CACfH,SAAS,CAACG,WAAW,CAAC,CACxB,CACF,CAAC,CAAE,CAACX,KAAK,CAAEQ,SAAS,CAAED,MAAM,CAAC,CAAC,CAE9B,GAAI,CAACH,YAAY,CAAE,CACjB,MAAO,KAAI,CACb,CAEA,mBACEP,IAAA,CAACH,mBAAmB,EAAAkB,QAAA,cAClBf,IAAA,CAACJ,KAAK,EACJoB,OAAO,CAAC,QAAQ,CAChBC,QAAQ,MACRC,MAAM,CAAC,yBAAyB,CAChCC,KAAK,CACHC,KAAK,CAACC,OAAO,CAACd,YAAY,CAAC,CACvBA,YAAY,CAACe,GAAG,CAAC,SAACC,GAAG,qBAAKvB,IAAA,QAAAe,QAAA,CAAgBQ,GAAG,EAATA,GAAe,CAAC,GAAC,CACrDhB,YACL,CACF,CAAC,CACiB,CAAC,CAE1B,CAEA,cAAe,CAAAN,eAAe"},"metadata":{},"sourceType":"module"}