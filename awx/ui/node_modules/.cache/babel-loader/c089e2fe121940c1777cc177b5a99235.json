{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{i18n}from\"@lingui/core\";import React from'react';import{Link}from'react-router-dom';import{Chip,TextList,TextListItem,TextListVariants,TextListItemVariants}from'@patternfly/react-core';import{toTitleCase}from'util/strings';import CredentialChip from'../CredentialChip';import ChipGroup from'../ChipGroup';import{Detail}from'../DetailList';import{VariablesDetail}from'../CodeEditor';import Sparkline from'../Sparkline';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function PromptWFJobTemplateDetail(_ref){var _summary_fields$inven,_summary_fields$recen,_summary_fields$recen2,_summary_fields$inven2,_summary_fields$inven3,_summary_fields$webho,_summary_fields$label,_summary_fields$label2,_summary_fields$label3;var resource=_ref.resource;var allow_simultaneous=resource.allow_simultaneous,extra_vars=resource.extra_vars,limit=resource.limit,related=resource.related,scm_branch=resource.scm_branch,summary_fields=resource.summary_fields,webhook_key=resource.webhook_key,webhook_service=resource.webhook_service;var optionsList='';if(allow_simultaneous||webhook_service){optionsList=/*#__PURE__*/_jsxs(TextList,{component:TextListVariants.ul,children:[allow_simultaneous&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Concurrent Jobs\")}),webhook_service&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Webhooks\")})]});}var inventoryKind=(summary_fields===null||summary_fields===void 0?void 0:(_summary_fields$inven=summary_fields.inventory)===null||_summary_fields$inven===void 0?void 0:_summary_fields$inven.kind)==='smart'?'smart_inventory':'inventory';var recentJobs=summary_fields===null||summary_fields===void 0?void 0:(_summary_fields$recen=summary_fields.recent_jobs)===null||_summary_fields$recen===void 0?void 0:_summary_fields$recen.map(function(job){return _objectSpread(_objectSpread({},job),{},{type:'job'});});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Activity\"),value:/*#__PURE__*/_jsx(Sparkline,{jobs:recentJobs}),isEmpty:(summary_fields===null||summary_fields===void 0?void 0:(_summary_fields$recen2=summary_fields.recent_jobs)===null||_summary_fields$recen2===void 0?void 0:_summary_fields$recen2.length)===0}),(summary_fields===null||summary_fields===void 0?void 0:summary_fields.organization)&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Organization\"),value:/*#__PURE__*/_jsx(Link,{to:\"/organizations/\".concat(summary_fields.organization.id,\"/details\"),children:summary_fields===null||summary_fields===void 0?void 0:summary_fields.organization.name})}),(summary_fields===null||summary_fields===void 0?void 0:summary_fields.inventory)&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Inventory\"),value:/*#__PURE__*/_jsx(Link,{to:\"/\".concat(inventoryKind,\"/\").concat((_summary_fields$inven2=summary_fields.inventory)===null||_summary_fields$inven2===void 0?void 0:_summary_fields$inven2.id,\"/details\"),children:(_summary_fields$inven3=summary_fields.inventory)===null||_summary_fields$inven3===void 0?void 0:_summary_fields$inven3.name})}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Source Control Branch\"),value:scm_branch}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Limit\"),value:limit}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Webhook Service\"),value:toTitleCase(webhook_service)}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Webhook Key\"),value:webhook_key}),(related===null||related===void 0?void 0:related.webhook_receiver)&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Webhook URL\"),value:\"\".concat(window.location.origin).concat(related.webhook_receiver)}),optionsList&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Enabled Options\"),value:optionsList}),(summary_fields===null||summary_fields===void 0?void 0:summary_fields.webhook_credential)&&/*#__PURE__*/_jsx(Detail,{fullWidth:true,label:/*i18n*/i18n._(\"Webhook Credential\"),value:/*#__PURE__*/_jsx(CredentialChip,{credential:summary_fields.webhook_credential,isReadOnly:true},(_summary_fields$webho=summary_fields.webhook_credential)===null||_summary_fields$webho===void 0?void 0:_summary_fields$webho.id)}),(summary_fields===null||summary_fields===void 0?void 0:(_summary_fields$label=summary_fields.labels)===null||_summary_fields$label===void 0?void 0:_summary_fields$label.results)&&/*#__PURE__*/_jsx(Detail,{fullWidth:true,label:/*i18n*/i18n._(\"Labels\"),value:/*#__PURE__*/_jsx(ChipGroup,{numChips:5,totalChips:summary_fields.labels.results.length,ouiaId:\"prompt-wf-jt-label-chips\",children:summary_fields.labels.results.map(function(label){return/*#__PURE__*/_jsx(Chip,{isReadOnly:true,children:label.name},label.id);})}),isEmpty:(summary_fields===null||summary_fields===void 0?void 0:(_summary_fields$label2=summary_fields.labels)===null||_summary_fields$label2===void 0?void 0:(_summary_fields$label3=_summary_fields$label2.results)===null||_summary_fields$label3===void 0?void 0:_summary_fields$label3.length)===0}),extra_vars&&/*#__PURE__*/_jsx(VariablesDetail,{label:/*i18n*/i18n._(\"Variables\"),rows:4,value:extra_vars,name:\"extra_vars\",dataCy:\"prompt-wf-jt-detail-variables\"})]});}export default PromptWFJobTemplateDetail;","map":{"version":3,"names":["React","Link","Chip","TextList","TextListItem","TextListVariants","TextListItemVariants","toTitleCase","CredentialChip","ChipGroup","Detail","VariablesDetail","Sparkline","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PromptWFJobTemplateDetail","_ref","_summary_fields$inven","_summary_fields$recen","_summary_fields$recen2","_summary_fields$inven2","_summary_fields$inven3","_summary_fields$webho","_summary_fields$label","_summary_fields$label2","_summary_fields$label3","resource","allow_simultaneous","extra_vars","limit","related","scm_branch","summary_fields","webhook_key","webhook_service","optionsList","component","ul","children","li","i18n","_","inventoryKind","inventory","kind","recentJobs","recent_jobs","map","job","_objectSpread","type","label","value","jobs","isEmpty","length","organization","to","concat","id","name","webhook_receiver","window","location","origin","webhook_credential","fullWidth","credential","isReadOnly","labels","results","numChips","totalChips","ouiaId","rows","dataCy"],"sources":["/awx_devel/awx/ui/src/components/PromptDetail/PromptWFJobTemplateDetail.js"],"sourcesContent":["import React from 'react';\nimport { t } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\nimport {\n  Chip,\n  TextList,\n  TextListItem,\n  TextListVariants,\n  TextListItemVariants,\n} from '@patternfly/react-core';\nimport { toTitleCase } from 'util/strings';\nimport CredentialChip from '../CredentialChip';\nimport ChipGroup from '../ChipGroup';\nimport { Detail } from '../DetailList';\nimport { VariablesDetail } from '../CodeEditor';\nimport Sparkline from '../Sparkline';\n\nfunction PromptWFJobTemplateDetail({ resource }) {\n  const {\n    allow_simultaneous,\n    extra_vars,\n    limit,\n    related,\n    scm_branch,\n    summary_fields,\n    webhook_key,\n    webhook_service,\n  } = resource;\n\n  let optionsList = '';\n  if (allow_simultaneous || webhook_service) {\n    optionsList = (\n      <TextList component={TextListVariants.ul}>\n        {allow_simultaneous && (\n          <TextListItem component={TextListItemVariants.li}>\n            {t`Concurrent Jobs`}\n          </TextListItem>\n        )}\n        {webhook_service && (\n          <TextListItem component={TextListItemVariants.li}>\n            {t`Webhooks`}\n          </TextListItem>\n        )}\n      </TextList>\n    );\n  }\n\n  const inventoryKind =\n    summary_fields?.inventory?.kind === 'smart'\n      ? 'smart_inventory'\n      : 'inventory';\n\n  const recentJobs = summary_fields?.recent_jobs?.map((job) => ({\n    ...job,\n    type: 'job',\n  }));\n\n  return (\n    <>\n      <Detail\n        label={t`Activity`}\n        value={<Sparkline jobs={recentJobs} />}\n        isEmpty={summary_fields?.recent_jobs?.length === 0}\n      />\n      {summary_fields?.organization && (\n        <Detail\n          label={t`Organization`}\n          value={\n            <Link\n              to={`/organizations/${summary_fields.organization.id}/details`}\n            >\n              {summary_fields?.organization.name}\n            </Link>\n          }\n        />\n      )}\n      {summary_fields?.inventory && (\n        <Detail\n          label={t`Inventory`}\n          value={\n            <Link\n              to={`/${inventoryKind}/${summary_fields.inventory?.id}/details`}\n            >\n              {summary_fields.inventory?.name}\n            </Link>\n          }\n        />\n      )}\n      <Detail label={t`Source Control Branch`} value={scm_branch} />\n      <Detail label={t`Limit`} value={limit} />\n      <Detail label={t`Webhook Service`} value={toTitleCase(webhook_service)} />\n      <Detail label={t`Webhook Key`} value={webhook_key} />\n      {related?.webhook_receiver && (\n        <Detail\n          label={t`Webhook URL`}\n          value={`${window.location.origin}${related.webhook_receiver}`}\n        />\n      )}\n      {optionsList && <Detail label={t`Enabled Options`} value={optionsList} />}\n      {summary_fields?.webhook_credential && (\n        <Detail\n          fullWidth\n          label={t`Webhook Credential`}\n          value={\n            <CredentialChip\n              key={summary_fields.webhook_credential?.id}\n              credential={summary_fields.webhook_credential}\n              isReadOnly\n            />\n          }\n        />\n      )}\n      {summary_fields?.labels?.results && (\n        <Detail\n          fullWidth\n          label={t`Labels`}\n          value={\n            <ChipGroup\n              numChips={5}\n              totalChips={summary_fields.labels.results.length}\n              ouiaId=\"prompt-wf-jt-label-chips\"\n            >\n              {summary_fields.labels.results.map((label) => (\n                <Chip key={label.id} isReadOnly>\n                  {label.name}\n                </Chip>\n              ))}\n            </ChipGroup>\n          }\n          isEmpty={summary_fields?.labels?.results?.length === 0}\n        />\n      )}\n      {extra_vars && (\n        <VariablesDetail\n          label={t`Variables`}\n          rows={4}\n          value={extra_vars}\n          name=\"extra_vars\"\n          dataCy=\"prompt-wf-jt-detail-variables\"\n        />\n      )}\n    </>\n  );\n}\n\nexport default PromptWFJobTemplateDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}