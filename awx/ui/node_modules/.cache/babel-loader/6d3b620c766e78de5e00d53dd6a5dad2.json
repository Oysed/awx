{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectWithoutProperties from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"id\",\"helperText\",\"name\",\"label\",\"tooltip\",\"tooltipMaxWidth\",\"validate\",\"isRequired\",\"type\"];import React from'react';import{useField}from'formik';import{FormGroup,TextArea}from'@patternfly/react-core';import Popover from'../Popover';import{jsx as _jsx}from\"react/jsx-runtime\";function ArrayTextField(props){var id=props.id,helperText=props.helperText,name=props.name,label=props.label,tooltip=props.tooltip,tooltipMaxWidth=props.tooltipMaxWidth,validate=props.validate,isRequired=props.isRequired,type=props.type,rest=_objectWithoutProperties(props,_excluded);var _useField=useField({name:name,validate:validate}),_useField2=_slicedToArray(_useField,3),field=_useField2[0],meta=_useField2[1],helpers=_useField2[2];var isValid=!(meta.touched&&meta.error);var value=field.value||[];return/*#__PURE__*/_jsx(FormGroup,{fieldId:id,helperText:helperText,helperTextInvalid:meta.error,isRequired:isRequired,validated:isValid?'default':'error',label:label,labelIcon:/*#__PURE__*/_jsx(Popover,{content:tooltip,maxWidth:tooltipMaxWidth}),children:/*#__PURE__*/_jsx(TextArea,_objectSpread(_objectSpread(_objectSpread({id:id,isRequired:isRequired,validated:isValid?'default':'error',resizeOrientation:\"vertical\"},rest),field),{},{value:value.join('\\n'),onChange:function onChange(val){if(val.trim()===''){helpers.setValue('');return;}helpers.setValue(val.split('\\n').map(function(v){return v.trim();}));}}))});}ArrayTextField.defaultProps={helperText:'',validate:function validate(){},isRequired:false,tooltip:null,tooltipMaxWidth:''};export default ArrayTextField;","map":{"version":3,"names":["React","useField","FormGroup","TextArea","Popover","jsx","_jsx","ArrayTextField","props","id","helperText","name","label","tooltip","tooltipMaxWidth","validate","isRequired","type","rest","_objectWithoutProperties","_excluded","_useField","_useField2","_slicedToArray","field","meta","helpers","isValid","touched","error","value","fieldId","helperTextInvalid","validated","labelIcon","content","maxWidth","children","_objectSpread","resizeOrientation","join","onChange","val","trim","setValue","split","map","v","defaultProps"],"sources":["/awx_devel/awx/ui/src/components/FormField/ArrayTextField.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useField } from 'formik';\nimport { FormGroup, TextArea } from '@patternfly/react-core';\nimport Popover from '../Popover';\n\nfunction ArrayTextField(props) {\n  const {\n    id,\n    helperText,\n    name,\n    label,\n    tooltip,\n    tooltipMaxWidth,\n    validate,\n    isRequired,\n    type,\n    ...rest\n  } = props;\n\n  const [field, meta, helpers] = useField({ name, validate });\n  const isValid = !(meta.touched && meta.error);\n  const value = field.value || [];\n\n  return (\n    <FormGroup\n      fieldId={id}\n      helperText={helperText}\n      helperTextInvalid={meta.error}\n      isRequired={isRequired}\n      validated={isValid ? 'default' : 'error'}\n      label={label}\n      labelIcon={<Popover content={tooltip} maxWidth={tooltipMaxWidth} />}\n    >\n      <TextArea\n        id={id}\n        isRequired={isRequired}\n        validated={isValid ? 'default' : 'error'}\n        resizeOrientation=\"vertical\"\n        {...rest}\n        {...field}\n        value={value.join('\\n')}\n        onChange={(val) => {\n          if (val.trim() === '') {\n            helpers.setValue('');\n            return;\n          }\n          helpers.setValue(val.split('\\n').map((v) => v.trim()));\n        }}\n      />\n    </FormGroup>\n  );\n}\n\nArrayTextField.propTypes = {\n  helperText: PropTypes.string,\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  label: PropTypes.oneOfType([PropTypes.object, PropTypes.string]).isRequired,\n  validate: PropTypes.func,\n  isRequired: PropTypes.bool,\n  tooltip: PropTypes.node,\n  tooltipMaxWidth: PropTypes.string,\n};\n\nArrayTextField.defaultProps = {\n  helperText: '',\n  validate: () => {},\n  isRequired: false,\n  tooltip: null,\n  tooltipMaxWidth: '',\n};\n\nexport default ArrayTextField;\n"],"mappings":"obAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,OAASC,QAAQ,KAAQ,QAAQ,CACjC,OAASC,SAAS,CAAEC,QAAQ,KAAQ,wBAAwB,CAC5D,MAAO,CAAAC,OAAO,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEjC,QAAS,CAAAC,cAAcA,CAACC,KAAK,CAAE,CAC7B,GACE,CAAAC,EAAE,CAUAD,KAAK,CAVPC,EAAE,CACFC,UAAU,CASRF,KAAK,CATPE,UAAU,CACVC,IAAI,CAQFH,KAAK,CARPG,IAAI,CACJC,KAAK,CAOHJ,KAAK,CAPPI,KAAK,CACLC,OAAO,CAMLL,KAAK,CANPK,OAAO,CACPC,eAAe,CAKbN,KAAK,CALPM,eAAe,CACfC,QAAQ,CAINP,KAAK,CAJPO,QAAQ,CACRC,UAAU,CAGRR,KAAK,CAHPQ,UAAU,CACVC,IAAI,CAEFT,KAAK,CAFPS,IAAI,CACDC,IAAI,CAAAC,wBAAA,CACLX,KAAK,CAAAY,SAAA,EAET,IAAAC,SAAA,CAA+BpB,QAAQ,CAAC,CAAEU,IAAI,CAAJA,IAAI,CAAEI,QAAQ,CAARA,QAAS,CAAC,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAApDG,KAAK,CAAAF,UAAA,IAAEG,IAAI,CAAAH,UAAA,IAAEI,OAAO,CAAAJ,UAAA,IAC3B,GAAM,CAAAK,OAAO,CAAG,EAAEF,IAAI,CAACG,OAAO,EAAIH,IAAI,CAACI,KAAK,CAAC,CAC7C,GAAM,CAAAC,KAAK,CAAGN,KAAK,CAACM,KAAK,EAAI,EAAE,CAE/B,mBACExB,IAAA,CAACJ,SAAS,EACR6B,OAAO,CAAEtB,EAAG,CACZC,UAAU,CAAEA,UAAW,CACvBsB,iBAAiB,CAAEP,IAAI,CAACI,KAAM,CAC9Bb,UAAU,CAAEA,UAAW,CACvBiB,SAAS,CAAEN,OAAO,CAAG,SAAS,CAAG,OAAQ,CACzCf,KAAK,CAAEA,KAAM,CACbsB,SAAS,cAAE5B,IAAA,CAACF,OAAO,EAAC+B,OAAO,CAAEtB,OAAQ,CAACuB,QAAQ,CAAEtB,eAAgB,CAAE,CAAE,CAAAuB,QAAA,cAEpE/B,IAAA,CAACH,QAAQ,CAAAmC,aAAA,CAAAA,aAAA,CAAAA,aAAA,EACP7B,EAAE,CAAEA,EAAG,CACPO,UAAU,CAAEA,UAAW,CACvBiB,SAAS,CAAEN,OAAO,CAAG,SAAS,CAAG,OAAQ,CACzCY,iBAAiB,CAAC,UAAU,EACxBrB,IAAI,EACJM,KAAK,MACTM,KAAK,CAAEA,KAAK,CAACU,IAAI,CAAC,IAAI,CAAE,CACxBC,QAAQ,CAAE,SAAAA,SAACC,GAAG,CAAK,CACjB,GAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CACrBjB,OAAO,CAACkB,QAAQ,CAAC,EAAE,CAAC,CACpB,OACF,CACAlB,OAAO,CAACkB,QAAQ,CAACF,GAAG,CAACG,KAAK,CAAC,IAAI,CAAC,CAACC,GAAG,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,CAACJ,IAAI,CAAC,CAAC,GAAC,CAAC,CACxD,CAAE,EACH,CAAC,CACO,CAAC,CAEhB,CAaApC,cAAc,CAACyC,YAAY,CAAG,CAC5BtC,UAAU,CAAE,EAAE,CACdK,QAAQ,CAAE,SAAAA,SAAA,CAAM,CAAC,CAAC,CAClBC,UAAU,CAAE,KAAK,CACjBH,OAAO,CAAE,IAAI,CACbC,eAAe,CAAE,EACnB,CAAC,CAED,cAAe,CAAAP,cAAc"},"metadata":{},"sourceType":"module"}