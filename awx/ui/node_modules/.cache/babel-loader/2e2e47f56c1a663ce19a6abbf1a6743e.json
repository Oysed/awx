{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import{i18n}from\"@lingui/core\";import React,{useCallback,useEffect,useState}from'react';import{useLocation}from'react-router-dom';import{Button,EmptyState,EmptyStateBody,EmptyStateIcon,Title}from'@patternfly/react-core';import{CubesIcon}from'@patternfly/react-icons';import{TeamsAPI,RolesAPI,UsersAPI}from'api';import useRequest,{useDeleteItems}from'hooks/useRequest';import DataListToolbar from'components/DataListToolbar';import PaginatedTable,{HeaderCell,HeaderRow,ToolbarAddButton,getSearchableKeys}from'components/PaginatedTable';import{getQSConfig,parseQueryString}from'util/qs';import ErrorDetail from'components/ErrorDetail';import AlertModal from'components/AlertModal';import UserAndTeamAccessAdd from'components/UserAndTeamAccessAdd/UserAndTeamAccessAdd';import TeamRoleListItem from'./TeamRoleListItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var QS_CONFIG=getQSConfig('roles',{page:1,page_size:20,order_by:'id'});function TeamRolesList(_ref){var _team$summary_fields,_team$summary_fields$;var me=_ref.me,team=_ref.team;var _useLocation=useLocation(),search=_useLocation.search;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),roleToDisassociate=_useState2[0],setRoleToDisassociate=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showAddModal=_useState4[0],setShowAddModal=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),associateError=_useState6[0],setAssociateError=_useState6[1];var _useRequest=useRequest(useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _actionsResponse$data,_actionsResponse$data2;var params,_yield$Promise$all,_yield$Promise$all2,_yield$Promise$all2$,results,count,orgAdminCount,actionsResponse;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:params=parseQueryString(QS_CONFIG,search);_context.next=3;return Promise.all([TeamsAPI.readRoles(team.id,params),UsersAPI.readAdminOfOrganizations(me.id,{id:team.organization}),TeamsAPI.readRoleOptions(team.id)]);case 3:_yield$Promise$all=_context.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,3);_yield$Promise$all2$=_yield$Promise$all2[0].data;results=_yield$Promise$all2$.results;count=_yield$Promise$all2$.count;orgAdminCount=_yield$Promise$all2[1].count;actionsResponse=_yield$Promise$all2[2];return _context.abrupt(\"return\",{roleCount:count,roles:results,isAdminOfOrg:orgAdminCount>0,relatedSearchableKeys:((actionsResponse===null||actionsResponse===void 0?void 0:(_actionsResponse$data=actionsResponse.data)===null||_actionsResponse$data===void 0?void 0:_actionsResponse$data.related_search_fields)||[]).map(function(val){return val.slice(0,-8);}),searchableKeys:getSearchableKeys((_actionsResponse$data2=actionsResponse.data.actions)===null||_actionsResponse$data2===void 0?void 0:_actionsResponse$data2.GET)});case 11:case\"end\":return _context.stop();}}},_callee);})),[me.id,team.id,team.organization,search]),{roles:[],roleCount:0,isAdminOfOrg:false,relatedSearchableKeys:[],searchableKeys:[]}),isLoading=_useRequest.isLoading,fetchRoles=_useRequest.request,contentError=_useRequest.error,_useRequest$result=_useRequest.result,roleCount=_useRequest$result.roleCount,roles=_useRequest$result.roles,isAdminOfOrg=_useRequest$result.isAdminOfOrg,relatedSearchableKeys=_useRequest$result.relatedSearchableKeys,searchableKeys=_useRequest$result.searchableKeys;useEffect(function(){fetchRoles();},[fetchRoles]);var _useDeleteItems=useDeleteItems(useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setRoleToDisassociate(null);_context2.next=3;return RolesAPI.disassociateTeamRole(roleToDisassociate.id,parseInt(team.id,10));case 3:case\"end\":return _context2.stop();}}},_callee2);})),[roleToDisassociate,team.id]),{qsConfig:QS_CONFIG,fetchItems:fetchRoles}),isDisassociateLoading=_useDeleteItems.isLoading,disassociateRole=_useDeleteItems.deleteItems,disassociationError=_useDeleteItems.deletionError,clearDisassociationError=_useDeleteItems.clearDeletionError;var canAdd=(team===null||team===void 0?void 0:(_team$summary_fields=team.summary_fields)===null||_team$summary_fields===void 0?void 0:(_team$summary_fields$=_team$summary_fields.user_capabilities)===null||_team$summary_fields$===void 0?void 0:_team$summary_fields$.edit)||isAdminOfOrg;var detailUrl=function detailUrl(role){var _role$summary_fields=role.summary_fields,resource_id=_role$summary_fields.resource_id,resource_type=_role$summary_fields.resource_type;if(!role||!resource_type){return null;}if(resource_type!==null&&resource_type!==void 0&&resource_type.includes('template')){return\"/templates/\".concat(resource_type,\"/\").concat(resource_id,\"/details\");}if(resource_type!==null&&resource_type!==void 0&&resource_type.includes('inventory')){return\"/inventories/\".concat(resource_type,\"/\").concat(resource_id,\"/details\");}return\"/\".concat(resource_type,\"s/\").concat(resource_id,\"/details\");};var isSysAdmin=roles.some(function(role){return role.name==='System Administrator';});if(isSysAdmin){return/*#__PURE__*/_jsxs(EmptyState,{variant:\"full\",children:[/*#__PURE__*/_jsx(EmptyStateIcon,{icon:CubesIcon}),/*#__PURE__*/_jsx(Title,{headingLevel:\"h5\",size:\"lg\",children:/*i18n*/i18n._(\"System Administrator\")}),/*#__PURE__*/_jsx(EmptyStateBody,{children:/*i18n*/i18n._(\"System administrators have unrestricted access to all resources.\")})]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PaginatedTable,{contentError:contentError,hasContentLoading:isLoading||isDisassociateLoading,items:roles,itemCount:roleCount,pluralizedItemName:/*i18n*/i18n._(\"Team Roles\"),qsConfig:QS_CONFIG,toolbarSearchColumns:[{name:/*i18n*/i18n._(\"Role\"),key:'role_field__icontains',isDefault:true}],toolbarSortColumns:[{name:/*i18n*/i18n._(\"ID\"),key:'id'}],toolbarSearchableKeys:searchableKeys,toolbarRelatedSearchableKeys:relatedSearchableKeys,renderToolbar:function renderToolbar(props){return/*#__PURE__*/_jsx(DataListToolbar,_objectSpread(_objectSpread({},props),{},{qsConfig:QS_CONFIG,additionalControls:_toConsumableArray(canAdd?[/*#__PURE__*/_jsx(ToolbarAddButton,{ouiaId:\"role-add-button\",onClick:function onClick(){return setShowAddModal(true);}},\"add\")]:[])}));},headerRow:/*#__PURE__*/_jsxs(HeaderRow,{qsConfig:QS_CONFIG,isSelectable:false,children:[/*#__PURE__*/_jsx(HeaderCell,{children:/*i18n*/i18n._(\"Resource Name\")}),/*#__PURE__*/_jsx(HeaderCell,{children:/*i18n*/i18n._(\"Type\")}),/*#__PURE__*/_jsx(HeaderCell,{sortKey:\"id\",children:/*i18n*/i18n._(\"Role\")})]}),renderRow:function renderRow(role,index){return/*#__PURE__*/_jsx(TeamRoleListItem,{role:role,detailUrl:detailUrl(role),onDisassociate:setRoleToDisassociate,index:index},role.id);}}),showAddModal&&/*#__PURE__*/_jsx(UserAndTeamAccessAdd,{apiModel:TeamsAPI,onFetchData:function onFetchData(){setShowAddModal(false);fetchRoles();},title:/*i18n*/i18n._(\"Add team permissions\"),onClose:function onClose(){return setShowAddModal(false);},onError:function onError(err){return setAssociateError(err);}}),roleToDisassociate&&/*#__PURE__*/_jsx(AlertModal,{\"aria-label\":/*i18n*/i18n._(\"Disassociate role\"),isOpen:roleToDisassociate,variant:\"error\",title:/*i18n*/i18n._(\"Disassociate role!\"),onClose:function onClose(){return setRoleToDisassociate(null);},actions:[/*#__PURE__*/_jsx(Button,{ouiaId:\"disassociate-confirm-button\",variant:\"danger\",\"aria-label\":/*i18n*/i18n._(\"confirm disassociate\"),onClick:disassociateRole,children:/*i18n*/i18n._(\"Disassociate\")},\"disassociate\"),/*#__PURE__*/_jsx(Button,{ouiaId:\"disassociate-cancel-button\",variant:\"link\",\"aria-label\":/*i18n*/i18n._(\"Cancel\"),onClick:function onClick(){return setRoleToDisassociate(null);},children:/*i18n*/i18n._(\"Cancel\")},\"cancel\")],children:/*#__PURE__*/_jsxs(\"div\",{children:[/*i18n*/i18n._(\"This action will disassociate the following role from {0}:\",{0:roleToDisassociate.summary_fields.resource_name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:roleToDisassociate.name})]})}),associateError&&/*#__PURE__*/_jsxs(AlertModal,{\"aria-label\":/*i18n*/i18n._(\"Associate role error\"),isOpen:associateError,variant:\"error\",title:/*i18n*/i18n._(\"Error!\"),onClose:function onClose(){return setAssociateError(null);},children:[/*i18n*/i18n._(\"Failed to associate role\"),/*#__PURE__*/_jsx(ErrorDetail,{error:associateError})]}),disassociationError&&/*#__PURE__*/_jsxs(AlertModal,{isOpen:disassociationError,variant:\"error\",title:/*i18n*/i18n._(\"Error!\"),onClose:clearDisassociationError,children:[/*i18n*/i18n._(\"Failed to delete role.\"),/*#__PURE__*/_jsx(ErrorDetail,{error:disassociationError})]})]});}export default TeamRolesList;","map":{"version":3,"names":["React","useCallback","useEffect","useState","useLocation","Button","EmptyState","EmptyStateBody","EmptyStateIcon","Title","CubesIcon","TeamsAPI","RolesAPI","UsersAPI","useRequest","useDeleteItems","DataListToolbar","PaginatedTable","HeaderCell","HeaderRow","ToolbarAddButton","getSearchableKeys","getQSConfig","parseQueryString","ErrorDetail","AlertModal","UserAndTeamAccessAdd","TeamRoleListItem","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","QS_CONFIG","page","page_size","order_by","TeamRolesList","_ref","_team$summary_fields","_team$summary_fields$","me","team","_useLocation","search","_useState","_useState2","_slicedToArray","roleToDisassociate","setRoleToDisassociate","_useState3","_useState4","showAddModal","setShowAddModal","_useState5","_useState6","associateError","setAssociateError","_useRequest","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_actionsResponse$data","_actionsResponse$data2","params","_yield$Promise$all","_yield$Promise$all2","_yield$Promise$all2$","results","count","orgAdminCount","actionsResponse","wrap","_callee$","_context","prev","next","Promise","all","readRoles","id","readAdminOfOrganizations","organization","readRoleOptions","sent","data","abrupt","roleCount","roles","isAdminOfOrg","relatedSearchableKeys","related_search_fields","map","val","slice","searchableKeys","actions","GET","stop","isLoading","fetchRoles","request","contentError","error","_useRequest$result","result","_useDeleteItems","_callee2","_callee2$","_context2","disassociateTeamRole","parseInt","qsConfig","fetchItems","isDisassociateLoading","disassociateRole","deleteItems","disassociationError","deletionError","clearDisassociationError","clearDeletionError","canAdd","summary_fields","user_capabilities","edit","detailUrl","role","_role$summary_fields","resource_id","resource_type","includes","concat","isSysAdmin","some","name","variant","children","icon","headingLevel","size","i18n","_","hasContentLoading","items","itemCount","pluralizedItemName","toolbarSearchColumns","key","isDefault","toolbarSortColumns","toolbarSearchableKeys","toolbarRelatedSearchableKeys","renderToolbar","props","_objectSpread","additionalControls","_toConsumableArray","ouiaId","onClick","headerRow","isSelectable","sortKey","renderRow","index","onDisassociate","apiModel","onFetchData","title","onClose","onError","err","isOpen","0","resource_name"],"sources":["/awx_devel/awx/ui/src/screens/Team/TeamRoles/TeamRolesList.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { t } from '@lingui/macro';\nimport {\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  Title,\n} from '@patternfly/react-core';\nimport { CubesIcon } from '@patternfly/react-icons';\nimport { TeamsAPI, RolesAPI, UsersAPI } from 'api';\nimport useRequest, { useDeleteItems } from 'hooks/useRequest';\nimport DataListToolbar from 'components/DataListToolbar';\nimport PaginatedTable, {\n  HeaderCell,\n  HeaderRow,\n  ToolbarAddButton,\n  getSearchableKeys,\n} from 'components/PaginatedTable';\nimport { getQSConfig, parseQueryString } from 'util/qs';\nimport ErrorDetail from 'components/ErrorDetail';\nimport AlertModal from 'components/AlertModal';\nimport UserAndTeamAccessAdd from 'components/UserAndTeamAccessAdd/UserAndTeamAccessAdd';\nimport TeamRoleListItem from './TeamRoleListItem';\n\nconst QS_CONFIG = getQSConfig('roles', {\n  page: 1,\n  page_size: 20,\n  order_by: 'id',\n});\n\nfunction TeamRolesList({ me, team }) {\n  const { search } = useLocation();\n  const [roleToDisassociate, setRoleToDisassociate] = useState(null);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [associateError, setAssociateError] = useState(null);\n\n  const {\n    isLoading,\n    request: fetchRoles,\n    error: contentError,\n    result: {\n      roleCount,\n      roles,\n      isAdminOfOrg,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, search);\n      const [\n        {\n          data: { results, count },\n        },\n        { count: orgAdminCount },\n        actionsResponse,\n      ] = await Promise.all([\n        TeamsAPI.readRoles(team.id, params),\n        UsersAPI.readAdminOfOrganizations(me.id, {\n          id: team.organization,\n        }),\n        TeamsAPI.readRoleOptions(team.id),\n      ]);\n      return {\n        roleCount: count,\n        roles: results,\n        isAdminOfOrg: orgAdminCount > 0,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map((val) => val.slice(0, -8)),\n        searchableKeys: getSearchableKeys(actionsResponse.data.actions?.GET),\n      };\n    }, [me.id, team.id, team.organization, search]),\n    {\n      roles: [],\n      roleCount: 0,\n      isAdminOfOrg: false,\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchRoles();\n  }, [fetchRoles]);\n\n  const {\n    isLoading: isDisassociateLoading,\n    deleteItems: disassociateRole,\n    deletionError: disassociationError,\n    clearDeletionError: clearDisassociationError,\n  } = useDeleteItems(\n    useCallback(async () => {\n      setRoleToDisassociate(null);\n      await RolesAPI.disassociateTeamRole(\n        roleToDisassociate.id,\n        parseInt(team.id, 10)\n      );\n    }, [roleToDisassociate, team.id]),\n    { qsConfig: QS_CONFIG, fetchItems: fetchRoles }\n  );\n\n  const canAdd = team?.summary_fields?.user_capabilities?.edit || isAdminOfOrg;\n  const detailUrl = (role) => {\n    const { resource_id, resource_type } = role.summary_fields;\n\n    if (!role || !resource_type) {\n      return null;\n    }\n\n    if (resource_type?.includes('template')) {\n      return `/templates/${resource_type}/${resource_id}/details`;\n    }\n    if (resource_type?.includes('inventory')) {\n      return `/inventories/${resource_type}/${resource_id}/details`;\n    }\n    return `/${resource_type}s/${resource_id}/details`;\n  };\n\n  const isSysAdmin = roles.some((role) => role.name === 'System Administrator');\n  if (isSysAdmin) {\n    return (\n      <EmptyState variant=\"full\">\n        <EmptyStateIcon icon={CubesIcon} />\n        <Title headingLevel=\"h5\" size=\"lg\">\n          {t`System Administrator`}\n        </Title>\n        <EmptyStateBody>\n          {t`System administrators have unrestricted access to all resources.`}\n        </EmptyStateBody>\n      </EmptyState>\n    );\n  }\n\n  return (\n    <>\n      <PaginatedTable\n        contentError={contentError}\n        hasContentLoading={isLoading || isDisassociateLoading}\n        items={roles}\n        itemCount={roleCount}\n        pluralizedItemName={t`Team Roles`}\n        qsConfig={QS_CONFIG}\n        toolbarSearchColumns={[\n          {\n            name: t`Role`,\n            key: 'role_field__icontains',\n            isDefault: true,\n          },\n        ]}\n        toolbarSortColumns={[\n          {\n            name: t`ID`,\n            key: 'id',\n          },\n        ]}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        renderToolbar={(props) => (\n          <DataListToolbar\n            {...props}\n            qsConfig={QS_CONFIG}\n            additionalControls={[\n              ...(canAdd\n                ? [\n                    <ToolbarAddButton\n                      ouiaId=\"role-add-button\"\n                      key=\"add\"\n                      onClick={() => setShowAddModal(true)}\n                    />,\n                  ]\n                : []),\n            ]}\n          />\n        )}\n        headerRow={\n          <HeaderRow qsConfig={QS_CONFIG} isSelectable={false}>\n            <HeaderCell>{t`Resource Name`}</HeaderCell>\n            <HeaderCell>{t`Type`}</HeaderCell>\n            <HeaderCell sortKey=\"id\">{t`Role`}</HeaderCell>\n          </HeaderRow>\n        }\n        renderRow={(role, index) => (\n          <TeamRoleListItem\n            key={role.id}\n            role={role}\n            detailUrl={detailUrl(role)}\n            onDisassociate={setRoleToDisassociate}\n            index={index}\n          />\n        )}\n      />\n      {showAddModal && (\n        <UserAndTeamAccessAdd\n          apiModel={TeamsAPI}\n          onFetchData={() => {\n            setShowAddModal(false);\n            fetchRoles();\n          }}\n          title={t`Add team permissions`}\n          onClose={() => setShowAddModal(false)}\n          onError={(err) => setAssociateError(err)}\n        />\n      )}\n      {roleToDisassociate && (\n        <AlertModal\n          aria-label={t`Disassociate role`}\n          isOpen={roleToDisassociate}\n          variant=\"error\"\n          title={t`Disassociate role!`}\n          onClose={() => setRoleToDisassociate(null)}\n          actions={[\n            <Button\n              ouiaId=\"disassociate-confirm-button\"\n              key=\"disassociate\"\n              variant=\"danger\"\n              aria-label={t`confirm disassociate`}\n              onClick={disassociateRole}\n            >\n              {t`Disassociate`}\n            </Button>,\n            <Button\n              ouiaId=\"disassociate-cancel-button\"\n              key=\"cancel\"\n              variant=\"link\"\n              aria-label={t`Cancel`}\n              onClick={() => setRoleToDisassociate(null)}\n            >\n              {t`Cancel`}\n            </Button>,\n          ]}\n        >\n          <div>\n            {t`This action will disassociate the following role from ${roleToDisassociate.summary_fields.resource_name}:`}\n            <br />\n            <strong>{roleToDisassociate.name}</strong>\n          </div>\n        </AlertModal>\n      )}\n      {associateError && (\n        <AlertModal\n          aria-label={t`Associate role error`}\n          isOpen={associateError}\n          variant=\"error\"\n          title={t`Error!`}\n          onClose={() => setAssociateError(null)}\n        >\n          {t`Failed to associate role`}\n          <ErrorDetail error={associateError} />\n        </AlertModal>\n      )}\n      {disassociationError && (\n        <AlertModal\n          isOpen={disassociationError}\n          variant=\"error\"\n          title={t`Error!`}\n          onClose={clearDisassociationError}\n        >\n          {t`Failed to delete role.`}\n          <ErrorDetail error={disassociationError} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\nexport default TeamRolesList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}