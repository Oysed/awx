{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import{CardBody}from'components/Card';import{UsersAPI}from'api';import UserForm from'../shared/UserForm';import{jsx as _jsx}from\"react/jsx-runtime\";function UserEdit(_ref){var user=_ref.user;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),formSubmitError=_useState2[0],setFormSubmitError=_useState2[1];var history=useHistory();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setFormSubmitError(null);_context.prev=1;delete values.organization;_context.next=5;return UsersAPI.update(user.id,values);case 5:history.push(\"/users/\".concat(user.id,\"/details\"));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);setFormSubmitError(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handleCancel=function handleCancel(){history.push(\"/users/\".concat(user.id,\"/details\"));};return/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(UserForm,{user:user,handleCancel:handleCancel,handleSubmit:handleSubmit,submitError:formSubmitError})});}export default UserEdit;","map":{"version":3,"names":["React","useState","useHistory","CardBody","UsersAPI","UserForm","jsx","_jsx","UserEdit","_ref","user","_useState","_useState2","_slicedToArray","formSubmitError","setFormSubmitError","history","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","wrap","_callee$","_context","prev","next","organization","update","id","push","concat","t0","stop","_x","apply","arguments","handleCancel","children","submitError"],"sources":["/awx_devel/awx/ui/src/screens/User/UserEdit/UserEdit.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { CardBody } from 'components/Card';\nimport { UsersAPI } from 'api';\nimport UserForm from '../shared/UserForm';\n\nfunction UserEdit({ user }) {\n  const [formSubmitError, setFormSubmitError] = useState(null);\n\n  const history = useHistory();\n\n  const handleSubmit = async (values) => {\n    setFormSubmitError(null);\n    try {\n      delete values.organization;\n      await UsersAPI.update(user.id, values);\n      history.push(`/users/${user.id}/details`);\n    } catch (error) {\n      setFormSubmitError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/users/${user.id}/details`);\n  };\n\n  return (\n    <CardBody>\n      <UserForm\n        user={user}\n        handleCancel={handleCancel}\n        handleSubmit={handleSubmit}\n        submitError={formSubmitError}\n      />\n    </CardBody>\n  );\n}\n\nexport default UserEdit;\n"],"mappings":"wTAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,UAAU,KAAQ,kBAAkB,CAE7C,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,OAASC,QAAQ,KAAQ,KAAK,CAC9B,MAAO,CAAAC,QAAQ,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1C,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAW,IAAR,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CACtB,IAAAC,SAAA,CAA8CV,QAAQ,CAAC,IAAI,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArDG,eAAe,CAAAF,UAAA,IAAEG,kBAAkB,CAAAH,UAAA,IAE1C,GAAM,CAAAI,OAAO,CAAGd,UAAU,CAAC,CAAC,CAE5B,GAAM,CAAAe,YAAY,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAOC,MAAM,SAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAChCb,kBAAkB,CAAC,IAAI,CAAC,CAACW,QAAA,CAAAC,IAAA,GAEvB,MAAO,CAAAJ,MAAM,CAACM,YAAY,CAACH,QAAA,CAAAE,IAAA,SACrB,CAAAxB,QAAQ,CAAC0B,MAAM,CAACpB,IAAI,CAACqB,EAAE,CAAER,MAAM,CAAC,QACtCP,OAAO,CAACgB,IAAI,WAAAC,MAAA,CAAWvB,IAAI,CAACqB,EAAE,YAAU,CAAC,CAACL,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAQ,EAAA,CAAAR,QAAA,aAE1CX,kBAAkB,CAAAW,QAAA,CAAAQ,EAAM,CAAC,CAAC,yBAAAR,QAAA,CAAAS,IAAA,OAAAb,OAAA,gBAE7B,kBATK,CAAAL,YAAYA,CAAAmB,EAAA,SAAAlB,KAAA,CAAAmB,KAAA,MAAAC,SAAA,OASjB,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzBvB,OAAO,CAACgB,IAAI,WAAAC,MAAA,CAAWvB,IAAI,CAACqB,EAAE,YAAU,CAAC,CAC3C,CAAC,CAED,mBACExB,IAAA,CAACJ,QAAQ,EAAAqC,QAAA,cACPjC,IAAA,CAACF,QAAQ,EACPK,IAAI,CAAEA,IAAK,CACX6B,YAAY,CAAEA,YAAa,CAC3BtB,YAAY,CAAEA,YAAa,CAC3BwB,WAAW,CAAE3B,eAAgB,CAC9B,CAAC,CACM,CAAC,CAEf,CAEA,cAAe,CAAAN,QAAQ"},"metadata":{},"sourceType":"module"}