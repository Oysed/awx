{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import{i18n}from\"@lingui/core\";import React,{useCallback}from'react';import{Link,useHistory,useParams}from'react-router-dom';import{Button}from'@patternfly/react-core';import AlertModal from'components/AlertModal';import{CardBody,CardActionsRow}from'components/Card';import DeleteButton from'components/DeleteButton';import{DetailList,Detail}from'components/DetailList';import ErrorDetail from'components/ErrorDetail';import{formatDateString}from'util/dates';import{TeamsAPI}from'api';import useRequest,{useDismissableError}from'hooks/useRequest';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TeamDetail(_ref){var team=_ref.team;var name=team.name,description=team.description,created=team.created,modified=team.modified,summary_fields=team.summary_fields;var history=useHistory();var _useParams=useParams(),id=_useParams.id;var _useRequest=useRequest(useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return TeamsAPI.destroy(id);case 2:history.push(\"/teams\");case 3:case\"end\":return _context.stop();}}},_callee);})),[id,history])),deleteTeam=_useRequest.request,isLoading=_useRequest.isLoading,deleteError=_useRequest.error;var _useDismissableError=useDismissableError(deleteError),error=_useDismissableError.error,dismissError=_useDismissableError.dismissError;return/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(DetailList,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Name\"),value:name,dataCy:\"team-detail-name\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Description\"),value:description}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Organization\"),value:/*#__PURE__*/_jsx(Link,{to:\"/organizations/\".concat(summary_fields.organization.id),children:summary_fields.organization.name})}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Created\"),value:formatDateString(created)}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Last Modified\"),value:formatDateString(modified)})]}),/*#__PURE__*/_jsxs(CardActionsRow,{children:[summary_fields.user_capabilities&&summary_fields.user_capabilities.edit&&/*#__PURE__*/_jsx(Button,{ouiaId:\"team-detail-edit-button\",\"aria-label\":/*i18n*/i18n._(\"Edit\"),component:Link,to:\"/teams/\".concat(id,\"/edit\"),children:/*i18n*/i18n._(\"Edit\")}),summary_fields.user_capabilities&&summary_fields.user_capabilities.delete&&/*#__PURE__*/_jsx(DeleteButton,{name:name,modalTitle:/*i18n*/i18n._(\"Delete Team\"),onConfirm:deleteTeam,isDisabled:isLoading,children:/*i18n*/i18n._(\"Delete\")})]}),error&&/*#__PURE__*/_jsxs(AlertModal,{isOpen:error,variant:\"error\",title:/*i18n*/i18n._(\"Error!\"),onClose:dismissError,children:[/*i18n*/i18n._(\"Failed to delete team.\"),/*#__PURE__*/_jsx(ErrorDetail,{error:error})]})]});}export default TeamDetail;","map":{"version":3,"names":["React","useCallback","Link","useHistory","useParams","Button","AlertModal","CardBody","CardActionsRow","DeleteButton","DetailList","Detail","ErrorDetail","formatDateString","TeamsAPI","useRequest","useDismissableError","jsx","_jsx","jsxs","_jsxs","TeamDetail","_ref","team","name","description","created","modified","summary_fields","history","_useParams","id","_useRequest","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","destroy","push","stop","deleteTeam","request","isLoading","deleteError","error","_useDismissableError","dismissError","children","label","i18n","_","value","dataCy","to","concat","organization","user_capabilities","edit","ouiaId","component","delete","modalTitle","onConfirm","isDisabled","isOpen","variant","title","onClose"],"sources":["/awx_devel/awx/ui/src/screens/Team/TeamDetail/TeamDetail.js"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { Link, useHistory, useParams } from 'react-router-dom';\n\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\n\nimport AlertModal from 'components/AlertModal';\nimport { CardBody, CardActionsRow } from 'components/Card';\nimport DeleteButton from 'components/DeleteButton';\nimport { DetailList, Detail } from 'components/DetailList';\nimport ErrorDetail from 'components/ErrorDetail';\nimport { formatDateString } from 'util/dates';\nimport { TeamsAPI } from 'api';\nimport useRequest, { useDismissableError } from 'hooks/useRequest';\n\nfunction TeamDetail({ team }) {\n  const { name, description, created, modified, summary_fields } = team;\n  const history = useHistory();\n  const { id } = useParams();\n\n  const {\n    request: deleteTeam,\n    isLoading,\n    error: deleteError,\n  } = useRequest(\n    useCallback(async () => {\n      await TeamsAPI.destroy(id);\n      history.push(`/teams`);\n    }, [id, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  return (\n    <CardBody>\n      <DetailList>\n        <Detail label={t`Name`} value={name} dataCy=\"team-detail-name\" />\n        <Detail label={t`Description`} value={description} />\n        <Detail\n          label={t`Organization`}\n          value={\n            <Link to={`/organizations/${summary_fields.organization.id}`}>\n              {summary_fields.organization.name}\n            </Link>\n          }\n        />\n        <Detail label={t`Created`} value={formatDateString(created)} />\n        <Detail label={t`Last Modified`} value={formatDateString(modified)} />\n      </DetailList>\n      <CardActionsRow>\n        {summary_fields.user_capabilities &&\n          summary_fields.user_capabilities.edit && (\n            <Button\n              ouiaId=\"team-detail-edit-button\"\n              aria-label={t`Edit`}\n              component={Link}\n              to={`/teams/${id}/edit`}\n            >\n              {t`Edit`}\n            </Button>\n          )}\n        {summary_fields.user_capabilities &&\n          summary_fields.user_capabilities.delete && (\n            <DeleteButton\n              name={name}\n              modalTitle={t`Delete Team`}\n              onConfirm={deleteTeam}\n              isDisabled={isLoading}\n            >\n              {t`Delete`}\n            </DeleteButton>\n          )}\n      </CardActionsRow>\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={t`Error!`}\n          onClose={dismissError}\n        >\n          {t`Failed to delete team.`}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\n\nexport default TeamDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}