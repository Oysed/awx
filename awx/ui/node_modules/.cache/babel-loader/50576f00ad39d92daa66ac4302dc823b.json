{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import{PageSection,Card}from'@patternfly/react-core';import HostForm from'components/HostForm';import{CardBody}from'components/Card';import{HostsAPI}from'api';import{jsx as _jsx}from\"react/jsx-runtime\";function HostAdd(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),formError=_useState2[0],setFormError=_useState2[1];var history=useHistory();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(formData){var dataToSend,_yield$HostsAPI$creat,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dataToSend=_objectSpread({},formData);if(dataToSend.inventory){dataToSend.inventory=dataToSend.inventory.id;}_context.next=5;return HostsAPI.create(dataToSend);case 5:_yield$HostsAPI$creat=_context.sent;response=_yield$HostsAPI$creat.data;history.push(\"/hosts/\".concat(response.id,\"/details\"));_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);setFormError(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleCancel=function handleCancel(){history.push(\"/hosts\");};return/*#__PURE__*/_jsx(PageSection,{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(HostForm,{handleSubmit:handleSubmit,handleCancel:handleCancel,submitError:formError})})})});}export default HostAdd;","map":{"version":3,"names":["React","useState","useHistory","PageSection","Card","HostForm","CardBody","HostsAPI","jsx","_jsx","HostAdd","_useState","_useState2","_slicedToArray","formError","setFormError","history","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","dataToSend","_yield$HostsAPI$creat","response","wrap","_callee$","_context","prev","next","_objectSpread","inventory","id","create","sent","data","push","concat","t0","stop","_x","apply","arguments","handleCancel","children","submitError"],"sources":["/awx_devel/awx/ui/src/screens/Host/HostAdd/HostAdd.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport HostForm from 'components/HostForm';\nimport { CardBody } from 'components/Card';\nimport { HostsAPI } from 'api';\n\nfunction HostAdd() {\n  const [formError, setFormError] = useState(null);\n  const history = useHistory();\n\n  const handleSubmit = async (formData) => {\n    try {\n      const dataToSend = { ...formData };\n      if (dataToSend.inventory) {\n        dataToSend.inventory = dataToSend.inventory.id;\n      }\n      const { data: response } = await HostsAPI.create(dataToSend);\n      history.push(`/hosts/${response.id}/details`);\n    } catch (error) {\n      setFormError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/hosts`);\n  };\n\n  return (\n    <PageSection>\n      <Card>\n        <CardBody>\n          <HostForm\n            handleSubmit={handleSubmit}\n            handleCancel={handleCancel}\n            submitError={formError}\n          />\n        </CardBody>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default HostAdd;\n"],"mappings":"8ZAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,OAASC,WAAW,CAAEC,IAAI,KAAQ,wBAAwB,CAC1D,MAAO,CAAAC,QAAQ,KAAM,qBAAqB,CAC1C,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,OAASC,QAAQ,KAAQ,KAAK,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE/B,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACjB,IAAAC,SAAA,CAAkCV,QAAQ,CAAC,IAAI,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,GAAM,CAAAI,OAAO,CAAGd,UAAU,CAAC,CAAC,CAE5B,GAAM,CAAAe,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAOC,QAAQ,MAAAC,UAAA,CAAAC,qBAAA,CAAAC,QAAA,QAAAN,mBAAA,CAAAO,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAE1BN,UAAU,CAAAQ,aAAA,IAAQT,QAAQ,EAChC,GAAIC,UAAU,CAACS,SAAS,CAAE,CACxBT,UAAU,CAACS,SAAS,CAAGT,UAAU,CAACS,SAAS,CAACC,EAAE,CAChD,CAACL,QAAA,CAAAE,IAAA,SACgC,CAAAxB,QAAQ,CAAC4B,MAAM,CAACX,UAAU,CAAC,QAAAC,qBAAA,CAAAI,QAAA,CAAAO,IAAA,CAA9CV,QAAQ,CAAAD,qBAAA,CAAdY,IAAI,CACZrB,OAAO,CAACsB,IAAI,WAAAC,MAAA,CAAWb,QAAQ,CAACQ,EAAE,YAAU,CAAC,CAACL,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAW,EAAA,CAAAX,QAAA,aAE9Cd,YAAY,CAAAc,QAAA,CAAAW,EAAM,CAAC,CAAC,yBAAAX,QAAA,CAAAY,IAAA,OAAAnB,OAAA,iBAEvB,kBAXK,CAAAL,YAAYA,CAAAyB,EAAA,SAAAxB,IAAA,CAAAyB,KAAA,MAAAC,SAAA,OAWjB,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzB7B,OAAO,CAACsB,IAAI,SAAS,CAAC,CACxB,CAAC,CAED,mBACE7B,IAAA,CAACN,WAAW,EAAA2C,QAAA,cACVrC,IAAA,CAACL,IAAI,EAAA0C,QAAA,cACHrC,IAAA,CAACH,QAAQ,EAAAwC,QAAA,cACPrC,IAAA,CAACJ,QAAQ,EACPY,YAAY,CAAEA,YAAa,CAC3B4B,YAAY,CAAEA,YAAa,CAC3BE,WAAW,CAAEjC,SAAU,CACxB,CAAC,CACM,CAAC,CACP,CAAC,CACI,CAAC,CAElB,CAEA,cAAe,CAAAJ,OAAO"},"metadata":{},"sourceType":"module"}