{"ast":null,"code":"import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _styled2 from\"styled-components\";import _styled from\"styled-components\";import{i18n}from\"@lingui/core\";import React,{useState}from'react';import styled from'styled-components';import{Split,SplitItem,TextListItemVariants}from'@patternfly/react-core';import{formatDateString}from'util/dates';import{DetailName,DetailValue}from'../../DetailList';import MultiButtonToggle from'../../MultiButtonToggle';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var OccurrencesLabel=styled.div.withConfig({displayName:\"ScheduleOccurrences__OccurrencesLabel\",componentId:\"sc-60c0oa-0\"})([\"display:inline-block;font-size:var(--pf-c-form__label--FontSize);font-weight:var(--pf-c-form__label--FontWeight);line-height:var(--pf-c-form__label--LineHeight);color:var(--pf-c-form__label--Color);span:first-of-type{font-weight:var(--pf-global--FontWeight--bold);margin-right:10px;}\"]);var _StyledDetailName=styled(DetailName).withConfig({displayName:\"ScheduleOccurrences___StyledDetailName\",componentId:\"sc-60c0oa-1\"})([\"grid-column:1 / -1\"]);var _StyledDetailValue=styled(DetailValue).withConfig({displayName:\"ScheduleOccurrences___StyledDetailValue\",componentId:\"sc-60c0oa-2\"})([\"grid-column:1 / -1;margin-top:-10px\"]);function ScheduleOccurrences(_ref){var _ref$preview=_ref.preview,preview=_ref$preview===void 0?{local:[],utc:[]}:_ref$preview,tz=_ref.tz;var _useState=useState('local'),_useState2=_slicedToArray(_useState,2),mode=_useState2[0],setMode=_useState2[1];if(preview.local.length<2){return null;}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(_StyledDetailName,{component:TextListItemVariants.dt,fullWidth:true,children:/*#__PURE__*/_jsxs(Split,{hasGutter:true,children:[/*#__PURE__*/_jsx(SplitItem,{children:/*#__PURE__*/_jsxs(OccurrencesLabel,{children:[/*#__PURE__*/_jsx(\"span\",{children:/*i18n*/i18n._(\"Occurrences\")}),/*#__PURE__*/_jsx(\"span\",{children:/*i18n*/i18n._(\"(Limited to first 10)\")})]})}),/*#__PURE__*/_jsx(SplitItem,{children:/*#__PURE__*/_jsx(MultiButtonToggle,{buttons:[['local',/*i18n*/i18n._(\"Local\")],['utc',/*i18n*/i18n._(\"UTC\")]],value:mode,onChange:function onChange(newMode){return setMode(newMode);},name:\"timezone\"})})]})}),/*#__PURE__*/_jsx(_StyledDetailValue,{component:TextListItemVariants.dd,fullWidth:true,children:preview[mode].map(function(dateStr){return/*#__PURE__*/_jsx(\"div\",{children:mode==='local'?formatDateString(dateStr,tz):formatDateString(dateStr,'UTC')},dateStr);})})]});}ScheduleOccurrences.defaultProps={preview:{local:[],utc:[]},tz:Intl.DateTimeFormat().resolvedOptions().timeZone};export default ScheduleOccurrences;","map":{"version":3,"names":["React","useState","styled","Split","SplitItem","TextListItemVariants","formatDateString","DetailName","DetailValue","MultiButtonToggle","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","OccurrencesLabel","div","withConfig","displayName","componentId","_StyledDetailName","_StyledDetailValue","ScheduleOccurrences","_ref","_ref$preview","preview","local","utc","tz","_useState","_useState2","_slicedToArray","mode","setMode","length","children","component","dt","fullWidth","hasGutter","i18n","_","buttons","value","onChange","newMode","name","dd","map","dateStr","defaultProps","Intl","DateTimeFormat","resolvedOptions","timeZone"],"sources":["/awx_devel/awx/ui/src/components/Schedule/ScheduleOccurrences/ScheduleOccurrences.js"],"sourcesContent":["import 'styled-components/macro';\nimport React, { useState } from 'react';\nimport { shape, string } from 'prop-types';\nimport styled from 'styled-components';\n\nimport { t } from '@lingui/macro';\nimport { Split, SplitItem, TextListItemVariants } from '@patternfly/react-core';\nimport { formatDateString } from 'util/dates';\nimport { DetailName, DetailValue } from '../../DetailList';\nimport MultiButtonToggle from '../../MultiButtonToggle';\n\nconst OccurrencesLabel = styled.div`\n  display: inline-block;\n  font-size: var(--pf-c-form__label--FontSize);\n  font-weight: var(--pf-c-form__label--FontWeight);\n  line-height: var(--pf-c-form__label--LineHeight);\n  color: var(--pf-c-form__label--Color);\n\n  span:first-of-type {\n    font-weight: var(--pf-global--FontWeight--bold);\n    margin-right: 10px;\n  }\n`;\n\nfunction ScheduleOccurrences({ preview = { local: [], utc: [] }, tz }) {\n  const [mode, setMode] = useState('local');\n\n  if (preview.local.length < 2) {\n    return null;\n  }\n\n  return (\n    <>\n      <DetailName\n        component={TextListItemVariants.dt}\n        fullWidth\n        css=\"grid-column: 1 / -1\"\n      >\n        <Split hasGutter>\n          <SplitItem>\n            <OccurrencesLabel>\n              <span>{t`Occurrences`}</span>\n              <span>{t`(Limited to first 10)`}</span>\n            </OccurrencesLabel>\n          </SplitItem>\n          <SplitItem>\n            <MultiButtonToggle\n              buttons={[\n                ['local', t`Local`],\n                ['utc', t`UTC`],\n              ]}\n              value={mode}\n              onChange={(newMode) => setMode(newMode)}\n              name=\"timezone\"\n            />\n          </SplitItem>\n        </Split>\n      </DetailName>\n      <DetailValue\n        component={TextListItemVariants.dd}\n        fullWidth\n        css=\"grid-column: 1 / -1; margin-top: -10px\"\n      >\n        {preview[mode].map((dateStr) => (\n          <div key={dateStr}>\n            {mode === 'local'\n              ? formatDateString(dateStr, tz)\n              : formatDateString(dateStr, 'UTC')}\n          </div>\n        ))}\n      </DetailValue>\n    </>\n  );\n}\n\nScheduleOccurrences.propTypes = {\n  preview: shape(),\n  tz: string,\n};\n\nScheduleOccurrences.defaultProps = {\n  preview: { local: [], utc: [] },\n  tz: Intl.DateTimeFormat().resolvedOptions().timeZone,\n};\n\nexport default ScheduleOccurrences;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}