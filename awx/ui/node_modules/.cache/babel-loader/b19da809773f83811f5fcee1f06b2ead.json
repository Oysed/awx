{"ast":null,"code":"import React from'react';import{Switch,Route,useRouteMatch}from'react-router-dom';import Schedule from'./Schedule';import ScheduleAdd from'./ScheduleAdd';import ScheduleList from'./ScheduleList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Schedules(_ref){var apiModel=_ref.apiModel,loadScheduleOptions=_ref.loadScheduleOptions,loadSchedules=_ref.loadSchedules,setBreadcrumb=_ref.setBreadcrumb,launchConfig=_ref.launchConfig,surveyConfig=_ref.surveyConfig,resource=_ref.resource,resourceDefaultCredentials=_ref.resourceDefaultCredentials;var match=useRouteMatch();// For some management jobs that delete data, we want to provide an additional\n// field on the scheduler for configuring the number of days to retain.\nvar hasDaysToKeepField=['cleanup_activitystream','cleanup_jobs'].includes(resource===null||resource===void 0?void 0:resource.job_type);return/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.path,\"/add\"),children:/*#__PURE__*/_jsx(ScheduleAdd,{hasDaysToKeepField:hasDaysToKeepField,apiModel:apiModel,resource:resource,launchConfig:launchConfig,surveyConfig:surveyConfig,resourceDefaultCredentials:resourceDefaultCredentials})}),/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.path,\"/:scheduleId\"),children:/*#__PURE__*/_jsx(Schedule,{hasDaysToKeepField:hasDaysToKeepField,setBreadcrumb:setBreadcrumb,resource:resource,launchConfig:launchConfig,surveyConfig:surveyConfig,resourceDefaultCredentials:resourceDefaultCredentials})},\"details\"),/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.path),children:/*#__PURE__*/_jsx(ScheduleList,{resource:resource,loadSchedules:loadSchedules,launchConfig:launchConfig,surveyConfig:surveyConfig,loadScheduleOptions:loadScheduleOptions})},\"list\")]});}export{Schedules as _Schedules};export default Schedules;","map":{"version":3,"names":["React","Switch","Route","useRouteMatch","Schedule","ScheduleAdd","ScheduleList","jsx","_jsx","jsxs","_jsxs","Schedules","_ref","apiModel","loadScheduleOptions","loadSchedules","setBreadcrumb","launchConfig","surveyConfig","resource","resourceDefaultCredentials","match","hasDaysToKeepField","includes","job_type","children","path","concat","_Schedules"],"sources":["/awx_devel/awx/ui/src/components/Schedule/Schedules.js"],"sourcesContent":["import React from 'react';\nimport { Switch, Route, useRouteMatch } from 'react-router-dom';\n\nimport Schedule from './Schedule';\nimport ScheduleAdd from './ScheduleAdd';\nimport ScheduleList from './ScheduleList';\n\nfunction Schedules({\n  apiModel,\n  loadScheduleOptions,\n  loadSchedules,\n  setBreadcrumb,\n  launchConfig,\n  surveyConfig,\n  resource,\n  resourceDefaultCredentials,\n}) {\n  const match = useRouteMatch();\n\n  // For some management jobs that delete data, we want to provide an additional\n  // field on the scheduler for configuring the number of days to retain.\n\n  const hasDaysToKeepField = [\n    'cleanup_activitystream',\n    'cleanup_jobs',\n  ].includes(resource?.job_type);\n\n  return (\n    <Switch>\n      <Route path={`${match.path}/add`}>\n        <ScheduleAdd\n          hasDaysToKeepField={hasDaysToKeepField}\n          apiModel={apiModel}\n          resource={resource}\n          launchConfig={launchConfig}\n          surveyConfig={surveyConfig}\n          resourceDefaultCredentials={resourceDefaultCredentials}\n        />\n      </Route>\n      <Route key=\"details\" path={`${match.path}/:scheduleId`}>\n        <Schedule\n          hasDaysToKeepField={hasDaysToKeepField}\n          setBreadcrumb={setBreadcrumb}\n          resource={resource}\n          launchConfig={launchConfig}\n          surveyConfig={surveyConfig}\n          resourceDefaultCredentials={resourceDefaultCredentials}\n        />\n      </Route>\n      <Route key=\"list\" path={`${match.path}`}>\n        <ScheduleList\n          resource={resource}\n          loadSchedules={loadSchedules}\n          launchConfig={launchConfig}\n          surveyConfig={surveyConfig}\n          loadScheduleOptions={loadScheduleOptions}\n        />\n      </Route>\n    </Switch>\n  );\n}\n\nexport { Schedules as _Schedules };\nexport default Schedules;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,CAAEC,KAAK,CAAEC,aAAa,KAAQ,kBAAkB,CAE/D,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1C,QAAS,CAAAC,SAASA,CAAAC,IAAA,CASf,IARD,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACRC,mBAAmB,CAAAF,IAAA,CAAnBE,mBAAmB,CACnBC,aAAa,CAAAH,IAAA,CAAbG,aAAa,CACbC,aAAa,CAAAJ,IAAA,CAAbI,aAAa,CACbC,YAAY,CAAAL,IAAA,CAAZK,YAAY,CACZC,YAAY,CAAAN,IAAA,CAAZM,YAAY,CACZC,QAAQ,CAAAP,IAAA,CAARO,QAAQ,CACRC,0BAA0B,CAAAR,IAAA,CAA1BQ,0BAA0B,CAE1B,GAAM,CAAAC,KAAK,CAAGlB,aAAa,CAAC,CAAC,CAE7B;AACA;AAEA,GAAM,CAAAmB,kBAAkB,CAAG,CACzB,wBAAwB,CACxB,cAAc,CACf,CAACC,QAAQ,CAACJ,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEK,QAAQ,CAAC,CAE9B,mBACEd,KAAA,CAACT,MAAM,EAAAwB,QAAA,eACLjB,IAAA,CAACN,KAAK,EAACwB,IAAI,IAAAC,MAAA,CAAKN,KAAK,CAACK,IAAI,QAAO,CAAAD,QAAA,cAC/BjB,IAAA,CAACH,WAAW,EACViB,kBAAkB,CAAEA,kBAAmB,CACvCT,QAAQ,CAAEA,QAAS,CACnBM,QAAQ,CAAEA,QAAS,CACnBF,YAAY,CAAEA,YAAa,CAC3BC,YAAY,CAAEA,YAAa,CAC3BE,0BAA0B,CAAEA,0BAA2B,CACxD,CAAC,CACG,CAAC,cACRZ,IAAA,CAACN,KAAK,EAAewB,IAAI,IAAAC,MAAA,CAAKN,KAAK,CAACK,IAAI,gBAAe,CAAAD,QAAA,cACrDjB,IAAA,CAACJ,QAAQ,EACPkB,kBAAkB,CAAEA,kBAAmB,CACvCN,aAAa,CAAEA,aAAc,CAC7BG,QAAQ,CAAEA,QAAS,CACnBF,YAAY,CAAEA,YAAa,CAC3BC,YAAY,CAAEA,YAAa,CAC3BE,0BAA0B,CAAEA,0BAA2B,CACxD,CAAC,EARO,SASJ,CAAC,cACRZ,IAAA,CAACN,KAAK,EAAYwB,IAAI,IAAAC,MAAA,CAAKN,KAAK,CAACK,IAAI,CAAG,CAAAD,QAAA,cACtCjB,IAAA,CAACF,YAAY,EACXa,QAAQ,CAAEA,QAAS,CACnBJ,aAAa,CAAEA,aAAc,CAC7BE,YAAY,CAAEA,YAAa,CAC3BC,YAAY,CAAEA,YAAa,CAC3BJ,mBAAmB,CAAEA,mBAAoB,CAC1C,CAAC,EAPO,MAQJ,CAAC,EACF,CAAC,CAEb,CAEA,OAASH,SAAS,GAAI,CAAAiB,UAAU,EAChC,cAAe,CAAAjB,SAAS"},"metadata":{},"sourceType":"module"}