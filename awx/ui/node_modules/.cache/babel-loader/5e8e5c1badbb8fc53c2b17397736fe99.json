{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{useHistory,useParams}from'react-router-dom';import{Card}from'@patternfly/react-core';import{ApplicationsAPI}from'api';import{CardBody}from'components/Card';import ApplicationForm from'../shared/ApplicationForm';import{jsx as _jsx}from\"react/jsx-runtime\";function ApplicationEdit(_ref){var application=_ref.application,authorizationOptions=_ref.authorizationOptions,clientTypeOptions=_ref.clientTypeOptions;var history=useHistory();var _useParams=useParams(),id=_useParams.id;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),submitError=_useState2[0],setSubmitError=_useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2){var values;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:values=Object.assign({},_ref2);values.organization=values.organization.id;_context.prev=2;_context.next=5;return ApplicationsAPI.update(id,values);case 5:history.push(\"/applications/\".concat(id,\"/details\"));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);setSubmitError(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[2,8]]);}));return function handleSubmit(_x){return _ref3.apply(this,arguments);};}();var handleCancel=function handleCancel(){history.push(\"/applications/\".concat(id,\"/details\"));};return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(ApplicationForm,{onSubmit:handleSubmit,application:application,onCancel:handleCancel,authorizationOptions:authorizationOptions,clientTypeOptions:clientTypeOptions,submitError:submitError})})});}export default ApplicationEdit;","map":{"version":3,"names":["React","useState","useHistory","useParams","Card","ApplicationsAPI","CardBody","ApplicationForm","jsx","_jsx","ApplicationEdit","_ref","application","authorizationOptions","clientTypeOptions","history","_useParams","id","_useState","_useState2","_slicedToArray","submitError","setSubmitError","handleSubmit","_ref3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref2","values","wrap","_callee$","_context","prev","next","Object","assign","organization","update","push","concat","t0","stop","_x","apply","arguments","handleCancel","children","onSubmit","onCancel"],"sources":["/awx_devel/awx/ui/src/screens/Application/ApplicationEdit/ApplicationEdit.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\n\nimport { Card } from '@patternfly/react-core';\nimport { ApplicationsAPI } from 'api';\nimport { CardBody } from 'components/Card';\nimport ApplicationForm from '../shared/ApplicationForm';\n\nfunction ApplicationEdit({\n  application,\n  authorizationOptions,\n  clientTypeOptions,\n}) {\n  const history = useHistory();\n  const { id } = useParams();\n  const [submitError, setSubmitError] = useState(null);\n\n  const handleSubmit = async ({ ...values }) => {\n    values.organization = values.organization.id;\n    try {\n      await ApplicationsAPI.update(id, values);\n      history.push(`/applications/${id}/details`);\n    } catch (err) {\n      setSubmitError(err);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/applications/${id}/details`);\n  };\n  return (\n    <Card>\n      <CardBody>\n        <ApplicationForm\n          onSubmit={handleSubmit}\n          application={application}\n          onCancel={handleCancel}\n          authorizationOptions={authorizationOptions}\n          clientTypeOptions={clientTypeOptions}\n          submitError={submitError}\n        />\n      </CardBody>\n    </Card>\n  );\n}\nexport default ApplicationEdit;\n"],"mappings":"wTAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,UAAU,CAAEC,SAAS,KAAQ,kBAAkB,CAExD,OAASC,IAAI,KAAQ,wBAAwB,CAC7C,OAASC,eAAe,KAAQ,KAAK,CACrC,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,MAAO,CAAAC,eAAe,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAExD,QAAS,CAAAC,eAAeA,CAAAC,IAAA,CAIrB,IAHD,CAAAC,WAAW,CAAAD,IAAA,CAAXC,WAAW,CACXC,oBAAoB,CAAAF,IAAA,CAApBE,oBAAoB,CACpBC,iBAAiB,CAAAH,IAAA,CAAjBG,iBAAiB,CAEjB,GAAM,CAAAC,OAAO,CAAGb,UAAU,CAAC,CAAC,CAC5B,IAAAc,UAAA,CAAeb,SAAS,CAAC,CAAC,CAAlBc,EAAE,CAAAD,UAAA,CAAFC,EAAE,CACV,IAAAC,SAAA,CAAsCjB,QAAQ,CAAC,IAAI,CAAC,CAAAkB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAElC,GAAM,CAAAI,YAAY,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAAC,KAAA,MAAAC,MAAA,QAAAJ,mBAAA,CAAAK,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAYL,MAAM,CAAAM,MAAA,CAAAC,MAAA,IAAAR,KAAA,EACrCC,MAAM,CAACQ,YAAY,CAAGR,MAAM,CAACQ,YAAY,CAACrB,EAAE,CAACgB,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAErC,CAAA9B,eAAe,CAACkC,MAAM,CAACtB,EAAE,CAAEa,MAAM,CAAC,QACxCf,OAAO,CAACyB,IAAI,kBAAAC,MAAA,CAAkBxB,EAAE,YAAU,CAAC,CAACgB,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAS,EAAA,CAAAT,QAAA,aAE5CX,cAAc,CAAAW,QAAA,CAAAS,EAAI,CAAC,CAAC,yBAAAT,QAAA,CAAAU,IAAA,OAAAf,OAAA,gBAEvB,kBARK,CAAAL,YAAYA,CAAAqB,EAAA,SAAApB,KAAA,CAAAqB,KAAA,MAAAC,SAAA,OAQjB,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzBhC,OAAO,CAACyB,IAAI,kBAAAC,MAAA,CAAkBxB,EAAE,YAAU,CAAC,CAC7C,CAAC,CACD,mBACER,IAAA,CAACL,IAAI,EAAA4C,QAAA,cACHvC,IAAA,CAACH,QAAQ,EAAA0C,QAAA,cACPvC,IAAA,CAACF,eAAe,EACd0C,QAAQ,CAAE1B,YAAa,CACvBX,WAAW,CAAEA,WAAY,CACzBsC,QAAQ,CAAEH,YAAa,CACvBlC,oBAAoB,CAAEA,oBAAqB,CAC3CC,iBAAiB,CAAEA,iBAAkB,CACrCO,WAAW,CAAEA,WAAY,CAC1B,CAAC,CACM,CAAC,CACP,CAAC,CAEX,CACA,cAAe,CAAAX,eAAe"},"metadata":{},"sourceType":"module"}