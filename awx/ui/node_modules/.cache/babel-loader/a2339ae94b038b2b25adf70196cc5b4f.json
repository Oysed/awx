{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _styled from\"styled-components\";/* eslint-disable react/jsx-no-useless-fragment */var _excluded=[\"title\"];import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import{i18n}from\"@lingui/core\";import React,{useContext,useState,useEffect,useCallback}from'react';import{useHistory}from'react-router-dom';import{Formik,useFormikContext}from'formik';import yaml from'js-yaml';import{Button,WizardContextConsumer,WizardFooter,Form}from'@patternfly/react-core';import ContentError from'components/ContentError';import ContentLoading from'components/ContentLoading';import useRequest,{useDismissableError}from'hooks/useRequest';import mergeExtraVars from'util/prompt/mergeExtraVars';import getSurveyValues from'util/prompt/getSurveyValues';import{parseVariableField}from'util/yaml';import{WorkflowDispatchContext,WorkflowStateContext}from'contexts/Workflow';import{JobTemplatesAPI,WorkflowJobTemplatesAPI}from'api';import Wizard from'components/Wizard';import AlertModal from'components/AlertModal';import useWorkflowNodeSteps from'./useWorkflowNodeSteps';import NodeNextButton from'./NodeNextButton';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _StyledWizard=_styled(Wizard).withConfig({displayName:\"NodeModal___StyledWizard\",componentId:\"sc-1sgmhlg-0\"})([\"overflow:scroll\"]);function NodeModalForm(_ref){var askLinkType=_ref.askLinkType,onSave=_ref.onSave,title=_ref.title,credentialError=_ref.credentialError,launchConfig=_ref.launchConfig,surveyConfig=_ref.surveyConfig,isLaunchLoading=_ref.isLaunchLoading,resourceDefaultCredentials=_ref.resourceDefaultCredentials,labels=_ref.labels,instanceGroups=_ref.instanceGroups;var history=useHistory();var dispatch=useContext(WorkflowDispatchContext);var _useFormikContext=useFormikContext(),values=_useFormikContext.values,setFieldTouched=_useFormikContext.setFieldTouched;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),triggerNext=_useState2[0],setTriggerNext=_useState2[1];var clearQueryParams=function clearQueryParams(){var parts=history.location.search.replace(/^\\?/,'').split('&');var otherParts=parts.filter(function(param){return /^!(job_templates\\.|projects\\.|inventory_sources\\.|workflow_job_templates\\.)/.test(param);});history.replace(\"\".concat(history.location.pathname,\"?\").concat(otherParts.join('&')));};var _useWorkflowNodeSteps=useWorkflowNodeSteps(launchConfig,surveyConfig,values.nodeResource,askLinkType,resourceDefaultCredentials,labels,instanceGroups),promptSteps=_useWorkflowNodeSteps.steps,validateStep=_useWorkflowNodeSteps.validateStep,visitStep=_useWorkflowNodeSteps.visitStep,visitAllSteps=_useWorkflowNodeSteps.visitAllSteps,contentError=_useWorkflowNodeSteps.contentError;var handleSaveNode=function handleSaveNode(){var _values$nodeResource;clearQueryParams();if(values.nodeType!=='workflow_approval_template'){delete values.approvalName;delete values.approvalDescription;delete values.timeoutMinutes;delete values.timeoutSeconds;}if(['job_template','workflow_job_template'].includes(values.nodeType)&&(launchConfig.ask_variables_on_launch||launchConfig.survey_enabled)){var extraVars;var surveyValues=getSurveyValues(values);var initialExtraVars=launchConfig.ask_variables_on_launch&&(values.extra_vars||'---');if(surveyConfig!==null&&surveyConfig!==void 0&&surveyConfig.spec){extraVars=yaml.dump(mergeExtraVars(initialExtraVars,surveyValues));}else{extraVars=yaml.dump(mergeExtraVars(initialExtraVars,{}));}values.extra_data=extraVars&&parseVariableField(extraVars);delete values.extra_vars;}else if(values.nodeType==='system_job_template'&&['cleanup_activitystream','cleanup_jobs'].includes(values===null||values===void 0?void 0:(_values$nodeResource=values.nodeResource)===null||_values$nodeResource===void 0?void 0:_values$nodeResource.job_type)){values.extra_data={days:parseInt(values===null||values===void 0?void 0:values.daysToKeep,10)};}delete values.daysToKeep;onSave(values,launchConfig);};var handleCancel=function handleCancel(){clearQueryParams();dispatch({type:'CANCEL_NODE_MODAL'});};var _useDismissableError=useDismissableError(contentError||credentialError),error=_useDismissableError.error,dismissError=_useDismissableError.dismissError;function nextButtonText(activeStep){var verifyPromptSteps=false;if(promptSteps.length){var _promptSteps;verifyPromptSteps=activeStep.id===((_promptSteps=promptSteps[promptSteps.length-1])===null||_promptSteps===void 0?void 0:_promptSteps.id);}return verifyPromptSteps||activeStep.name==='Preview'?/*i18n*/i18n._(\"Save\"):/*i18n*/i18n._(\"Next\");}var CustomFooter=/*#__PURE__*/_jsx(WizardFooter,{children:/*#__PURE__*/_jsx(WizardContextConsumer,{children:function children(_ref2){var _promptSteps$;var activeStep=_ref2.activeStep,onNext=_ref2.onNext,onBack=_ref2.onBack;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NodeNextButton,{isDisabled:isLaunchLoading,triggerNext:triggerNext,activeStep:activeStep,\"aria-label\":nextButtonText(activeStep),onNext:onNext,onClick:function onClick(){return setTriggerNext(triggerNext+1);},buttonText:nextButtonText(activeStep)}),activeStep&&activeStep.id!==((_promptSteps$=promptSteps[0])===null||_promptSteps$===void 0?void 0:_promptSteps$.id)&&/*#__PURE__*/_jsx(Button,{ouiaId:\"node-modal-back-button\",id:\"back-node-modal\",variant:\"secondary\",\"aria-label\":/*i18n*/i18n._(\"Back\"),onClick:onBack,children:/*i18n*/i18n._(\"Back\")}),/*#__PURE__*/_jsx(Button,{ouiaId:\"node-modal-cancel-button\",id:\"cancel-node-modal\",variant:\"link\",\"aria-label\":/*i18n*/i18n._(\"Cancel\"),onClick:handleCancel,children:/*i18n*/i18n._(\"Cancel\")})]});}})});if(error){return/*#__PURE__*/_jsx(AlertModal,{isOpen:error,variant:\"error\",title:/*i18n*/i18n._(\"Error!\"),onClose:function onClose(){dismissError();},children:/*#__PURE__*/_jsx(ContentError,{error:error})});}if(error&&!isLaunchLoading){return/*#__PURE__*/_jsx(AlertModal,{isOpen:error,variant:\"error\",title:/*i18n*/i18n._(\"Error!\"),onClose:function onClose(){dismissError();},children:/*#__PURE__*/_jsx(ContentError,{error:error})});}return/*#__PURE__*/_jsx(_StyledWizard,{footer:CustomFooter,isOpen:!error,onClose:handleCancel,onSave:function onSave(){handleSaveNode();},onBack:/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(nextStep){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:validateStep(nextStep.id);case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref3.apply(this,arguments);};}(),onGoToStep:/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(nextStep,prevStep){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(nextStep.id==='preview'){visitAllSteps(setFieldTouched);}else{visitStep(prevStep.prevId,setFieldTouched);validateStep(nextStep.id);}case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2,_x3){return _ref4.apply(this,arguments);};}(),steps:promptSteps,title:title,onNext:/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(nextStep,prevStep){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(nextStep.id==='preview'){visitAllSteps(setFieldTouched);}else{visitStep(prevStep.prevId,setFieldTouched);validateStep(nextStep.id);}case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x4,_x5){return _ref5.apply(this,arguments);};}()});}var NodeModalInner=function NodeModalInner(_ref6){var title=_ref6.title,rest=_objectWithoutProperties(_ref6,_excluded);var _useFormikContext2=useFormikContext(),values=_useFormikContext2.values;var wizardTitle=values.nodeResource?\"\".concat(title,\" | \").concat(values.nodeResource.name):title;var _useRequest=useRequest(useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var _values$nodeResource2,_values$nodeResource3;var readLaunch,readLabels,_yield$readLaunch,launch,survey,_launch$workflow_job_,_launch$job_template_,_ref8,data,defaultCredentials,_values$nodeResource4,_yield$JobTemplatesAP,results,defaultLabels,_yield$readLabels,_results;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:readLaunch=function readLaunch(type,id){return type==='workflow_job_template'?WorkflowJobTemplatesAPI.readLaunch(id):JobTemplatesAPI.readLaunch(id);};if(!(!values.nodeResource||!['job_template','workflow_job_template'].includes(values===null||values===void 0?void 0:values.nodeType)||!['job_template','workflow_job_template'].includes((_values$nodeResource2=values.nodeResource)===null||_values$nodeResource2===void 0?void 0:_values$nodeResource2.type))){_context4.next=3;break;}return _context4.abrupt(\"return\",{launchConfig:{},surveyConfig:{},resourceDefaultCredentials:[],labels:[]});case 3:readLabels=values.nodeType==='workflow_job_template'?WorkflowJobTemplatesAPI.readAllLabels(values.nodeResource.id):JobTemplatesAPI.readAllLabels(values.nodeResource.id);_context4.next=6;return readLaunch(values.nodeType,values===null||values===void 0?void 0:(_values$nodeResource3=values.nodeResource)===null||_values$nodeResource3===void 0?void 0:_values$nodeResource3.id);case 6:_yield$readLaunch=_context4.sent;launch=_yield$readLaunch.data;survey={};if(!launch.survey_enabled){_context4.next=22;break;}if(!(launch!==null&&launch!==void 0&&launch.workflow_job_template_data)){_context4.next=16;break;}_context4.next=13;return WorkflowJobTemplatesAPI.readSurvey(launch===null||launch===void 0?void 0:(_launch$workflow_job_=launch.workflow_job_template_data)===null||_launch$workflow_job_===void 0?void 0:_launch$workflow_job_.id);case 13:_context4.t0=_context4.sent;_context4.next=19;break;case 16:_context4.next=18;return JobTemplatesAPI.readSurvey(launch===null||launch===void 0?void 0:(_launch$job_template_=launch.job_template_data)===null||_launch$job_template_===void 0?void 0:_launch$job_template_.id);case 18:_context4.t0=_context4.sent;case 19:_ref8=_context4.t0;data=_ref8.data;survey=data;case 22:defaultCredentials=[];if(!launch.ask_credential_on_launch){_context4.next=29;break;}_context4.next=26;return JobTemplatesAPI.readCredentials(values===null||values===void 0?void 0:(_values$nodeResource4=values.nodeResource)===null||_values$nodeResource4===void 0?void 0:_values$nodeResource4.id,{page_size:200});case 26:_yield$JobTemplatesAP=_context4.sent;results=_yield$JobTemplatesAP.data.results;defaultCredentials=results;case 29:defaultLabels=[];if(!launch.ask_labels_on_launch){_context4.next=36;break;}_context4.next=33;return readLabels;case 33:_yield$readLabels=_context4.sent;_results=_yield$readLabels.data.results;defaultLabels=_results;case 36:return _context4.abrupt(\"return\",{launchConfig:launch,surveyConfig:survey,resourceDefaultCredentials:defaultCredentials,labels:defaultLabels});case 37:case\"end\":return _context4.stop();}}},_callee4);})),[values.nodeResource,values.nodeType]),{}),readLaunchConfigs=_useRequest.request,launchConfigError=_useRequest.error,_useRequest$result=_useRequest.result,launchConfig=_useRequest$result.launchConfig,surveyConfig=_useRequest$result.surveyConfig,resourceDefaultCredentials=_useRequest$result.resourceDefaultCredentials,labels=_useRequest$result.labels,isLoading=_useRequest.isLoading;useEffect(function(){readLaunchConfigs();},[readLaunchConfigs,values.nodeResource]);var _useDismissableError2=useDismissableError(launchConfigError),error=_useDismissableError2.error,dismissError=_useDismissableError2.dismissError;if(error){return/*#__PURE__*/_jsx(AlertModal,{isOpen:error,variant:\"error\",title:/*i18n*/i18n._(\"Error!\"),onClose:function onClose(){dismissError();},children:/*#__PURE__*/_jsx(ContentError,{error:error})});}if(!launchConfig||!surveyConfig){return/*#__PURE__*/_jsx(Wizard,{isOpen:true,steps:[{name:/*i18n*/i18n._(\"Loading\"),component:/*#__PURE__*/_jsx(ContentLoading,{})}],title:wizardTitle,footer:/*#__PURE__*/_jsx(_Fragment,{})});}return/*#__PURE__*/_jsx(NodeModalForm,_objectSpread(_objectSpread({},rest),{},{launchConfig:launchConfig,surveyConfig:surveyConfig,resourceDefaultCredentials:resourceDefaultCredentials,isLaunchLoading:isLoading,title:wizardTitle,labels:labels,instanceGroups:[]}));};var NodeModal=function NodeModal(_ref9){var _nodeToEdit$fullUnifi;var onSave=_ref9.onSave,askLinkType=_ref9.askLinkType,title=_ref9.title;var _useContext=useContext(WorkflowStateContext),nodeToEdit=_useContext.nodeToEdit;var onSaveForm=function onSaveForm(values,config){onSave(values,config);};return/*#__PURE__*/_jsx(Formik,{initialValues:{approvalName:'',approvalDescription:'',daysToKeep:30,timeoutMinutes:0,timeoutSeconds:0,convergence:'any',linkType:'success',nodeResource:(nodeToEdit===null||nodeToEdit===void 0?void 0:nodeToEdit.fullUnifiedJobTemplate)||null,nodeType:(nodeToEdit===null||nodeToEdit===void 0?void 0:(_nodeToEdit$fullUnifi=nodeToEdit.fullUnifiedJobTemplate)===null||_nodeToEdit$fullUnifi===void 0?void 0:_nodeToEdit$fullUnifi.type)||'job_template'},onSave:function onSave(){return onSaveForm;},children:function children(formik){return/*#__PURE__*/_jsx(Form,{autoComplete:\"off\",onSubmit:formik.handleSubmit,children:/*#__PURE__*/_jsx(NodeModalInner,{onSave:onSaveForm,title:title,askLinkType:askLinkType})});}});};export default NodeModal;","map":{"version":3,"names":["_excluded","_regeneratorRuntime","i18n","React","useContext","useState","useEffect","useCallback","useHistory","Formik","useFormikContext","yaml","Button","WizardContextConsumer","WizardFooter","Form","ContentError","ContentLoading","useRequest","useDismissableError","mergeExtraVars","getSurveyValues","parseVariableField","WorkflowDispatchContext","WorkflowStateContext","JobTemplatesAPI","WorkflowJobTemplatesAPI","Wizard","AlertModal","useWorkflowNodeSteps","NodeNextButton","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","_StyledWizard","_styled","withConfig","displayName","componentId","NodeModalForm","_ref","askLinkType","onSave","title","credentialError","launchConfig","surveyConfig","isLaunchLoading","resourceDefaultCredentials","labels","instanceGroups","history","dispatch","_useFormikContext","values","setFieldTouched","_useState","_useState2","_slicedToArray","triggerNext","setTriggerNext","clearQueryParams","parts","location","search","replace","split","otherParts","filter","param","test","concat","pathname","join","_useWorkflowNodeSteps","nodeResource","promptSteps","steps","validateStep","visitStep","visitAllSteps","contentError","handleSaveNode","_values$nodeResource","nodeType","approvalName","approvalDescription","timeoutMinutes","timeoutSeconds","includes","ask_variables_on_launch","survey_enabled","extraVars","surveyValues","initialExtraVars","extra_vars","spec","dump","extra_data","job_type","days","parseInt","daysToKeep","handleCancel","type","_useDismissableError","error","dismissError","nextButtonText","activeStep","verifyPromptSteps","length","_promptSteps","id","name","_","CustomFooter","children","_ref2","_promptSteps$","onNext","onBack","isDisabled","onClick","buttonText","ouiaId","variant","isOpen","onClose","footer","_ref3","_asyncToGenerator","mark","_callee","nextStep","wrap","_callee$","_context","prev","next","stop","_x","apply","arguments","onGoToStep","_ref4","_callee2","prevStep","_callee2$","_context2","prevId","_x2","_x3","_ref5","_callee3","_callee3$","_context3","_x4","_x5","NodeModalInner","_ref6","rest","_objectWithoutProperties","_useFormikContext2","wizardTitle","_useRequest","_callee4","_values$nodeResource2","_values$nodeResource3","readLaunch","readLabels","_yield$readLaunch","launch","survey","_launch$workflow_job_","_launch$job_template_","_ref8","data","defaultCredentials","_values$nodeResource4","_yield$JobTemplatesAP","results","defaultLabels","_yield$readLabels","_results","_callee4$","_context4","abrupt","readAllLabels","sent","workflow_job_template_data","readSurvey","t0","job_template_data","ask_credential_on_launch","readCredentials","page_size","ask_labels_on_launch","readLaunchConfigs","request","launchConfigError","_useRequest$result","result","isLoading","_useDismissableError2","component","_objectSpread","NodeModal","_ref9","_nodeToEdit$fullUnifi","_useContext","nodeToEdit","onSaveForm","config","initialValues","convergence","linkType","fullUnifiedJobTemplate","formik","autoComplete","onSubmit","handleSubmit"],"sources":["/awx_devel/awx/ui/src/screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeModal.js"],"sourcesContent":["/* eslint-disable react/jsx-no-useless-fragment */\nimport 'styled-components/macro';\nimport React, { useContext, useState, useEffect, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { t } from '@lingui/macro';\nimport { Formik, useFormikContext } from 'formik';\nimport yaml from 'js-yaml';\nimport { bool, node, func } from 'prop-types';\nimport {\n  Button,\n  WizardContextConsumer,\n  WizardFooter,\n  Form,\n} from '@patternfly/react-core';\nimport ContentError from 'components/ContentError';\nimport ContentLoading from 'components/ContentLoading';\n\nimport useRequest, { useDismissableError } from 'hooks/useRequest';\nimport mergeExtraVars from 'util/prompt/mergeExtraVars';\nimport getSurveyValues from 'util/prompt/getSurveyValues';\nimport { parseVariableField } from 'util/yaml';\nimport {\n  WorkflowDispatchContext,\n  WorkflowStateContext,\n} from 'contexts/Workflow';\nimport { JobTemplatesAPI, WorkflowJobTemplatesAPI } from 'api';\nimport Wizard from 'components/Wizard';\nimport AlertModal from 'components/AlertModal';\nimport useWorkflowNodeSteps from './useWorkflowNodeSteps';\nimport NodeNextButton from './NodeNextButton';\n\nfunction NodeModalForm({\n  askLinkType,\n  onSave,\n  title,\n  credentialError,\n  launchConfig,\n  surveyConfig,\n  isLaunchLoading,\n  resourceDefaultCredentials,\n  labels,\n  instanceGroups,\n}) {\n  const history = useHistory();\n  const dispatch = useContext(WorkflowDispatchContext);\n  const { values, setFieldTouched } = useFormikContext();\n\n  const [triggerNext, setTriggerNext] = useState(0);\n\n  const clearQueryParams = () => {\n    const parts = history.location.search.replace(/^\\?/, '').split('&');\n    const otherParts = parts.filter((param) =>\n      /^!(job_templates\\.|projects\\.|inventory_sources\\.|workflow_job_templates\\.)/.test(\n        param\n      )\n    );\n    history.replace(`${history.location.pathname}?${otherParts.join('&')}`);\n  };\n\n  const {\n    steps: promptSteps,\n    validateStep,\n    visitStep,\n    visitAllSteps,\n    contentError,\n  } = useWorkflowNodeSteps(\n    launchConfig,\n    surveyConfig,\n    values.nodeResource,\n    askLinkType,\n    resourceDefaultCredentials,\n    labels,\n    instanceGroups\n  );\n\n  const handleSaveNode = () => {\n    clearQueryParams();\n    if (values.nodeType !== 'workflow_approval_template') {\n      delete values.approvalName;\n      delete values.approvalDescription;\n      delete values.timeoutMinutes;\n      delete values.timeoutSeconds;\n    }\n\n    if (\n      ['job_template', 'workflow_job_template'].includes(values.nodeType) &&\n      (launchConfig.ask_variables_on_launch || launchConfig.survey_enabled)\n    ) {\n      let extraVars;\n      const surveyValues = getSurveyValues(values);\n      const initialExtraVars =\n        launchConfig.ask_variables_on_launch && (values.extra_vars || '---');\n      if (surveyConfig?.spec) {\n        extraVars = yaml.dump(mergeExtraVars(initialExtraVars, surveyValues));\n      } else {\n        extraVars = yaml.dump(mergeExtraVars(initialExtraVars, {}));\n      }\n      values.extra_data = extraVars && parseVariableField(extraVars);\n      delete values.extra_vars;\n    } else if (\n      values.nodeType === 'system_job_template' &&\n      ['cleanup_activitystream', 'cleanup_jobs'].includes(\n        values?.nodeResource?.job_type\n      )\n    ) {\n      values.extra_data = {\n        days: parseInt(values?.daysToKeep, 10),\n      };\n    }\n\n    delete values.daysToKeep;\n    onSave(values, launchConfig);\n  };\n\n  const handleCancel = () => {\n    clearQueryParams();\n    dispatch({ type: 'CANCEL_NODE_MODAL' });\n  };\n\n  const { error, dismissError } = useDismissableError(\n    contentError || credentialError\n  );\n\n  function nextButtonText(activeStep) {\n    let verifyPromptSteps = false;\n    if (promptSteps.length) {\n      verifyPromptSteps =\n        activeStep.id === promptSteps[promptSteps.length - 1]?.id;\n    }\n    return verifyPromptSteps || activeStep.name === 'Preview'\n      ? t`Save`\n      : t`Next`;\n  }\n\n  const CustomFooter = (\n    <WizardFooter>\n      <WizardContextConsumer>\n        {({ activeStep, onNext, onBack }) => (\n          <>\n            <NodeNextButton\n              isDisabled={isLaunchLoading}\n              triggerNext={triggerNext}\n              activeStep={activeStep}\n              aria-label={nextButtonText(activeStep)}\n              onNext={onNext}\n              onClick={() => setTriggerNext(triggerNext + 1)}\n              buttonText={nextButtonText(activeStep)}\n            />\n            {activeStep && activeStep.id !== promptSteps[0]?.id && (\n              <Button\n                ouiaId=\"node-modal-back-button\"\n                id=\"back-node-modal\"\n                variant=\"secondary\"\n                aria-label={t`Back`}\n                onClick={onBack}\n              >\n                {t`Back`}\n              </Button>\n            )}\n            <Button\n              ouiaId=\"node-modal-cancel-button\"\n              id=\"cancel-node-modal\"\n              variant=\"link\"\n              aria-label={t`Cancel`}\n              onClick={handleCancel}\n            >\n              {t`Cancel`}\n            </Button>\n          </>\n        )}\n      </WizardContextConsumer>\n    </WizardFooter>\n  );\n\n  if (error) {\n    return (\n      <AlertModal\n        isOpen={error}\n        variant=\"error\"\n        title={t`Error!`}\n        onClose={() => {\n          dismissError();\n        }}\n      >\n        <ContentError error={error} />\n      </AlertModal>\n    );\n  }\n\n  if (error && !isLaunchLoading) {\n    return (\n      <AlertModal\n        isOpen={error}\n        variant=\"error\"\n        title={t`Error!`}\n        onClose={() => {\n          dismissError();\n        }}\n      >\n        <ContentError error={error} />\n      </AlertModal>\n    );\n  }\n  return (\n    <Wizard\n      footer={CustomFooter}\n      isOpen={!error}\n      onClose={handleCancel}\n      onSave={() => {\n        handleSaveNode();\n      }}\n      onBack={async (nextStep) => {\n        validateStep(nextStep.id);\n      }}\n      onGoToStep={async (nextStep, prevStep) => {\n        if (nextStep.id === 'preview') {\n          visitAllSteps(setFieldTouched);\n        } else {\n          visitStep(prevStep.prevId, setFieldTouched);\n          validateStep(nextStep.id);\n        }\n      }}\n      steps={promptSteps}\n      css=\"overflow: scroll\"\n      title={title}\n      onNext={async (nextStep, prevStep) => {\n        if (nextStep.id === 'preview') {\n          visitAllSteps(setFieldTouched);\n        } else {\n          visitStep(prevStep.prevId, setFieldTouched);\n          validateStep(nextStep.id);\n        }\n      }}\n    />\n  );\n}\n\nconst NodeModalInner = ({ title, ...rest }) => {\n  const { values } = useFormikContext();\n\n  const wizardTitle = values.nodeResource\n    ? `${title} | ${values.nodeResource.name}`\n    : title;\n\n  const {\n    request: readLaunchConfigs,\n    error: launchConfigError,\n    result: { launchConfig, surveyConfig, resourceDefaultCredentials, labels },\n    isLoading,\n  } = useRequest(\n    useCallback(async () => {\n      const readLaunch = (type, id) =>\n        type === 'workflow_job_template'\n          ? WorkflowJobTemplatesAPI.readLaunch(id)\n          : JobTemplatesAPI.readLaunch(id);\n      if (\n        !values.nodeResource ||\n        !['job_template', 'workflow_job_template'].includes(values?.nodeType) ||\n        !['job_template', 'workflow_job_template'].includes(\n          values.nodeResource?.type\n        )\n      ) {\n        return {\n          launchConfig: {},\n          surveyConfig: {},\n          resourceDefaultCredentials: [],\n          labels: [],\n        };\n      }\n\n      const readLabels =\n        values.nodeType === 'workflow_job_template'\n          ? WorkflowJobTemplatesAPI.readAllLabels(values.nodeResource.id)\n          : JobTemplatesAPI.readAllLabels(values.nodeResource.id);\n\n      const { data: launch } = await readLaunch(\n        values.nodeType,\n        values?.nodeResource?.id\n      );\n\n      let survey = {};\n\n      if (launch.survey_enabled) {\n        const { data } = launch?.workflow_job_template_data\n          ? await WorkflowJobTemplatesAPI.readSurvey(\n              launch?.workflow_job_template_data?.id\n            )\n          : await JobTemplatesAPI.readSurvey(launch?.job_template_data?.id);\n\n        survey = data;\n      }\n\n      let defaultCredentials = [];\n\n      if (launch.ask_credential_on_launch) {\n        const {\n          data: { results },\n        } = await JobTemplatesAPI.readCredentials(values?.nodeResource?.id, {\n          page_size: 200,\n        });\n        defaultCredentials = results;\n      }\n\n      let defaultLabels = [];\n\n      if (launch.ask_labels_on_launch) {\n        const {\n          data: { results },\n        } = await readLabels;\n\n        defaultLabels = results;\n      }\n\n      return {\n        launchConfig: launch,\n        surveyConfig: survey,\n        resourceDefaultCredentials: defaultCredentials,\n        labels: defaultLabels,\n      };\n\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [values.nodeResource, values.nodeType]),\n    {}\n  );\n\n  useEffect(() => {\n    readLaunchConfigs();\n  }, [readLaunchConfigs, values.nodeResource]);\n\n  const { error, dismissError } = useDismissableError(launchConfigError);\n\n  if (error) {\n    return (\n      <AlertModal\n        isOpen={error}\n        variant=\"error\"\n        title={t`Error!`}\n        onClose={() => {\n          dismissError();\n        }}\n      >\n        <ContentError error={error} />\n      </AlertModal>\n    );\n  }\n\n  if (!launchConfig || !surveyConfig) {\n    return (\n      <Wizard\n        isOpen\n        steps={[\n          {\n            name: t`Loading`,\n            component: <ContentLoading />,\n          },\n        ]}\n        title={wizardTitle}\n        footer={<></>}\n      />\n    );\n  }\n\n  return (\n    <NodeModalForm\n      {...rest}\n      launchConfig={launchConfig}\n      surveyConfig={surveyConfig}\n      resourceDefaultCredentials={resourceDefaultCredentials}\n      isLaunchLoading={isLoading}\n      title={wizardTitle}\n      labels={labels}\n      instanceGroups={[]}\n    />\n  );\n};\n\nconst NodeModal = ({ onSave, askLinkType, title }) => {\n  const { nodeToEdit } = useContext(WorkflowStateContext);\n  const onSaveForm = (values, config) => {\n    onSave(values, config);\n  };\n\n  return (\n    <Formik\n      initialValues={{\n        approvalName: '',\n        approvalDescription: '',\n        daysToKeep: 30,\n        timeoutMinutes: 0,\n        timeoutSeconds: 0,\n        convergence: 'any',\n        linkType: 'success',\n        nodeResource: nodeToEdit?.fullUnifiedJobTemplate || null,\n        nodeType: nodeToEdit?.fullUnifiedJobTemplate?.type || 'job_template',\n      }}\n      onSave={() => onSaveForm}\n    >\n      {(formik) => (\n        <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n          <NodeModalInner\n            onSave={onSaveForm}\n            title={title}\n            askLinkType={askLinkType}\n          />\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nNodeModal.propTypes = {\n  askLinkType: bool.isRequired,\n  onSave: func.isRequired,\n  title: node.isRequired,\n};\n\nexport default NodeModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}