{"ast":null,"code":"import{Trans}from\"@lingui/react\";import{i18n}from\"@lingui/core\";import React from'react';import{Button,DropdownItem,Tooltip}from'@patternfly/react-core';import{useKebabifiedMenu}from'contexts/Kebabified';import{jsx as _jsx}from\"react/jsx-runtime\";function HealthCheckButton(_ref){var isDisabled=_ref.isDisabled,onClick=_ref.onClick,selectedItems=_ref.selectedItems,healthCheckPending=_ref.healthCheckPending;var _useKebabifiedMenu=useKebabifiedMenu(),isKebabified=_useKebabifiedMenu.isKebabified;var selectedItemsCount=selectedItems.length;var buildTooltip=function buildTooltip(){return selectedItemsCount?/*#__PURE__*/_jsx(Trans,{id:\"{selectedItemsCount, plural, one {Click to run a health check on the selected instance.} other {Click to run a health check on the selected instances.}}\",values:{selectedItemsCount:selectedItemsCount}}):/*i18n*/i18n._(\"Select an instance to run a health check.\");};if(isKebabified){return/*#__PURE__*/_jsx(Tooltip,{\"data-cy\":\"healthCheckTooltip\",content:buildTooltip(),children:/*#__PURE__*/_jsx(DropdownItem,{isDisabled:isDisabled||!selectedItemsCount,component:\"button\",onClick:onClick,ouiaId:\"health-check\",isLoading:healthCheckPending,spinnerAriaLabel:/*i18n*/i18n._(\"Running health check\"),children:healthCheckPending?/*i18n*/i18n._(\"Running health check\"):/*i18n*/i18n._(\"Run health check\")},\"approve\")});}return/*#__PURE__*/_jsx(Tooltip,{\"data-cy\":\"healthCheckTooltip\",content:buildTooltip(),children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{isDisabled:isDisabled||!selectedItemsCount,variant:\"secondary\",ouiaId:\"health-check\",onClick:onClick,isLoading:healthCheckPending,spinnerAriaLabel:/*i18n*/i18n._(\"Running health check\"),children:healthCheckPending?/*i18n*/i18n._(\"Running health check\"):/*i18n*/i18n._(\"Run health check\")})})});}export default HealthCheckButton;","map":{"version":3,"names":["React","Button","DropdownItem","Tooltip","useKebabifiedMenu","jsx","_jsx","HealthCheckButton","_ref","isDisabled","onClick","selectedItems","healthCheckPending","_useKebabifiedMenu","isKebabified","selectedItemsCount","length","buildTooltip","Trans","id","values","i18n","_","content","children","component","ouiaId","isLoading","spinnerAriaLabel","variant"],"sources":["/awx_devel/awx/ui/src/components/HealthCheckButton/HealthCheckButton.js"],"sourcesContent":["import React from 'react';\nimport { Plural, t } from '@lingui/macro';\nimport { Button, DropdownItem, Tooltip } from '@patternfly/react-core';\nimport { useKebabifiedMenu } from 'contexts/Kebabified';\n\nfunction HealthCheckButton({\n  isDisabled,\n  onClick,\n  selectedItems,\n  healthCheckPending,\n}) {\n  const { isKebabified } = useKebabifiedMenu();\n\n  const selectedItemsCount = selectedItems.length;\n\n  const buildTooltip = () =>\n    selectedItemsCount ? (\n      <Plural\n        value={selectedItemsCount}\n        one=\"Click to run a health check on the selected instance.\"\n        other=\"Click to run a health check on the selected instances.\"\n      />\n    ) : (\n      t`Select an instance to run a health check.`\n    );\n\n  if (isKebabified) {\n    return (\n      <Tooltip data-cy=\"healthCheckTooltip\" content={buildTooltip()}>\n        <DropdownItem\n          key=\"approve\"\n          isDisabled={isDisabled || !selectedItemsCount}\n          component=\"button\"\n          onClick={onClick}\n          ouiaId=\"health-check\"\n          isLoading={healthCheckPending}\n          spinnerAriaLabel={t`Running health check`}\n        >\n          {healthCheckPending ? t`Running health check` : t`Run health check`}\n        </DropdownItem>\n      </Tooltip>\n    );\n  }\n  return (\n    <Tooltip data-cy=\"healthCheckTooltip\" content={buildTooltip()}>\n      <div>\n        <Button\n          isDisabled={isDisabled || !selectedItemsCount}\n          variant=\"secondary\"\n          ouiaId=\"health-check\"\n          onClick={onClick}\n          isLoading={healthCheckPending}\n          spinnerAriaLabel={t`Running health check`}\n        >\n          {healthCheckPending ? t`Running health check` : t`Run health check`}\n        </Button>\n      </div>\n    </Tooltip>\n  );\n}\n\nexport default HealthCheckButton;\n"],"mappings":"gEAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,OAASC,MAAM,CAAEC,YAAY,CAAEC,OAAO,KAAQ,wBAAwB,CACtE,OAASC,iBAAiB,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAExD,QAAS,CAAAC,iBAAiBA,CAAAC,IAAA,CAKvB,IAJD,CAAAC,UAAU,CAAAD,IAAA,CAAVC,UAAU,CACVC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CACPC,aAAa,CAAAH,IAAA,CAAbG,aAAa,CACbC,kBAAkB,CAAAJ,IAAA,CAAlBI,kBAAkB,CAElB,IAAAC,kBAAA,CAAyBT,iBAAiB,CAAC,CAAC,CAApCU,YAAY,CAAAD,kBAAA,CAAZC,YAAY,CAEpB,GAAM,CAAAC,kBAAkB,CAAGJ,aAAa,CAACK,MAAM,CAE/C,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,QAChB,CAAAF,kBAAkB,cAChBT,IAAA,CAAAY,KAAA,EAAAC,EAAA,4JAAAC,MAAA,EAAAL,kBAAA,CACSA,kBAAkB,EAG1B,CAAC,SAEFM,IAAA,CAAAC,CAAA,4CAA2C,CAC5C,GAEH,GAAIR,YAAY,CAAE,CAChB,mBACER,IAAA,CAACH,OAAO,EAAC,UAAQ,oBAAoB,CAACoB,OAAO,CAAEN,YAAY,CAAC,CAAE,CAAAO,QAAA,cAC5DlB,IAAA,CAACJ,YAAY,EAEXO,UAAU,CAAEA,UAAU,EAAI,CAACM,kBAAmB,CAC9CU,SAAS,CAAC,QAAQ,CAClBf,OAAO,CAAEA,OAAQ,CACjBgB,MAAM,CAAC,cAAc,CACrBC,SAAS,CAAEf,kBAAmB,CAC9BgB,gBAAgB,SAAEP,IAAA,CAAAC,CAAA,uBAAsB,CAAE,CAAAE,QAAA,CAEzCZ,kBAAkB,SAAGS,IAAA,CAAAC,CAAA,uBAAsB,CAAC,SAAGD,IAAA,CAAAC,CAAA,mBAAkB,CAAC,EAR/D,SASQ,CAAC,CACR,CAAC,CAEd,CACA,mBACEhB,IAAA,CAACH,OAAO,EAAC,UAAQ,oBAAoB,CAACoB,OAAO,CAAEN,YAAY,CAAC,CAAE,CAAAO,QAAA,cAC5DlB,IAAA,QAAAkB,QAAA,cACElB,IAAA,CAACL,MAAM,EACLQ,UAAU,CAAEA,UAAU,EAAI,CAACM,kBAAmB,CAC9Cc,OAAO,CAAC,WAAW,CACnBH,MAAM,CAAC,cAAc,CACrBhB,OAAO,CAAEA,OAAQ,CACjBiB,SAAS,CAAEf,kBAAmB,CAC9BgB,gBAAgB,SAAEP,IAAA,CAAAC,CAAA,uBAAsB,CAAE,CAAAE,QAAA,CAEzCZ,kBAAkB,SAAGS,IAAA,CAAAC,CAAA,uBAAsB,CAAC,SAAGD,IAAA,CAAAC,CAAA,mBAAkB,CAAC,CAC7D,CAAC,CACN,CAAC,CACC,CAAC,CAEd,CAEA,cAAe,CAAAf,iBAAiB"},"metadata":{},"sourceType":"module"}