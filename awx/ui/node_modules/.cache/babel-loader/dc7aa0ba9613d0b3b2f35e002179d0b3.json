{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import{PageSection,Card}from'@patternfly/react-core';import{TeamsAPI}from'api';import{Config}from'contexts/Config';import{CardBody}from'components/Card';import TeamForm from'../shared/TeamForm';import{jsx as _jsx}from\"react/jsx-runtime\";function TeamAdd(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),submitError=_useState2[0],setSubmitError=_useState2[1];var history=useHistory();var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var name,description,id,valuesToSend,_yield$TeamsAPI$creat,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;name=values.name,description=values.description,id=values.organization.id;valuesToSend={name:name,description:description,organization:id};_context.next=5;return TeamsAPI.create(valuesToSend);case 5:_yield$TeamsAPI$creat=_context.sent;response=_yield$TeamsAPI$creat.data;history.push(\"/teams/\".concat(response.id));_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);setSubmitError(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleCancel=function handleCancel(){history.push('/teams');};return/*#__PURE__*/_jsx(PageSection,{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(Config,{children:function children(_ref2){var me=_ref2.me;return/*#__PURE__*/_jsx(TeamForm,{handleSubmit:handleSubmit,handleCancel:handleCancel,me:me||{},submitError:submitError});}})})})});}export{TeamAdd as _TeamAdd};export default TeamAdd;","map":{"version":3,"names":["React","useState","useHistory","PageSection","Card","TeamsAPI","Config","CardBody","TeamForm","jsx","_jsx","TeamAdd","_useState","_useState2","_slicedToArray","submitError","setSubmitError","history","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","name","description","id","valuesToSend","_yield$TeamsAPI$creat","response","wrap","_callee$","_context","prev","next","organization","create","sent","data","push","concat","t0","stop","_x","apply","arguments","handleCancel","children","_ref2","me","_TeamAdd"],"sources":["/awx_devel/awx/ui/src/screens/Team/TeamAdd/TeamAdd.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { PageSection, Card } from '@patternfly/react-core';\n\nimport { TeamsAPI } from 'api';\nimport { Config } from 'contexts/Config';\nimport { CardBody } from 'components/Card';\nimport TeamForm from '../shared/TeamForm';\n\nfunction TeamAdd() {\n  const [submitError, setSubmitError] = useState(null);\n  const history = useHistory();\n\n  const handleSubmit = async (values) => {\n    try {\n      const {\n        name,\n        description,\n        organization: { id },\n      } = values;\n      const valuesToSend = { name, description, organization: id };\n      const { data: response } = await TeamsAPI.create(valuesToSend);\n      history.push(`/teams/${response.id}`);\n    } catch (error) {\n      setSubmitError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push('/teams');\n  };\n\n  return (\n    <PageSection>\n      <Card>\n        <CardBody>\n          <Config>\n            {({ me }) => (\n              <TeamForm\n                handleSubmit={handleSubmit}\n                handleCancel={handleCancel}\n                me={me || {}}\n                submitError={submitError}\n              />\n            )}\n          </Config>\n        </CardBody>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport { TeamAdd as _TeamAdd };\nexport default TeamAdd;\n"],"mappings":"wTAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,OAASC,WAAW,CAAEC,IAAI,KAAQ,wBAAwB,CAE1D,OAASC,QAAQ,KAAQ,KAAK,CAC9B,OAASC,MAAM,KAAQ,iBAAiB,CACxC,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,MAAO,CAAAC,QAAQ,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1C,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACjB,IAAAC,SAAA,CAAsCX,QAAQ,CAAC,IAAI,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAClC,GAAM,CAAAI,OAAO,CAAGf,UAAU,CAAC,CAAC,CAE5B,GAAM,CAAAgB,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAOC,MAAM,MAAAC,IAAA,CAAAC,WAAA,CAAAC,EAAA,CAAAC,YAAA,CAAAC,qBAAA,CAAAC,QAAA,QAAAT,mBAAA,CAAAU,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAG5BT,IAAI,CAGFD,MAAM,CAHRC,IAAI,CACJC,WAAW,CAETF,MAAM,CAFRE,WAAW,CACKC,EAAE,CAChBH,MAAM,CADRY,YAAY,CAAIT,EAAE,CAEdC,YAAY,CAAG,CAAEH,IAAI,CAAJA,IAAI,CAAEC,WAAW,CAAXA,WAAW,CAAEU,YAAY,CAAET,EAAG,CAAC,CAAAM,QAAA,CAAAE,IAAA,SAC3B,CAAA9B,QAAQ,CAACgC,MAAM,CAACT,YAAY,CAAC,QAAAC,qBAAA,CAAAI,QAAA,CAAAK,IAAA,CAAhDR,QAAQ,CAAAD,qBAAA,CAAdU,IAAI,CACZtB,OAAO,CAACuB,IAAI,WAAAC,MAAA,CAAWX,QAAQ,CAACH,EAAE,CAAE,CAAC,CAACM,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAS,EAAA,CAAAT,QAAA,aAEtCjB,cAAc,CAAAiB,QAAA,CAAAS,EAAM,CAAC,CAAC,yBAAAT,QAAA,CAAAU,IAAA,OAAApB,OAAA,iBAEzB,kBAbK,CAAAL,YAAYA,CAAA0B,EAAA,SAAAzB,IAAA,CAAA0B,KAAA,MAAAC,SAAA,OAajB,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzB9B,OAAO,CAACuB,IAAI,CAAC,QAAQ,CAAC,CACxB,CAAC,CAED,mBACE9B,IAAA,CAACP,WAAW,EAAA6C,QAAA,cACVtC,IAAA,CAACN,IAAI,EAAA4C,QAAA,cACHtC,IAAA,CAACH,QAAQ,EAAAyC,QAAA,cACPtC,IAAA,CAACJ,MAAM,EAAA0C,QAAA,CACJ,SAAAA,SAAAC,KAAA,KAAG,CAAAC,EAAE,CAAAD,KAAA,CAAFC,EAAE,oBACJxC,IAAA,CAACF,QAAQ,EACPU,YAAY,CAAEA,YAAa,CAC3B6B,YAAY,CAAEA,YAAa,CAC3BG,EAAE,CAAEA,EAAE,EAAI,CAAC,CAAE,CACbnC,WAAW,CAAEA,WAAY,CAC1B,CAAC,EACH,CACK,CAAC,CACD,CAAC,CACP,CAAC,CACI,CAAC,CAElB,CAEA,OAASJ,OAAO,GAAI,CAAAwC,QAAQ,EAC5B,cAAe,CAAAxC,OAAO"},"metadata":{},"sourceType":"module"}