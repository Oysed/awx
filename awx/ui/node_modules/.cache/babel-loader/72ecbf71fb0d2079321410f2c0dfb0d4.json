{"ast":null,"code":"import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{i18n}from\"@lingui/core\";import React,{useState}from'react';import{Dropdown,DropdownToggle,DropdownItem,DropdownPosition,DropdownSeparator,DropdownDirection}from'@patternfly/react-core';import{RocketIcon}from'@patternfly/react-icons';import{jsx as _jsx}from\"react/jsx-runtime\";function ReLaunchDropDown(_ref){var _ref$isPrimary=_ref.isPrimary,isPrimary=_ref$isPrimary===void 0?false:_ref$isPrimary,handleRelaunch=_ref.handleRelaunch,isLaunching=_ref.isLaunching,_ref$id=_ref.id,id=_ref$id===void 0?'relaunch-job':_ref$id,ouiaId=_ref.ouiaId;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var onToggle=function onToggle(){setIsOpen(function(prev){return!prev;});};var dropdownItems=[/*#__PURE__*/_jsx(DropdownItem,{ouiaId:\"\".concat(ouiaId,\"-on\"),\"aria-label\":/*i18n*/i18n._(\"Relaunch on\"),component:\"div\",isPlainText:true,children:/*i18n*/i18n._(\"Relaunch on\")},\"relaunch_on\"),/*#__PURE__*/_jsx(DropdownSeparator,{},\"separator\"),/*#__PURE__*/_jsx(DropdownItem,{ouiaId:\"\".concat(ouiaId,\"-all\"),\"aria-label\":/*i18n*/i18n._(\"Relaunch all hosts\"),component:\"button\",onClick:function onClick(){handleRelaunch({hosts:'all'});},isDisabled:isLaunching,children:/*i18n*/i18n._(\"All\")},\"relaunch_all\"),/*#__PURE__*/_jsx(DropdownItem,{ouiaId:\"\".concat(ouiaId,\"-failed\"),\"aria-label\":/*i18n*/i18n._(\"Relaunch failed hosts\"),component:\"button\",onClick:function onClick(){handleRelaunch({hosts:'failed'});},isDisabled:isLaunching,children:/*i18n*/i18n._(\"Failed hosts\")},\"relaunch_failed\")];if(isPrimary){return/*#__PURE__*/_jsx(Dropdown,{ouiaId:ouiaId,position:DropdownPosition.left,direction:DropdownDirection.up,isOpen:isOpen,dropdownItems:dropdownItems,toggle:/*#__PURE__*/_jsx(DropdownToggle,{toggleIndicator:null,onToggle:onToggle,\"aria-label\":/*i18n*/i18n._(\"relaunch jobs\"),id:id,isPrimary:true,ouiaId:\"relaunch-job-toggle\",children:/*i18n*/i18n._(\"Relaunch\")})});}return/*#__PURE__*/_jsx(Dropdown,{ouiaId:ouiaId,isPlain:true,position:DropdownPosition.right,isOpen:isOpen,dropdownItems:dropdownItems,toggle:/*#__PURE__*/_jsx(DropdownToggle,{toggleIndicator:null,onToggle:onToggle,\"aria-label\":/*i18n*/i18n._(\"relaunch jobs\"),id:id,ouiaId:\"relaunch-job-toggle\",children:/*#__PURE__*/_jsx(RocketIcon,{})})});}export default ReLaunchDropDown;","map":{"version":3,"names":["React","useState","Dropdown","DropdownToggle","DropdownItem","DropdownPosition","DropdownSeparator","DropdownDirection","RocketIcon","jsx","_jsx","ReLaunchDropDown","_ref","_ref$isPrimary","isPrimary","handleRelaunch","isLaunching","_ref$id","id","ouiaId","_useState","_useState2","_slicedToArray","isOpen","setIsOpen","onToggle","prev","dropdownItems","concat","i18n","_","component","isPlainText","children","onClick","hosts","isDisabled","position","left","direction","up","toggle","toggleIndicator","isPlain","right"],"sources":["/awx_devel/awx/ui/src/components/LaunchButton/ReLaunchDropDown.js"],"sourcesContent":["import React, { useState } from 'react';\n\nimport { t } from '@lingui/macro';\nimport {\n  Dropdown,\n  DropdownToggle,\n  DropdownItem,\n  DropdownPosition,\n  DropdownSeparator,\n  DropdownDirection,\n} from '@patternfly/react-core';\nimport { RocketIcon } from '@patternfly/react-icons';\n\nfunction ReLaunchDropDown({\n  isPrimary = false,\n  handleRelaunch,\n  isLaunching,\n  id = 'relaunch-job',\n  ouiaId,\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const onToggle = () => {\n    setIsOpen((prev) => !prev);\n  };\n\n  const dropdownItems = [\n    <DropdownItem\n      ouiaId={`${ouiaId}-on`}\n      aria-label={t`Relaunch on`}\n      key=\"relaunch_on\"\n      component=\"div\"\n      isPlainText\n    >\n      {t`Relaunch on`}\n    </DropdownItem>,\n    <DropdownSeparator key=\"separator\" />,\n    <DropdownItem\n      ouiaId={`${ouiaId}-all`}\n      key=\"relaunch_all\"\n      aria-label={t`Relaunch all hosts`}\n      component=\"button\"\n      onClick={() => {\n        handleRelaunch({ hosts: 'all' });\n      }}\n      isDisabled={isLaunching}\n    >\n      {t`All`}\n    </DropdownItem>,\n\n    <DropdownItem\n      ouiaId={`${ouiaId}-failed`}\n      key=\"relaunch_failed\"\n      aria-label={t`Relaunch failed hosts`}\n      component=\"button\"\n      onClick={() => {\n        handleRelaunch({ hosts: 'failed' });\n      }}\n      isDisabled={isLaunching}\n    >\n      {t`Failed hosts`}\n    </DropdownItem>,\n  ];\n\n  if (isPrimary) {\n    return (\n      <Dropdown\n        ouiaId={ouiaId}\n        position={DropdownPosition.left}\n        direction={DropdownDirection.up}\n        isOpen={isOpen}\n        dropdownItems={dropdownItems}\n        toggle={\n          <DropdownToggle\n            toggleIndicator={null}\n            onToggle={onToggle}\n            aria-label={t`relaunch jobs`}\n            id={id}\n            isPrimary\n            ouiaId=\"relaunch-job-toggle\"\n          >\n            {t`Relaunch`}\n          </DropdownToggle>\n        }\n      />\n    );\n  }\n\n  return (\n    <Dropdown\n      ouiaId={ouiaId}\n      isPlain\n      position={DropdownPosition.right}\n      isOpen={isOpen}\n      dropdownItems={dropdownItems}\n      toggle={\n        <DropdownToggle\n          toggleIndicator={null}\n          onToggle={onToggle}\n          aria-label={t`relaunch jobs`}\n          id={id}\n          ouiaId=\"relaunch-job-toggle\"\n        >\n          <RocketIcon />\n        </DropdownToggle>\n      }\n    />\n  );\n}\n\nexport default ReLaunchDropDown;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}