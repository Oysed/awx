{"ast":null,"code":"import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{i18n}from\"@lingui/core\";import React,{useState}from'react';import{useHistory,useParams}from'react-router-dom';import{Button}from'@patternfly/react-core';import{VariablesDetail}from'components/CodeEditor';import{CardBody,CardActionsRow}from'components/Card';import ErrorDetail from'components/ErrorDetail';import AlertModal from'components/AlertModal';import{DetailList,Detail,UserDateDetail}from'components/DetailList';import InventoryGroupsDeleteModal from'../shared/InventoryGroupsDeleteModal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function InventoryGroupDetail(_ref){var inventoryGroup=_ref.inventoryGroup;var _useParams=useParams(),inventoryType=_useParams.inventoryType,id=_useParams.id,groupId=_useParams.groupId;var _inventoryGroup$summa=inventoryGroup.summary_fields,created_by=_inventoryGroup$summa.created_by,modified_by=_inventoryGroup$summa.modified_by,user_capabilities=_inventoryGroup$summa.user_capabilities,created=inventoryGroup.created,modified=inventoryGroup.modified,name=inventoryGroup.name,description=inventoryGroup.description,variables=inventoryGroup.variables;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var history=useHistory();return/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(DetailList,{gutter:\"sm\",children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Name\"),value:name,dataCy:\"inventory-group-detail-name\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Description\"),value:description}),/*#__PURE__*/_jsx(VariablesDetail,{label:/*i18n*/i18n._(\"Variables\"),value:variables,rows:4,name:\"variables\",dataCy:\"inventory-group-detail-variables\"}),/*#__PURE__*/_jsx(UserDateDetail,{label:/*i18n*/i18n._(\"Created\"),date:created,user:created_by}),/*#__PURE__*/_jsx(UserDateDetail,{label:/*i18n*/i18n._(\"Last Modified\"),date:modified,user:modified_by})]}),inventoryType!=='constructed_inventory'&&/*#__PURE__*/_jsxs(CardActionsRow,{children:[(user_capabilities===null||user_capabilities===void 0?void 0:user_capabilities.edit)&&/*#__PURE__*/_jsx(Button,{ouiaId:\"inventory-group-detail-edit-button\",variant:\"primary\",\"aria-label\":/*i18n*/i18n._(\"Edit\"),onClick:function onClick(){return history.push(\"/inventories/inventory/\".concat(id,\"/groups/\").concat(groupId,\"/edit\"));},children:/*i18n*/i18n._(\"Edit\")}),(user_capabilities===null||user_capabilities===void 0?void 0:user_capabilities.delete)&&/*#__PURE__*/_jsx(InventoryGroupsDeleteModal,{groups:[inventoryGroup],isDisabled:false,onAfterDelete:function onAfterDelete(){return history.push(\"/inventories/inventory/\".concat(id,\"/groups\"));}})]}),error&&/*#__PURE__*/_jsxs(AlertModal,{variant:\"error\",title:/*i18n*/i18n._(\"Error!\"),isOpen:error,onClose:function onClose(){return setError(false);},children:[/*i18n*/i18n._(\"Failed to delete group {0}.\",{0:inventoryGroup.name}),/*#__PURE__*/_jsx(ErrorDetail,{error:error})]})]});}export default InventoryGroupDetail;","map":{"version":3,"names":["React","useState","useHistory","useParams","Button","VariablesDetail","CardBody","CardActionsRow","ErrorDetail","AlertModal","DetailList","Detail","UserDateDetail","InventoryGroupsDeleteModal","jsx","_jsx","jsxs","_jsxs","InventoryGroupDetail","_ref","inventoryGroup","_useParams","inventoryType","id","groupId","_inventoryGroup$summa","summary_fields","created_by","modified_by","user_capabilities","created","modified","name","description","variables","_useState","_useState2","_slicedToArray","error","setError","history","children","gutter","label","i18n","_","value","dataCy","rows","date","user","edit","ouiaId","variant","onClick","push","concat","delete","groups","isDisabled","onAfterDelete","title","isOpen","onClose","0"],"sources":["/awx_devel/awx/ui/src/screens/Inventory/InventoryGroupDetail/InventoryGroupDetail.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { t } from '@lingui/macro';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { Button } from '@patternfly/react-core';\n\nimport { VariablesDetail } from 'components/CodeEditor';\nimport { CardBody, CardActionsRow } from 'components/Card';\nimport ErrorDetail from 'components/ErrorDetail';\nimport AlertModal from 'components/AlertModal';\nimport { DetailList, Detail, UserDateDetail } from 'components/DetailList';\nimport InventoryGroupsDeleteModal from '../shared/InventoryGroupsDeleteModal';\n\nfunction InventoryGroupDetail({ inventoryGroup }) {\n  const { inventoryType, id, groupId } = useParams();\n  const {\n    summary_fields: { created_by, modified_by, user_capabilities },\n    created,\n    modified,\n    name,\n    description,\n    variables,\n  } = inventoryGroup;\n  const [error, setError] = useState(false);\n  const history = useHistory();\n\n  return (\n    <CardBody>\n      <DetailList gutter=\"sm\">\n        <Detail\n          label={t`Name`}\n          value={name}\n          dataCy=\"inventory-group-detail-name\"\n        />\n        <Detail label={t`Description`} value={description} />\n        <VariablesDetail\n          label={t`Variables`}\n          value={variables}\n          rows={4}\n          name=\"variables\"\n          dataCy=\"inventory-group-detail-variables\"\n        />\n        <UserDateDetail label={t`Created`} date={created} user={created_by} />\n        <UserDateDetail\n          label={t`Last Modified`}\n          date={modified}\n          user={modified_by}\n        />\n      </DetailList>\n      {inventoryType !== 'constructed_inventory' && (\n        <CardActionsRow>\n          {user_capabilities?.edit && (\n            <Button\n              ouiaId=\"inventory-group-detail-edit-button\"\n              variant=\"primary\"\n              aria-label={t`Edit`}\n              onClick={() =>\n                history.push(\n                  `/inventories/inventory/${id}/groups/${groupId}/edit`\n                )\n              }\n            >\n              {t`Edit`}\n            </Button>\n          )}\n          {user_capabilities?.delete && (\n            <InventoryGroupsDeleteModal\n              groups={[inventoryGroup]}\n              isDisabled={false}\n              onAfterDelete={() =>\n                history.push(`/inventories/inventory/${id}/groups`)\n              }\n            />\n          )}\n        </CardActionsRow>\n      )}\n      {error && (\n        <AlertModal\n          variant=\"error\"\n          title={t`Error!`}\n          isOpen={error}\n          onClose={() => setError(false)}\n        >\n          {t`Failed to delete group ${inventoryGroup.name}.`}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\nexport default InventoryGroupDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}