{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectWithoutProperties from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"id\",\"helperText\",\"name\",\"label\",\"tooltip\",\"tooltipMaxWidth\",\"validate\",\"isRequired\",\"type\"];/* eslint-disable react/jsx-no-useless-fragment */import React from'react';import{useField}from'formik';import{FormGroup,TextInput,TextArea}from'@patternfly/react-core';import Popover from'../Popover';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function FormField(props){var id=props.id,helperText=props.helperText,name=props.name,label=props.label,tooltip=props.tooltip,tooltipMaxWidth=props.tooltipMaxWidth,validate=props.validate,isRequired=props.isRequired,type=props.type,rest=_objectWithoutProperties(props,_excluded);var _useField=useField({name:name,validate:validate}),_useField2=_slicedToArray(_useField,2),field=_useField2[0],meta=_useField2[1];var isValid=!(meta.touched&&meta.error);return/*#__PURE__*/_jsx(_Fragment,{children:type==='textarea'&&/*#__PURE__*/_jsx(FormGroup,{fieldId:id,\"data-cy\":\"\".concat(id,\"-form-group\"),helperText:helperText,helperTextInvalid:meta.error,isRequired:isRequired,validated:isValid?'default':'error',label:label,labelIcon:/*#__PURE__*/_jsx(Popover,{content:tooltip,maxWidth:tooltipMaxWidth}),children:/*#__PURE__*/_jsx(TextArea,_objectSpread(_objectSpread(_objectSpread({id:id,isRequired:isRequired,validated:isValid?'default':'error',resizeOrientation:\"vertical\"},rest),field),{},{onChange:function onChange(value,event){field.onChange(event);}}))})||/*#__PURE__*/_jsx(FormGroup,{fieldId:id,\"data-cy\":\"\".concat(id,\"-form-group\"),helperText:helperText,helperTextInvalid:meta.error,isRequired:isRequired,validated:isValid?'default':'error',label:label,labelIcon:/*#__PURE__*/_jsx(Popover,{content:tooltip,maxWidth:tooltipMaxWidth}),children:/*#__PURE__*/_jsx(TextInput,_objectSpread(_objectSpread(_objectSpread({id:id,isRequired:isRequired,validated:isValid?'default':'error'},rest),field),{},{type:type,onChange:function onChange(value,event){field.onChange(event);}}))})});}FormField.defaultProps={helperText:'',type:'text',validate:function validate(){},isRequired:false,tooltip:null,tooltipMaxWidth:''};export default FormField;","map":{"version":3,"names":["React","useField","FormGroup","TextInput","TextArea","Popover","jsx","_jsx","Fragment","_Fragment","FormField","props","id","helperText","name","label","tooltip","tooltipMaxWidth","validate","isRequired","type","rest","_objectWithoutProperties","_excluded","_useField","_useField2","_slicedToArray","field","meta","isValid","touched","error","children","fieldId","concat","helperTextInvalid","validated","labelIcon","content","maxWidth","_objectSpread","resizeOrientation","onChange","value","event","defaultProps"],"sources":["/awx_devel/awx/ui/src/components/FormField/FormField.js"],"sourcesContent":["/* eslint-disable react/jsx-no-useless-fragment */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { useField } from 'formik';\nimport { FormGroup, TextInput, TextArea } from '@patternfly/react-core';\nimport Popover from '../Popover';\n\nfunction FormField(props) {\n  const {\n    id,\n    helperText,\n    name,\n    label,\n    tooltip,\n    tooltipMaxWidth,\n    validate,\n    isRequired,\n    type,\n    ...rest\n  } = props;\n\n  const [field, meta] = useField({ name, validate });\n  const isValid = !(meta.touched && meta.error);\n\n  return (\n    <>\n      {(type === 'textarea' && (\n        <FormGroup\n          fieldId={id}\n          data-cy={`${id}-form-group`}\n          helperText={helperText}\n          helperTextInvalid={meta.error}\n          isRequired={isRequired}\n          validated={isValid ? 'default' : 'error'}\n          label={label}\n          labelIcon={<Popover content={tooltip} maxWidth={tooltipMaxWidth} />}\n        >\n          <TextArea\n            id={id}\n            isRequired={isRequired}\n            validated={isValid ? 'default' : 'error'}\n            resizeOrientation=\"vertical\"\n            {...rest}\n            {...field}\n            onChange={(value, event) => {\n              field.onChange(event);\n            }}\n          />\n        </FormGroup>\n      )) || (\n        <FormGroup\n          fieldId={id}\n          data-cy={`${id}-form-group`}\n          helperText={helperText}\n          helperTextInvalid={meta.error}\n          isRequired={isRequired}\n          validated={isValid ? 'default' : 'error'}\n          label={label}\n          labelIcon={<Popover content={tooltip} maxWidth={tooltipMaxWidth} />}\n        >\n          <TextInput\n            id={id}\n            isRequired={isRequired}\n            validated={isValid ? 'default' : 'error'}\n            {...rest}\n            {...field}\n            type={type}\n            onChange={(value, event) => {\n              field.onChange(event);\n            }}\n          />\n        </FormGroup>\n      )}\n    </>\n  );\n}\n\nFormField.propTypes = {\n  helperText: PropTypes.string,\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  label: PropTypes.oneOfType([PropTypes.object, PropTypes.string]).isRequired,\n  type: PropTypes.string,\n  validate: PropTypes.func,\n  isRequired: PropTypes.bool,\n  tooltip: PropTypes.node,\n  tooltipMaxWidth: PropTypes.string,\n};\n\nFormField.defaultProps = {\n  helperText: '',\n  type: 'text',\n  validate: () => {},\n  isRequired: false,\n  tooltip: null,\n  tooltipMaxWidth: '',\n};\n\nexport default FormField;\n"],"mappings":"obAAA,kDACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,OAASC,QAAQ,KAAQ,QAAQ,CACjC,OAASC,SAAS,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,wBAAwB,CACvE,MAAO,CAAAC,OAAO,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEjC,QAAS,CAAAC,SAASA,CAACC,KAAK,CAAE,CACxB,GACE,CAAAC,EAAE,CAUAD,KAAK,CAVPC,EAAE,CACFC,UAAU,CASRF,KAAK,CATPE,UAAU,CACVC,IAAI,CAQFH,KAAK,CARPG,IAAI,CACJC,KAAK,CAOHJ,KAAK,CAPPI,KAAK,CACLC,OAAO,CAMLL,KAAK,CANPK,OAAO,CACPC,eAAe,CAKbN,KAAK,CALPM,eAAe,CACfC,QAAQ,CAINP,KAAK,CAJPO,QAAQ,CACRC,UAAU,CAGRR,KAAK,CAHPQ,UAAU,CACVC,IAAI,CAEFT,KAAK,CAFPS,IAAI,CACDC,IAAI,CAAAC,wBAAA,CACLX,KAAK,CAAAY,SAAA,EAET,IAAAC,SAAA,CAAsBvB,QAAQ,CAAC,CAAEa,IAAI,CAAJA,IAAI,CAAEI,QAAQ,CAARA,QAAS,CAAC,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3CG,KAAK,CAAAF,UAAA,IAAEG,IAAI,CAAAH,UAAA,IAClB,GAAM,CAAAI,OAAO,CAAG,EAAED,IAAI,CAACE,OAAO,EAAIF,IAAI,CAACG,KAAK,CAAC,CAE7C,mBACExB,IAAA,CAAAE,SAAA,EAAAuB,QAAA,CACIZ,IAAI,GAAK,UAAU,eACnBb,IAAA,CAACL,SAAS,EACR+B,OAAO,CAAErB,EAAG,CACZ,aAAAsB,MAAA,CAAYtB,EAAE,eAAc,CAC5BC,UAAU,CAAEA,UAAW,CACvBsB,iBAAiB,CAAEP,IAAI,CAACG,KAAM,CAC9BZ,UAAU,CAAEA,UAAW,CACvBiB,SAAS,CAAEP,OAAO,CAAG,SAAS,CAAG,OAAQ,CACzCd,KAAK,CAAEA,KAAM,CACbsB,SAAS,cAAE9B,IAAA,CAACF,OAAO,EAACiC,OAAO,CAAEtB,OAAQ,CAACuB,QAAQ,CAAEtB,eAAgB,CAAE,CAAE,CAAAe,QAAA,cAEpEzB,IAAA,CAACH,QAAQ,CAAAoC,aAAA,CAAAA,aAAA,CAAAA,aAAA,EACP5B,EAAE,CAAEA,EAAG,CACPO,UAAU,CAAEA,UAAW,CACvBiB,SAAS,CAAEP,OAAO,CAAG,SAAS,CAAG,OAAQ,CACzCY,iBAAiB,CAAC,UAAU,EACxBpB,IAAI,EACJM,KAAK,MACTe,QAAQ,CAAE,SAAAA,SAACC,KAAK,CAAEC,KAAK,CAAK,CAC1BjB,KAAK,CAACe,QAAQ,CAACE,KAAK,CAAC,CACvB,CAAE,EACH,CAAC,CACO,CACZ,eACCrC,IAAA,CAACL,SAAS,EACR+B,OAAO,CAAErB,EAAG,CACZ,aAAAsB,MAAA,CAAYtB,EAAE,eAAc,CAC5BC,UAAU,CAAEA,UAAW,CACvBsB,iBAAiB,CAAEP,IAAI,CAACG,KAAM,CAC9BZ,UAAU,CAAEA,UAAW,CACvBiB,SAAS,CAAEP,OAAO,CAAG,SAAS,CAAG,OAAQ,CACzCd,KAAK,CAAEA,KAAM,CACbsB,SAAS,cAAE9B,IAAA,CAACF,OAAO,EAACiC,OAAO,CAAEtB,OAAQ,CAACuB,QAAQ,CAAEtB,eAAgB,CAAE,CAAE,CAAAe,QAAA,cAEpEzB,IAAA,CAACJ,SAAS,CAAAqC,aAAA,CAAAA,aAAA,CAAAA,aAAA,EACR5B,EAAE,CAAEA,EAAG,CACPO,UAAU,CAAEA,UAAW,CACvBiB,SAAS,CAAEP,OAAO,CAAG,SAAS,CAAG,OAAQ,EACrCR,IAAI,EACJM,KAAK,MACTP,IAAI,CAAEA,IAAK,CACXsB,QAAQ,CAAE,SAAAA,SAACC,KAAK,CAAEC,KAAK,CAAK,CAC1BjB,KAAK,CAACe,QAAQ,CAACE,KAAK,CAAC,CACvB,CAAE,EACH,CAAC,CACO,CACZ,CACD,CAAC,CAEP,CAcAlC,SAAS,CAACmC,YAAY,CAAG,CACvBhC,UAAU,CAAE,EAAE,CACdO,IAAI,CAAE,MAAM,CACZF,QAAQ,CAAE,SAAAA,SAAA,CAAM,CAAC,CAAC,CAClBC,UAAU,CAAE,KAAK,CACjBH,OAAO,CAAE,IAAI,CACbC,eAAe,CAAE,EACnB,CAAC,CAED,cAAe,CAAAP,SAAS"},"metadata":{},"sourceType":"module"}