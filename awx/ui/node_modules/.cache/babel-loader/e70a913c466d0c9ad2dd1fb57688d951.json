{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import{i18n}from\"@lingui/core\";import React,{useState,useCallback}from'react';import{Link,useHistory}from'react-router-dom';import{Button,TextList,TextListItem,TextListItemVariants,TextListVariants}from'@patternfly/react-core';import AlertModal from'components/AlertModal';import{CardBody,CardActionsRow}from'components/Card';import{Detail,ArrayDetail,DetailList,DeletedDetail,UserDateDetail}from'components/DetailList';import CodeDetail from'components/DetailList/CodeDetail';import DeleteButton from'components/DeleteButton';import ErrorDetail from'components/ErrorDetail';import{NotificationTemplatesAPI,NotificationsAPI}from'api';import useRequest,{useDismissableError}from'hooks/useRequest';import StatusLabel from'components/StatusLabel';import hasCustomMessages from'../shared/hasCustomMessages';import{NOTIFICATION_TYPES}from'../constants';import getHelpText from'../shared/Notifications.helptext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var NUM_RETRIES=25;var RETRY_TIMEOUT=5000;function NotificationTemplateDetail(_ref){var _template$summary_fie,_template$summary_fie2,_template$summary_fie3,_summary_fields$user_,_summary_fields$user_2;var template=_ref.template,defaultMessages=_ref.defaultMessages;var helpText=getHelpText();var history=useHistory();var _useState=useState((_template$summary_fie=(_template$summary_fie2=template.summary_fields)===null||_template$summary_fie2===void 0?void 0:(_template$summary_fie3=_template$summary_fie2.recent_notifications[0])===null||_template$summary_fie3===void 0?void 0:_template$summary_fie3.status)!==null&&_template$summary_fie!==void 0?_template$summary_fie:undefined),_useState2=_slicedToArray(_useState,2),testStatus=_useState2[0],setTestStatus=_useState2[1];var created=template.created,modified=template.modified,configuration=template.notification_configuration,summary_fields=template.summary_fields,messages=template.messages;var renderOptionsField=configuration.use_ssl||configuration.use_tls;var renderOptions=/*#__PURE__*/_jsxs(TextList,{component:TextListVariants.ul,children:[configuration.use_ssl&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Use SSL\")}),configuration.use_tls&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Use TLS\")})]});var _useRequest=useRequest(useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return NotificationTemplatesAPI.destroy(template.id);case 2:history.push(\"/notification_templates\");case 3:case\"end\":return _context.stop();}}},_callee);})),[template.id,history])),deleteTemplate=_useRequest.request,isLoading=_useRequest.isLoading,deleteError=_useRequest.error;var _useRequest2=useRequest(useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var retries,_yield$NotificationTe,notificationId,pollForStatusChange,_pollForStatusChange;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_pollForStatusChange=function _pollForStatusChange3(){_pollForStatusChange=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$NotificationsA,notification;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return NotificationsAPI.readDetail(notificationId);case 2:_yield$NotificationsA=_context2.sent;notification=_yield$NotificationsA.data;if(!(notification.status!=='pending')){_context2.next=7;break;}setTestStatus(notification.status);return _context2.abrupt(\"return\");case 7:retries--;if(retries>0){setTimeout(pollForStatusChange,RETRY_TIMEOUT);}case 9:case\"end\":return _context2.stop();}}},_callee2);}));return _pollForStatusChange.apply(this,arguments);};pollForStatusChange=function _pollForStatusChange2(){return _pollForStatusChange.apply(this,arguments);};setTestStatus('running');retries=NUM_RETRIES;_context3.next=6;return NotificationTemplatesAPI.test(template.id);case 6:_yield$NotificationTe=_context3.sent;notificationId=_yield$NotificationTe.data.notification;setTimeout(pollForStatusChange,RETRY_TIMEOUT);case 9:case\"end\":return _context3.stop();}}},_callee3);})),[template.id])),sendTestNotification=_useRequest2.request,testError=_useRequest2.error;var _useDismissableError=useDismissableError(deleteError||testError),error=_useDismissableError.error,dismissError=_useDismissableError.dismissError;var typeMessageDefaults=defaultMessages===null||defaultMessages===void 0?void 0:defaultMessages[template===null||template===void 0?void 0:template.notification_type];return/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsxs(DetailList,{gutter:\"sm\",children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Name\"),value:template.name,dataCy:\"nt-detail-name\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Description\"),value:template.description,dataCy:\"nt-detail-description\"}),summary_fields.recent_notifications.length?/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Status\"),value:/*#__PURE__*/_jsx(StatusLabel,{status:testStatus})}):null,summary_fields.organization?/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Organization\"),value:/*#__PURE__*/_jsx(Link,{to:\"/organizations/\".concat(summary_fields.organization.id,\"/details\"),children:summary_fields.organization.name})}):/*#__PURE__*/_jsx(DeletedDetail,{label:/*i18n*/i18n._(\"Organization\")}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Notification Type\"),value:NOTIFICATION_TYPES[template.notification_type]||template.notification_type,dataCy:\"nt-detail-type\"}),template.notification_type==='awssns'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"AWS Region\"),value:configuration.aws_region,dataCy:\"nt-detail-aws-region\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Access Key ID\"),value:configuration.aws_access_key_id,dataCy:\"nt-detail-aws-access-key-id\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"SNS Topic ARN\"),value:configuration.sns_topic_arn,dataCy:\"nt-detail-sns-topic-arn\"})]}),template.notification_type==='email'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Username\"),value:configuration.username,dataCy:\"nt-detail-username\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Host\"),value:configuration.host,dataCy:\"nt-detail-host\"}),/*#__PURE__*/_jsx(ArrayDetail,{label:/*i18n*/i18n._(\"Recipient List\"),helpText:helpText.emailRecepients,value:configuration.recipients,dataCy:\"nt-detail-recipients\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Sender Email\"),value:configuration.sender,dataCy:\"nt-detail-sender\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Port\"),value:configuration.port,dataCy:\"nt-detail-port\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Timeout\"),helpText:helpText.emailTimeout,value:configuration.timeout,dataCy:\"nt-detail-timeout\"}),renderOptionsField&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Email Options\"),value:renderOptions,helpText:helpText.emailOptions})]}),template.notification_type==='grafana'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Grafana URL\"),helpText:helpText.grafanaUrl,value:configuration.grafana_url,dataCy:\"nt-detail-grafana-url\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"ID of the Dashboard\"),value:configuration.dashboardId,dataCy:\"nt-detail-dashboard-id\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"ID of the Panel\"),value:configuration.panelId,dataCy:\"nt-detail-panel-id\"}),/*#__PURE__*/_jsx(ArrayDetail,{label:/*i18n*/i18n._(\"Tags for the Annotation\"),helpText:helpText.grafanaTags,value:configuration.annotation_tags,dataCy:\"nt-detail-\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Disable SSL Verification\"),value:configuration.grafana_no_verify_ssl?/*i18n*/i18n._(\"True\"):/*i18n*/i18n._(\"False\"),dataCy:\"nt-detail-disable-ssl\"})]}),template.notification_type==='irc'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"IRC Server Port\"),value:configuration.port,dataCy:\"nt-detail-irc-port\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"IRC Server Address\"),value:configuration.server,dataCy:\"nt-detail-irc-server\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"IRC Nick\"),value:configuration.nickname,dataCy:\"nt-detail-irc-nickname\"}),/*#__PURE__*/_jsx(ArrayDetail,{label:/*i18n*/i18n._(\"Destination Channels or Users\"),helpText:helpText.ircTargets,value:configuration.targets,dataCy:\"nt-detail-channels\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"SSL Connection\"),value:configuration.use_ssl?/*i18n*/i18n._(\"True\"):/*i18n*/i18n._(\"False\"),dataCy:\"nt-detail-irc-ssl\"})]}),template.notification_type==='mattermost'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Target URL\"),value:configuration.mattermost_url,dataCy:\"nt-detail-mattermost-url\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Username\"),value:configuration.mattermost_username,dataCy:\"nt-detail-mattermost-username\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Channel\"),value:configuration.mattermost_channel,dataCy:\"nt-detail-mattermost_channel\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Icon URL\"),value:configuration.mattermost_icon_url,dataCy:\"nt-detail-mattermost-icon-url\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Disable SSL Verification\"),value:configuration.mattermost_no_verify_ssl?/*i18n*/i18n._(\"True\"):/*i18n*/i18n._(\"False\"),dataCy:\"nt-detail-disable-ssl\"})]}),template.notification_type==='pagerduty'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Pagerduty Subdomain\"),value:configuration.subdomain,dataCy:\"nt-detail-pagerduty-subdomain\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"API Service/Integration Key\"),value:configuration.service_key,dataCy:\"nt-detail-pagerduty-service-key\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Client Identifier\"),value:configuration.client_name,dataCy:\"nt-detail-pagerduty-client-name\"})]}),template.notification_type==='rocketchat'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Target URL\"),value:configuration.rocketchat_url,dataCy:\"nt-detail-rocketchat-url\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Username\"),value:configuration.rocketchat_username,dataCy:\"nt-detail-rocketchat-username\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Icon URL\"),value:configuration.rocketchat_icon_url,dataCy:\"nt-detail-rocketchat-icon-url\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Disable SSL Verification\"),value:configuration.rocketchat_no_verify_ssl?/*i18n*/i18n._(\"True\"):/*i18n*/i18n._(\"False\"),dataCy:\"nt-detail-disable-ssl\"})]}),template.notification_type==='slack'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ArrayDetail,{helpText:helpText.slackChannels,label:/*i18n*/i18n._(\"Destination Channels\"),value:configuration.channels,dataCy:\"nt-detail-slack-channels\"}),/*#__PURE__*/_jsx(Detail,{helpText:helpText.slackColor,label:/*i18n*/i18n._(\"Notification Color\"),value:configuration.hex_color,dataCy:\"nt-detail-slack-color\"})]}),template.notification_type==='twilio'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Source Phone Number\"),helpText:helpText.twilioSourcePhoneNumber,value:configuration.from_number,dataCy:\"nt-detail-twilio-source-phone\"}),/*#__PURE__*/_jsx(ArrayDetail,{label:/*i18n*/i18n._(\"Destination SMS Number(s)\"),helpText:helpText.twilioDestinationNumbers,value:configuration.to_numbers,dataCy:\"nt-detail-twilio-destination-numbers\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Account SID\"),value:configuration.account_sid,dataCy:\"nt-detail-twilio-account-sid\"})]}),template.notification_type==='webhook'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Username\"),value:configuration.username,dataCy:\"nt-detail-webhook-password\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Target URL\"),value:configuration.url,dataCy:\"nt-detail-webhook-url\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Disable SSL Verification\"),value:configuration.disable_ssl_verification?/*i18n*/i18n._(\"True\"):/*i18n*/i18n._(\"False\"),dataCy:\"nt-detail-disable-ssl\"}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"HTTP Method\"),value:configuration.http_method,dataCy:\"nt-detail-webhook-http-method\"}),/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"HTTP Headers\"),helpText:helpText.webhookHeaders,value:JSON.stringify(configuration.headers),mode:\"json\",rows:6,dataCy:\"nt-detail-webhook-headers\"})]}),/*#__PURE__*/_jsx(UserDateDetail,{label:/*i18n*/i18n._(\"Created\"),date:created,user:summary_fields===null||summary_fields===void 0?void 0:summary_fields.created_by}),/*#__PURE__*/_jsx(UserDateDetail,{label:/*i18n*/i18n._(\"Last Modified\"),date:modified,user:summary_fields===null||summary_fields===void 0?void 0:summary_fields.modified_by}),typeMessageDefaults&&hasCustomMessages(messages,typeMessageDefaults)?/*#__PURE__*/_jsx(CustomMessageDetails,{messages:messages,defaults:typeMessageDefaults,type:template.notification_type}):null]}),/*#__PURE__*/_jsxs(CardActionsRow,{children:[((_summary_fields$user_=summary_fields.user_capabilities)===null||_summary_fields$user_===void 0?void 0:_summary_fields$user_.edit)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{ouiaId:\"notification-template-detail-edit-button\",component:Link,to:\"/notification_templates/\".concat(template.id,\"/edit\"),\"aria-label\":/*i18n*/i18n._(\"Edit\"),children:/*i18n*/i18n._(\"Edit\")}),/*#__PURE__*/_jsx(Button,{onClick:sendTestNotification,variant:\"secondary\",isDisabled:testStatus===('running'||'pending'),children:/*i18n*/i18n._(\"Test\")})]}),((_summary_fields$user_2=summary_fields.user_capabilities)===null||_summary_fields$user_2===void 0?void 0:_summary_fields$user_2.delete)&&/*#__PURE__*/_jsx(DeleteButton,{name:template.name,modalTitle:/*i18n*/i18n._(\"Delete Notification\"),onConfirm:deleteTemplate,isDisabled:isLoading,children:/*i18n*/i18n._(\"Delete\")})]}),error&&/*#__PURE__*/_jsxs(AlertModal,{isOpen:error,variant:\"error\",title:/*i18n*/i18n._(\"Error!\"),onClose:dismissError,children:[deleteError?/*i18n*/i18n._(\"Failed to delete notification.\"):/*i18n*/i18n._(\"Notification test failed.\"),/*#__PURE__*/_jsx(ErrorDetail,{error:error})]})]});}function CustomMessageDetails(_ref4){var _messages$started,_defaults$started,_messages$started2,_defaults$started2,_messages$success,_defaults$success,_messages$success2,_defaults$success2,_messages$error,_defaults$error,_messages$error2,_defaults$error2,_messages$workflow_ap,_messages$workflow_ap2,_messages$workflow_ap3,_messages$workflow_ap4,_messages$workflow_ap5,_messages$workflow_ap6,_messages$workflow_ap7,_messages$workflow_ap8,_messages$workflow_ap9,_messages$workflow_ap10,_messages$workflow_ap11,_messages$workflow_ap12,_messages$workflow_ap13,_messages$workflow_ap14,_messages$workflow_ap15,_messages$workflow_ap16;var messages=_ref4.messages,defaults=_ref4.defaults,type=_ref4.type;var showMessages=!['awssns','webhook'].includes(type);var showBodies=['email','pagerduty','webhook','awssns'].includes(type);return/*#__PURE__*/_jsxs(_Fragment,{children:[showMessages&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Start message\"),value:((_messages$started=messages.started)===null||_messages$started===void 0?void 0:_messages$started.message)||((_defaults$started=defaults.started)===null||_defaults$started===void 0?void 0:_defaults$started.message),mode:\"jinja2\",rows:2,fullWidth:true}),showBodies&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Start message body\"),value:((_messages$started2=messages.started)===null||_messages$started2===void 0?void 0:_messages$started2.body)||((_defaults$started2=defaults.started)===null||_defaults$started2===void 0?void 0:_defaults$started2.body),mode:\"jinja2\",rows:6,fullWidth:true}),showMessages&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Success message\"),value:((_messages$success=messages.success)===null||_messages$success===void 0?void 0:_messages$success.message)||((_defaults$success=defaults.success)===null||_defaults$success===void 0?void 0:_defaults$success.message),mode:\"jinja2\",rows:2,fullWidth:true}),showBodies&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Success message body\"),value:((_messages$success2=messages.success)===null||_messages$success2===void 0?void 0:_messages$success2.body)||((_defaults$success2=defaults.success)===null||_defaults$success2===void 0?void 0:_defaults$success2.body),mode:\"jinja2\",rows:6,fullWidth:true}),showMessages&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Error message\"),value:((_messages$error=messages.error)===null||_messages$error===void 0?void 0:_messages$error.message)||((_defaults$error=defaults.error)===null||_defaults$error===void 0?void 0:_defaults$error.message),mode:\"jinja2\",rows:2,fullWidth:true}),showBodies&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Error message body\"),value:((_messages$error2=messages.error)===null||_messages$error2===void 0?void 0:_messages$error2.body)||((_defaults$error2=defaults.error)===null||_defaults$error2===void 0?void 0:_defaults$error2.body),mode:\"jinja2\",rows:6,fullWidth:true}),showMessages&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Workflow approved message\"),value:((_messages$workflow_ap=messages.workflow_approval)===null||_messages$workflow_ap===void 0?void 0:(_messages$workflow_ap2=_messages$workflow_ap.approved)===null||_messages$workflow_ap2===void 0?void 0:_messages$workflow_ap2.message)||defaults.workflow_approval.approved.message,mode:\"jinja2\",rows:2,fullWidth:true}),showBodies&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Workflow approved message body\"),value:((_messages$workflow_ap3=messages.workflow_approval)===null||_messages$workflow_ap3===void 0?void 0:(_messages$workflow_ap4=_messages$workflow_ap3.approved)===null||_messages$workflow_ap4===void 0?void 0:_messages$workflow_ap4.body)||defaults.workflow_approval.approved.body,mode:\"jinja2\",rows:6,fullWidth:true}),showMessages&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Workflow denied message\"),value:((_messages$workflow_ap5=messages.workflow_approval)===null||_messages$workflow_ap5===void 0?void 0:(_messages$workflow_ap6=_messages$workflow_ap5.denied)===null||_messages$workflow_ap6===void 0?void 0:_messages$workflow_ap6.message)||defaults.workflow_approval.denied.message,mode:\"jinja2\",rows:2,fullWidth:true}),showBodies&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Workflow denied message body\"),value:((_messages$workflow_ap7=messages.workflow_approval)===null||_messages$workflow_ap7===void 0?void 0:(_messages$workflow_ap8=_messages$workflow_ap7.denied)===null||_messages$workflow_ap8===void 0?void 0:_messages$workflow_ap8.body)||defaults.workflow_approval.denied.body,mode:\"jinja2\",rows:6,fullWidth:true}),showMessages&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Workflow pending message\"),value:((_messages$workflow_ap9=messages.workflow_approval)===null||_messages$workflow_ap9===void 0?void 0:(_messages$workflow_ap10=_messages$workflow_ap9.running)===null||_messages$workflow_ap10===void 0?void 0:_messages$workflow_ap10.message)||defaults.workflow_approval.running.message,mode:\"jinja2\",rows:2,fullWidth:true}),showBodies&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Workflow pending message body\"),value:((_messages$workflow_ap11=messages.workflow_approval)===null||_messages$workflow_ap11===void 0?void 0:(_messages$workflow_ap12=_messages$workflow_ap11.running)===null||_messages$workflow_ap12===void 0?void 0:_messages$workflow_ap12.body)||defaults.workflow_approval.running.body,mode:\"jinja2\",rows:6,fullWidth:true}),showMessages&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Workflow timed out message\"),value:((_messages$workflow_ap13=messages.workflow_approval)===null||_messages$workflow_ap13===void 0?void 0:(_messages$workflow_ap14=_messages$workflow_ap13.timed_out)===null||_messages$workflow_ap14===void 0?void 0:_messages$workflow_ap14.message)||defaults.workflow_approval.timed_out.message,mode:\"jinja2\",rows:2,fullWidth:true}),showBodies&&/*#__PURE__*/_jsx(CodeDetail,{label:/*i18n*/i18n._(\"Workflow timed out message body\"),value:((_messages$workflow_ap15=messages.workflow_approval)===null||_messages$workflow_ap15===void 0?void 0:(_messages$workflow_ap16=_messages$workflow_ap15.timed_out)===null||_messages$workflow_ap16===void 0?void 0:_messages$workflow_ap16.body)||defaults.workflow_approval.timed_out.body,mode:\"jinja2\",rows:6,fullWidth:true})]});}export default NotificationTemplateDetail;","map":{"version":3,"names":["React","useState","useCallback","Link","useHistory","Button","TextList","TextListItem","TextListItemVariants","TextListVariants","AlertModal","CardBody","CardActionsRow","Detail","ArrayDetail","DetailList","DeletedDetail","UserDateDetail","CodeDetail","DeleteButton","ErrorDetail","NotificationTemplatesAPI","NotificationsAPI","useRequest","useDismissableError","StatusLabel","hasCustomMessages","NOTIFICATION_TYPES","getHelpText","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NUM_RETRIES","RETRY_TIMEOUT","NotificationTemplateDetail","_ref","_template$summary_fie","_template$summary_fie2","_template$summary_fie3","_summary_fields$user_","_summary_fields$user_2","template","defaultMessages","helpText","history","_useState","summary_fields","recent_notifications","status","undefined","_useState2","_slicedToArray","testStatus","setTestStatus","created","modified","configuration","notification_configuration","messages","renderOptionsField","use_ssl","use_tls","renderOptions","component","ul","children","li","i18n","_","_useRequest","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","destroy","id","push","stop","deleteTemplate","request","isLoading","deleteError","error","_useRequest2","_callee3","retries","_yield$NotificationTe","notificationId","pollForStatusChange","_pollForStatusChange","_callee3$","_context3","_pollForStatusChange3","_callee2","_yield$NotificationsA","notification","_callee2$","_context2","readDetail","sent","data","abrupt","setTimeout","apply","arguments","_pollForStatusChange2","test","sendTestNotification","testError","_useDismissableError","dismissError","typeMessageDefaults","notification_type","gutter","label","value","name","dataCy","description","length","organization","to","concat","aws_region","aws_access_key_id","sns_topic_arn","username","host","emailRecepients","recipients","sender","port","emailTimeout","timeout","emailOptions","grafanaUrl","grafana_url","dashboardId","panelId","grafanaTags","annotation_tags","grafana_no_verify_ssl","server","nickname","ircTargets","targets","mattermost_url","mattermost_username","mattermost_channel","mattermost_icon_url","mattermost_no_verify_ssl","subdomain","service_key","client_name","rocketchat_url","rocketchat_username","rocketchat_icon_url","rocketchat_no_verify_ssl","slackChannels","channels","slackColor","hex_color","twilioSourcePhoneNumber","from_number","twilioDestinationNumbers","to_numbers","account_sid","url","disable_ssl_verification","http_method","webhookHeaders","JSON","stringify","headers","mode","rows","date","user","created_by","modified_by","CustomMessageDetails","defaults","type","user_capabilities","edit","ouiaId","onClick","variant","isDisabled","delete","modalTitle","onConfirm","isOpen","title","onClose","_ref4","_messages$started","_defaults$started","_messages$started2","_defaults$started2","_messages$success","_defaults$success","_messages$success2","_defaults$success2","_messages$error","_defaults$error","_messages$error2","_defaults$error2","_messages$workflow_ap","_messages$workflow_ap2","_messages$workflow_ap3","_messages$workflow_ap4","_messages$workflow_ap5","_messages$workflow_ap6","_messages$workflow_ap7","_messages$workflow_ap8","_messages$workflow_ap9","_messages$workflow_ap10","_messages$workflow_ap11","_messages$workflow_ap12","_messages$workflow_ap13","_messages$workflow_ap14","_messages$workflow_ap15","_messages$workflow_ap16","showMessages","includes","showBodies","started","message","fullWidth","body","success","workflow_approval","approved","denied","running","timed_out"],"sources":["/awx_devel/awx/ui/src/screens/NotificationTemplate/NotificationTemplateDetail/NotificationTemplateDetail.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport {\n  Button,\n  TextList,\n  TextListItem,\n  TextListItemVariants,\n  TextListVariants,\n} from '@patternfly/react-core';\nimport { t } from '@lingui/macro';\nimport AlertModal from 'components/AlertModal';\nimport { CardBody, CardActionsRow } from 'components/Card';\nimport {\n  Detail,\n  ArrayDetail,\n  DetailList,\n  DeletedDetail,\n  UserDateDetail,\n} from 'components/DetailList';\nimport CodeDetail from 'components/DetailList/CodeDetail';\nimport DeleteButton from 'components/DeleteButton';\nimport ErrorDetail from 'components/ErrorDetail';\nimport { NotificationTemplatesAPI, NotificationsAPI } from 'api';\nimport useRequest, { useDismissableError } from 'hooks/useRequest';\nimport StatusLabel from 'components/StatusLabel';\nimport hasCustomMessages from '../shared/hasCustomMessages';\nimport { NOTIFICATION_TYPES } from '../constants';\nimport getHelpText from '../shared/Notifications.helptext';\n\nconst NUM_RETRIES = 25;\nconst RETRY_TIMEOUT = 5000;\n\nfunction NotificationTemplateDetail({ template, defaultMessages }) {\n  const helpText = getHelpText();\n  const history = useHistory();\n  const [testStatus, setTestStatus] = useState(\n    template.summary_fields?.recent_notifications[0]?.status ?? undefined\n  );\n  const {\n    created,\n    modified,\n    notification_configuration: configuration,\n    summary_fields,\n    messages,\n  } = template;\n\n  const renderOptionsField = configuration.use_ssl || configuration.use_tls;\n\n  const renderOptions = (\n    <TextList component={TextListVariants.ul}>\n      {configuration.use_ssl && (\n        <TextListItem component={TextListItemVariants.li}>\n          {t`Use SSL`}\n        </TextListItem>\n      )}\n      {configuration.use_tls && (\n        <TextListItem component={TextListItemVariants.li}>\n          {t`Use TLS`}\n        </TextListItem>\n      )}\n    </TextList>\n  );\n\n  const {\n    request: deleteTemplate,\n    isLoading,\n    error: deleteError,\n  } = useRequest(\n    useCallback(async () => {\n      await NotificationTemplatesAPI.destroy(template.id);\n      history.push(`/notification_templates`);\n    }, [template.id, history])\n  );\n\n  const { request: sendTestNotification, error: testError } = useRequest(\n    useCallback(async () => {\n      setTestStatus('running');\n\n      let retries = NUM_RETRIES;\n      const {\n        data: { notification: notificationId },\n      } = await NotificationTemplatesAPI.test(template.id);\n\n      async function pollForStatusChange() {\n        const { data: notification } = await NotificationsAPI.readDetail(\n          notificationId\n        );\n        if (notification.status !== 'pending') {\n          setTestStatus(notification.status);\n          return;\n        }\n        retries--;\n        if (retries > 0) {\n          setTimeout(pollForStatusChange, RETRY_TIMEOUT);\n        }\n      }\n\n      setTimeout(pollForStatusChange, RETRY_TIMEOUT);\n    }, [template.id])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError || testError);\n  const typeMessageDefaults = defaultMessages?.[template?.notification_type];\n  return (\n    <CardBody>\n      <DetailList gutter=\"sm\">\n        <Detail label={t`Name`} value={template.name} dataCy=\"nt-detail-name\" />\n        <Detail\n          label={t`Description`}\n          value={template.description}\n          dataCy=\"nt-detail-description\"\n        />\n        {summary_fields.recent_notifications.length ? (\n          <Detail\n            label={t`Status`}\n            value={<StatusLabel status={testStatus} />}\n          />\n        ) : null}\n        {summary_fields.organization ? (\n          <Detail\n            label={t`Organization`}\n            value={\n              <Link\n                to={`/organizations/${summary_fields.organization.id}/details`}\n              >\n                {summary_fields.organization.name}\n              </Link>\n            }\n          />\n        ) : (\n          <DeletedDetail label={t`Organization`} />\n        )}\n        <Detail\n          label={t`Notification Type`}\n          value={\n            NOTIFICATION_TYPES[template.notification_type] ||\n            template.notification_type\n          }\n          dataCy=\"nt-detail-type\"\n        />\n        {template.notification_type === 'awssns' && (\n          <>\n            <Detail\n              label={t`AWS Region`}\n              value={configuration.aws_region}\n              dataCy=\"nt-detail-aws-region\"\n            />\n            <Detail\n              label={t`Access Key ID`}\n              value={configuration.aws_access_key_id}\n              dataCy=\"nt-detail-aws-access-key-id\"\n            />\n            <Detail\n              label={t`SNS Topic ARN`}\n              value={configuration.sns_topic_arn}\n              dataCy=\"nt-detail-sns-topic-arn\"\n            />\n          </>\n        )}\n        {template.notification_type === 'email' && (\n          <>\n            <Detail\n              label={t`Username`}\n              value={configuration.username}\n              dataCy=\"nt-detail-username\"\n            />\n            <Detail\n              label={t`Host`}\n              value={configuration.host}\n              dataCy=\"nt-detail-host\"\n            />\n            <ArrayDetail\n              label={t`Recipient List`}\n              helpText={helpText.emailRecepients}\n              value={configuration.recipients}\n              dataCy=\"nt-detail-recipients\"\n            />\n            <Detail\n              label={t`Sender Email`}\n              value={configuration.sender}\n              dataCy=\"nt-detail-sender\"\n            />\n            <Detail\n              label={t`Port`}\n              value={configuration.port}\n              dataCy=\"nt-detail-port\"\n            />\n            <Detail\n              label={t`Timeout`}\n              helpText={helpText.emailTimeout}\n              value={configuration.timeout}\n              dataCy=\"nt-detail-timeout\"\n            />\n            {renderOptionsField && (\n              <Detail\n                label={t`Email Options`}\n                value={renderOptions}\n                helpText={helpText.emailOptions}\n              />\n            )}\n          </>\n        )}\n        {template.notification_type === 'grafana' && (\n          <>\n            <Detail\n              label={t`Grafana URL`}\n              helpText={helpText.grafanaUrl}\n              value={configuration.grafana_url}\n              dataCy=\"nt-detail-grafana-url\"\n            />\n            <Detail\n              label={t`ID of the Dashboard`}\n              value={configuration.dashboardId}\n              dataCy=\"nt-detail-dashboard-id\"\n            />\n            <Detail\n              label={t`ID of the Panel`}\n              value={configuration.panelId}\n              dataCy=\"nt-detail-panel-id\"\n            />\n            <ArrayDetail\n              label={t`Tags for the Annotation`}\n              helpText={helpText.grafanaTags}\n              value={configuration.annotation_tags}\n              dataCy=\"nt-detail-\"\n            />\n            <Detail\n              label={t`Disable SSL Verification`}\n              value={configuration.grafana_no_verify_ssl ? t`True` : t`False`}\n              dataCy=\"nt-detail-disable-ssl\"\n            />\n          </>\n        )}\n        {template.notification_type === 'irc' && (\n          <>\n            <Detail\n              label={t`IRC Server Port`}\n              value={configuration.port}\n              dataCy=\"nt-detail-irc-port\"\n            />\n            <Detail\n              label={t`IRC Server Address`}\n              value={configuration.server}\n              dataCy=\"nt-detail-irc-server\"\n            />\n            <Detail\n              label={t`IRC Nick`}\n              value={configuration.nickname}\n              dataCy=\"nt-detail-irc-nickname\"\n            />\n            <ArrayDetail\n              label={t`Destination Channels or Users`}\n              helpText={helpText.ircTargets}\n              value={configuration.targets}\n              dataCy=\"nt-detail-channels\"\n            />\n            <Detail\n              label={t`SSL Connection`}\n              value={configuration.use_ssl ? t`True` : t`False`}\n              dataCy=\"nt-detail-irc-ssl\"\n            />\n          </>\n        )}\n        {template.notification_type === 'mattermost' && (\n          <>\n            <Detail\n              label={t`Target URL`}\n              value={configuration.mattermost_url}\n              dataCy=\"nt-detail-mattermost-url\"\n            />\n            <Detail\n              label={t`Username`}\n              value={configuration.mattermost_username}\n              dataCy=\"nt-detail-mattermost-username\"\n            />\n            <Detail\n              label={t`Channel`}\n              value={configuration.mattermost_channel}\n              dataCy=\"nt-detail-mattermost_channel\"\n            />\n            <Detail\n              label={t`Icon URL`}\n              value={configuration.mattermost_icon_url}\n              dataCy=\"nt-detail-mattermost-icon-url\"\n            />\n            <Detail\n              label={t`Disable SSL Verification`}\n              value={\n                configuration.mattermost_no_verify_ssl ? t`True` : t`False`\n              }\n              dataCy=\"nt-detail-disable-ssl\"\n            />\n          </>\n        )}\n        {template.notification_type === 'pagerduty' && (\n          <>\n            <Detail\n              label={t`Pagerduty Subdomain`}\n              value={configuration.subdomain}\n              dataCy=\"nt-detail-pagerduty-subdomain\"\n            />\n            <Detail\n              label={t`API Service/Integration Key`}\n              value={configuration.service_key}\n              dataCy=\"nt-detail-pagerduty-service-key\"\n            />\n            <Detail\n              label={t`Client Identifier`}\n              value={configuration.client_name}\n              dataCy=\"nt-detail-pagerduty-client-name\"\n            />\n          </>\n        )}\n        {template.notification_type === 'rocketchat' && (\n          <>\n            <Detail\n              label={t`Target URL`}\n              value={configuration.rocketchat_url}\n              dataCy=\"nt-detail-rocketchat-url\"\n            />\n            <Detail\n              label={t`Username`}\n              value={configuration.rocketchat_username}\n              dataCy=\"nt-detail-rocketchat-username\"\n            />\n            <Detail\n              label={t`Icon URL`}\n              value={configuration.rocketchat_icon_url}\n              dataCy=\"nt-detail-rocketchat-icon-url\"\n            />\n            <Detail\n              label={t`Disable SSL Verification`}\n              value={\n                configuration.rocketchat_no_verify_ssl ? t`True` : t`False`\n              }\n              dataCy=\"nt-detail-disable-ssl\"\n            />\n          </>\n        )}\n        {template.notification_type === 'slack' && (\n          <>\n            <ArrayDetail\n              helpText={helpText.slackChannels}\n              label={t`Destination Channels`}\n              value={configuration.channels}\n              dataCy=\"nt-detail-slack-channels\"\n            />\n            <Detail\n              helpText={helpText.slackColor}\n              label={t`Notification Color`}\n              value={configuration.hex_color}\n              dataCy=\"nt-detail-slack-color\"\n            />\n          </>\n        )}\n        {template.notification_type === 'twilio' && (\n          <>\n            <Detail\n              label={t`Source Phone Number`}\n              helpText={helpText.twilioSourcePhoneNumber}\n              value={configuration.from_number}\n              dataCy=\"nt-detail-twilio-source-phone\"\n            />\n            <ArrayDetail\n              label={t`Destination SMS Number(s)`}\n              helpText={helpText.twilioDestinationNumbers}\n              value={configuration.to_numbers}\n              dataCy=\"nt-detail-twilio-destination-numbers\"\n            />\n            <Detail\n              label={t`Account SID`}\n              value={configuration.account_sid}\n              dataCy=\"nt-detail-twilio-account-sid\"\n            />\n          </>\n        )}\n        {template.notification_type === 'webhook' && (\n          <>\n            <Detail\n              label={t`Username`}\n              value={configuration.username}\n              dataCy=\"nt-detail-webhook-password\"\n            />\n            <Detail\n              label={t`Target URL`}\n              value={configuration.url}\n              dataCy=\"nt-detail-webhook-url\"\n            />\n            <Detail\n              label={t`Disable SSL Verification`}\n              value={\n                configuration.disable_ssl_verification ? t`True` : t`False`\n              }\n              dataCy=\"nt-detail-disable-ssl\"\n            />\n            <Detail\n              label={t`HTTP Method`}\n              value={configuration.http_method}\n              dataCy=\"nt-detail-webhook-http-method\"\n            />\n            <CodeDetail\n              label={t`HTTP Headers`}\n              helpText={helpText.webhookHeaders}\n              value={JSON.stringify(configuration.headers)}\n              mode=\"json\"\n              rows={6}\n              dataCy=\"nt-detail-webhook-headers\"\n            />\n          </>\n        )}\n        <UserDateDetail\n          label={t`Created`}\n          date={created}\n          user={summary_fields?.created_by}\n        />\n        <UserDateDetail\n          label={t`Last Modified`}\n          date={modified}\n          user={summary_fields?.modified_by}\n        />\n        {typeMessageDefaults &&\n        hasCustomMessages(messages, typeMessageDefaults) ? (\n          <CustomMessageDetails\n            messages={messages}\n            defaults={typeMessageDefaults}\n            type={template.notification_type}\n          />\n        ) : null}\n      </DetailList>\n      <CardActionsRow>\n        {summary_fields.user_capabilities?.edit && (\n          <>\n            <Button\n              ouiaId=\"notification-template-detail-edit-button\"\n              component={Link}\n              to={`/notification_templates/${template.id}/edit`}\n              aria-label={t`Edit`}\n            >\n              {t`Edit`}\n            </Button>\n            <Button\n              onClick={sendTestNotification}\n              variant=\"secondary\"\n              isDisabled={testStatus === ('running' || 'pending')}\n            >{t`Test`}</Button>\n          </>\n        )}\n        {summary_fields.user_capabilities?.delete && (\n          <DeleteButton\n            name={template.name}\n            modalTitle={t`Delete Notification`}\n            onConfirm={deleteTemplate}\n            isDisabled={isLoading}\n          >\n            {t`Delete`}\n          </DeleteButton>\n        )}\n      </CardActionsRow>\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={t`Error!`}\n          onClose={dismissError}\n        >\n          {deleteError\n            ? t`Failed to delete notification.`\n            : t`Notification test failed.`}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\n\nfunction CustomMessageDetails({ messages, defaults, type }) {\n  const showMessages = !['awssns', 'webhook'].includes(type);\n  const showBodies = ['email', 'pagerduty', 'webhook', 'awssns'].includes(type);\n\n  return (\n    <>\n      {showMessages && (\n        <CodeDetail\n          label={t`Start message`}\n          value={messages.started?.message || defaults.started?.message}\n          mode=\"jinja2\"\n          rows={2}\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={t`Start message body`}\n          value={messages.started?.body || defaults.started?.body}\n          mode=\"jinja2\"\n          rows={6}\n          fullWidth\n        />\n      )}\n      {showMessages && (\n        <CodeDetail\n          label={t`Success message`}\n          value={messages.success?.message || defaults.success?.message}\n          mode=\"jinja2\"\n          rows={2}\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={t`Success message body`}\n          value={messages.success?.body || defaults.success?.body}\n          mode=\"jinja2\"\n          rows={6}\n          fullWidth\n        />\n      )}\n      {showMessages && (\n        <CodeDetail\n          label={t`Error message`}\n          value={messages.error?.message || defaults.error?.message}\n          mode=\"jinja2\"\n          rows={2}\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={t`Error message body`}\n          value={messages.error?.body || defaults.error?.body}\n          mode=\"jinja2\"\n          rows={6}\n          fullWidth\n        />\n      )}\n      {showMessages && (\n        <CodeDetail\n          label={t`Workflow approved message`}\n          value={\n            messages.workflow_approval?.approved?.message ||\n            defaults.workflow_approval.approved.message\n          }\n          mode=\"jinja2\"\n          rows={2}\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={t`Workflow approved message body`}\n          value={\n            messages.workflow_approval?.approved?.body ||\n            defaults.workflow_approval.approved.body\n          }\n          mode=\"jinja2\"\n          rows={6}\n          fullWidth\n        />\n      )}\n      {showMessages && (\n        <CodeDetail\n          label={t`Workflow denied message`}\n          value={\n            messages.workflow_approval?.denied?.message ||\n            defaults.workflow_approval.denied.message\n          }\n          mode=\"jinja2\"\n          rows={2}\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={t`Workflow denied message body`}\n          value={\n            messages.workflow_approval?.denied?.body ||\n            defaults.workflow_approval.denied.body\n          }\n          mode=\"jinja2\"\n          rows={6}\n          fullWidth\n        />\n      )}\n      {showMessages && (\n        <CodeDetail\n          label={t`Workflow pending message`}\n          value={\n            messages.workflow_approval?.running?.message ||\n            defaults.workflow_approval.running.message\n          }\n          mode=\"jinja2\"\n          rows={2}\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={t`Workflow pending message body`}\n          value={\n            messages.workflow_approval?.running?.body ||\n            defaults.workflow_approval.running.body\n          }\n          mode=\"jinja2\"\n          rows={6}\n          fullWidth\n        />\n      )}\n      {showMessages && (\n        <CodeDetail\n          label={t`Workflow timed out message`}\n          value={\n            messages.workflow_approval?.timed_out?.message ||\n            defaults.workflow_approval.timed_out.message\n          }\n          mode=\"jinja2\"\n          rows={2}\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={t`Workflow timed out message body`}\n          value={\n            messages.workflow_approval?.timed_out?.body ||\n            defaults.workflow_approval.timed_out.body\n          }\n          mode=\"jinja2\"\n          rows={6}\n          fullWidth\n        />\n      )}\n    </>\n  );\n}\n\nexport default NotificationTemplateDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}