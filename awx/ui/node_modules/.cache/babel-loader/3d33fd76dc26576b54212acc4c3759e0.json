{"ast":null,"code":"import _toConsumableArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useCallback}from'react';import{AlertGroup,Alert,AlertActionCloseButton,AlertVariant}from'@patternfly/react-core';import{Toast as ToastType}from'types';import{jsx as _jsx}from\"react/jsx-runtime\";export default function useToast(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),toasts=_useState2[0],setToasts=_useState2[1];var addToast=useCallback(function(newToast){setToasts(function(oldToasts){return[].concat(_toConsumableArray(oldToasts),[newToast]);});},[]);var removeToast=useCallback(function(toastId){setToasts(function(oldToasts){return oldToasts.filter(function(t){return t.id!==toastId;});});},[]);return{addToast:addToast,removeToast:removeToast,Toast:Toast,toastProps:{toasts:toasts,removeToast:removeToast}};}export function Toast(_ref){var toasts=_ref.toasts,removeToast=_ref.removeToast;if(!toasts.length){return null;}return/*#__PURE__*/_jsx(AlertGroup,{\"data-cy\":\"toast-container\",isToast:true,children:toasts.map(function(toast){return/*#__PURE__*/_jsx(Alert,{actionClose:/*#__PURE__*/_jsx(AlertActionCloseButton,{onClose:function onClose(){return removeToast(toast.id);}}),onTimeout:function onTimeout(){return removeToast(toast.id);},timeout:toast.hasTimeout,title:toast.title,variant:toast.variant,ouiaId:\"toast-message-\".concat(toast.id),children:toast.message},\"toast-message-\".concat(toast.id));})});}export{AlertVariant};","map":{"version":3,"names":["React","useState","useCallback","AlertGroup","Alert","AlertActionCloseButton","AlertVariant","Toast","ToastType","jsx","_jsx","useToast","_useState","_useState2","_slicedToArray","toasts","setToasts","addToast","newToast","oldToasts","concat","_toConsumableArray","removeToast","toastId","filter","t","id","toastProps","_ref","length","isToast","children","map","toast","actionClose","onClose","onTimeout","timeout","hasTimeout","title","variant","ouiaId","message"],"sources":["/awx_devel/awx/ui/src/hooks/useToast.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport {\n  AlertGroup,\n  Alert,\n  AlertActionCloseButton,\n  AlertVariant,\n} from '@patternfly/react-core';\nimport { arrayOf, func } from 'prop-types';\nimport { Toast as ToastType } from 'types';\n\nexport default function useToast() {\n  const [toasts, setToasts] = useState([]);\n\n  const addToast = useCallback((newToast) => {\n    setToasts((oldToasts) => [...oldToasts, newToast]);\n  }, []);\n\n  const removeToast = useCallback((toastId) => {\n    setToasts((oldToasts) => oldToasts.filter((t) => t.id !== toastId));\n  }, []);\n\n  return {\n    addToast,\n    removeToast,\n    Toast,\n    toastProps: {\n      toasts,\n      removeToast,\n    },\n  };\n}\n\nexport function Toast({ toasts, removeToast }) {\n  if (!toasts.length) {\n    return null;\n  }\n\n  return (\n    <AlertGroup data-cy=\"toast-container\" isToast>\n      {toasts.map((toast) => (\n        <Alert\n          actionClose={\n            <AlertActionCloseButton onClose={() => removeToast(toast.id)} />\n          }\n          onTimeout={() => removeToast(toast.id)}\n          timeout={toast.hasTimeout}\n          title={toast.title}\n          variant={toast.variant}\n          key={`toast-message-${toast.id}`}\n          ouiaId={`toast-message-${toast.id}`}\n        >\n          {toast.message}\n        </Alert>\n      ))}\n    </AlertGroup>\n  );\n}\n\nToast.propTypes = {\n  toasts: arrayOf(ToastType).isRequired,\n  removeToast: func.isRequired,\n};\n\nexport { AlertVariant };\n"],"mappings":"sNAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CACpD,OACEC,UAAU,CACVC,KAAK,CACLC,sBAAsB,CACtBC,YAAY,KACP,wBAAwB,CAE/B,OAASC,KAAK,GAAI,CAAAC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE3C,cAAe,SAAS,CAAAC,QAAQA,CAAA,CAAG,CACjC,IAAAC,SAAA,CAA4BX,QAAQ,CAAC,EAAE,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IAExB,GAAM,CAAAI,QAAQ,CAAGf,WAAW,CAAC,SAACgB,QAAQ,CAAK,CACzCF,SAAS,CAAC,SAACG,SAAS,WAAAC,MAAA,CAAAC,kBAAA,CAASF,SAAS,GAAED,QAAQ,IAAC,CAAC,CACpD,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAI,WAAW,CAAGpB,WAAW,CAAC,SAACqB,OAAO,CAAK,CAC3CP,SAAS,CAAC,SAACG,SAAS,QAAK,CAAAA,SAAS,CAACK,MAAM,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,CAACC,EAAE,GAAKH,OAAO,GAAC,GAAC,CACrE,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CACLN,QAAQ,CAARA,QAAQ,CACRK,WAAW,CAAXA,WAAW,CACXf,KAAK,CAALA,KAAK,CACLoB,UAAU,CAAE,CACVZ,MAAM,CAANA,MAAM,CACNO,WAAW,CAAXA,WACF,CACF,CAAC,CACH,CAEA,MAAO,SAAS,CAAAf,KAAKA,CAAAqB,IAAA,CAA0B,IAAvB,CAAAb,MAAM,CAAAa,IAAA,CAANb,MAAM,CAAEO,WAAW,CAAAM,IAAA,CAAXN,WAAW,CACzC,GAAI,CAACP,MAAM,CAACc,MAAM,CAAE,CAClB,MAAO,KAAI,CACb,CAEA,mBACEnB,IAAA,CAACP,UAAU,EAAC,UAAQ,iBAAiB,CAAC2B,OAAO,MAAAC,QAAA,CAC1ChB,MAAM,CAACiB,GAAG,CAAC,SAACC,KAAK,qBAChBvB,IAAA,CAACN,KAAK,EACJ8B,WAAW,cACTxB,IAAA,CAACL,sBAAsB,EAAC8B,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAb,WAAW,CAACW,KAAK,CAACP,EAAE,CAAC,EAAC,CAAE,CAChE,CACDU,SAAS,CAAE,SAAAA,UAAA,QAAM,CAAAd,WAAW,CAACW,KAAK,CAACP,EAAE,CAAC,EAAC,CACvCW,OAAO,CAAEJ,KAAK,CAACK,UAAW,CAC1BC,KAAK,CAAEN,KAAK,CAACM,KAAM,CACnBC,OAAO,CAAEP,KAAK,CAACO,OAAQ,CAEvBC,MAAM,kBAAArB,MAAA,CAAmBa,KAAK,CAACP,EAAE,CAAG,CAAAK,QAAA,CAEnCE,KAAK,CAACS,OAAO,mBAAAtB,MAAA,CAHQa,KAAK,CAACP,EAAE,CAIzB,CAAC,EACT,CAAC,CACQ,CAAC,CAEjB,CAOA,OAASpB,YAAY"},"metadata":{},"sourceType":"module"}