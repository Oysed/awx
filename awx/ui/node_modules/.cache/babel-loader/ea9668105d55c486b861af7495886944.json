{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"instanceGroup\",\"onSubmit\",\"onCancel\",\"submitError\"];import{i18n}from\"@lingui/core\";import React from'react';import{Formik}from'formik';import{Form}from'@patternfly/react-core';import FormField,{FormSubmitError}from'components/FormField';import FormActionGroup from'components/FormActionGroup';import{required,minMaxValue}from'util/validators';import{FormColumnLayout}from'components/FormLayout';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function InstanceGroupFormFields(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FormField,{name:\"name\",id:\"instance-group-name\",label:/*i18n*/i18n._(\"Name\"),type:\"text\",validate:required(null),isRequired:true}),/*#__PURE__*/_jsx(FormField,{id:\"instance-group-policy-instance-minimum\",label:/*i18n*/i18n._(\"Policy instance minimum\"),name:\"policy_instance_minimum\",type:\"number\",min:\"0\",validate:minMaxValue(0,2147483647),tooltip:/*i18n*/i18n._(\"Minimum number of instances that will be automatically\\nassigned to this group when new instances come online.\")}),/*#__PURE__*/_jsx(FormField,{id:\"instance-group-policy-instance-percentage\",label:/*i18n*/i18n._(\"Policy instance percentage\"),name:\"policy_instance_percentage\",type:\"number\",min:\"0\",max:\"100\",tooltip:/*i18n*/i18n._(\"Minimum percentage of all instances that will be automatically\\nassigned to this group when new instances come online.\"),validate:minMaxValue(0,100)}),/*#__PURE__*/_jsx(FormField,{id:\"instance-group-max-concurrent-jobs\",label:/*i18n*/i18n._(\"Max concurrent jobs\"),name:\"max_concurrent_jobs\",type:\"number\",min:\"0\",validate:minMaxValue(0,2147483647),tooltip:/*i18n*/i18n._(\"Maximum number of jobs to run concurrently on this group.\\nZero means no limit will be enforced.\")}),/*#__PURE__*/_jsx(FormField,{id:\"instance-group-max-forks\",label:/*i18n*/i18n._(\"Max forks\"),name:\"max_forks\",type:\"number\",min:\"0\",validate:minMaxValue(0,2147483647),tooltip:/*i18n*/i18n._(\"Maximum number of forks to allow across all jobs running concurrently on this group.\\nZero means no limit will be enforced.\")})]});}function InstanceGroupForm(_ref){var _ref$instanceGroup=_ref.instanceGroup,instanceGroup=_ref$instanceGroup===void 0?{}:_ref$instanceGroup,_onSubmit=_ref.onSubmit,onCancel=_ref.onCancel,submitError=_ref.submitError,rest=_objectWithoutProperties(_ref,_excluded);var initialValues={name:instanceGroup.name||'',policy_instance_minimum:instanceGroup.policy_instance_minimum||0,policy_instance_percentage:instanceGroup.policy_instance_percentage||0,max_concurrent_jobs:instanceGroup.max_concurrent_jobs||0,max_forks:instanceGroup.max_forks||0};return/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,onSubmit:function onSubmit(values){return _onSubmit(values);},children:function children(formik){return/*#__PURE__*/_jsx(Form,{autoComplete:\"off\",onSubmit:formik.handleSubmit,children:/*#__PURE__*/_jsxs(FormColumnLayout,{children:[/*#__PURE__*/_jsx(InstanceGroupFormFields,_objectSpread({},rest)),submitError&&/*#__PURE__*/_jsx(FormSubmitError,{error:submitError}),/*#__PURE__*/_jsx(FormActionGroup,{onCancel:onCancel,onSubmit:formik.handleSubmit})]})});}});}InstanceGroupForm.defaultProps={instanceGroup:{},submitError:null};export default InstanceGroupForm;","map":{"version":3,"names":["React","Formik","Form","FormField","FormSubmitError","FormActionGroup","required","minMaxValue","FormColumnLayout","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","InstanceGroupFormFields","children","name","id","label","i18n","_","type","validate","isRequired","min","tooltip","max","InstanceGroupForm","_ref","_ref$instanceGroup","instanceGroup","onSubmit","onCancel","submitError","rest","_objectWithoutProperties","_excluded","initialValues","policy_instance_minimum","policy_instance_percentage","max_concurrent_jobs","max_forks","values","formik","autoComplete","handleSubmit","_objectSpread","error","defaultProps"],"sources":["/awx_devel/awx/ui/src/screens/InstanceGroup/shared/InstanceGroupForm.js"],"sourcesContent":["import React from 'react';\nimport { func, shape } from 'prop-types';\nimport { Formik } from 'formik';\n\nimport { t } from '@lingui/macro';\nimport { Form } from '@patternfly/react-core';\n\nimport FormField, { FormSubmitError } from 'components/FormField';\nimport FormActionGroup from 'components/FormActionGroup';\nimport { required, minMaxValue } from 'util/validators';\nimport { FormColumnLayout } from 'components/FormLayout';\n\nfunction InstanceGroupFormFields() {\n  return (\n    <>\n      <FormField\n        name=\"name\"\n        id=\"instance-group-name\"\n        label={t`Name`}\n        type=\"text\"\n        validate={required(null)}\n        isRequired\n      />\n      <FormField\n        id=\"instance-group-policy-instance-minimum\"\n        label={t`Policy instance minimum`}\n        name=\"policy_instance_minimum\"\n        type=\"number\"\n        min=\"0\"\n        validate={minMaxValue(0, 2147483647)}\n        tooltip={t`Minimum number of instances that will be automatically\n          assigned to this group when new instances come online.`}\n      />\n      <FormField\n        id=\"instance-group-policy-instance-percentage\"\n        label={t`Policy instance percentage`}\n        name=\"policy_instance_percentage\"\n        type=\"number\"\n        min=\"0\"\n        max=\"100\"\n        tooltip={t`Minimum percentage of all instances that will be automatically\n          assigned to this group when new instances come online.`}\n        validate={minMaxValue(0, 100)}\n      />\n      <FormField\n        id=\"instance-group-max-concurrent-jobs\"\n        label={t`Max concurrent jobs`}\n        name=\"max_concurrent_jobs\"\n        type=\"number\"\n        min=\"0\"\n        validate={minMaxValue(0, 2147483647)}\n        tooltip={t`Maximum number of jobs to run concurrently on this group.\n          Zero means no limit will be enforced.`}\n      />\n      <FormField\n        id=\"instance-group-max-forks\"\n        label={t`Max forks`}\n        name=\"max_forks\"\n        type=\"number\"\n        min=\"0\"\n        validate={minMaxValue(0, 2147483647)}\n        tooltip={t`Maximum number of forks to allow across all jobs running concurrently on this group.\n          Zero means no limit will be enforced.`}\n      />\n    </>\n  );\n}\n\nfunction InstanceGroupForm({\n  instanceGroup = {},\n  onSubmit,\n  onCancel,\n  submitError,\n  ...rest\n}) {\n  const initialValues = {\n    name: instanceGroup.name || '',\n    policy_instance_minimum: instanceGroup.policy_instance_minimum || 0,\n    policy_instance_percentage: instanceGroup.policy_instance_percentage || 0,\n    max_concurrent_jobs: instanceGroup.max_concurrent_jobs || 0,\n    max_forks: instanceGroup.max_forks || 0,\n  };\n  return (\n    <Formik\n      initialValues={initialValues}\n      onSubmit={(values) => onSubmit(values)}\n    >\n      {(formik) => (\n        <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n          <FormColumnLayout>\n            <InstanceGroupFormFields {...rest} />\n            {submitError && <FormSubmitError error={submitError} />}\n            <FormActionGroup\n              onCancel={onCancel}\n              onSubmit={formik.handleSubmit}\n            />\n          </FormColumnLayout>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nInstanceGroupForm.propTypes = {\n  instanceGroup: shape({}),\n  onCancel: func.isRequired,\n  onSubmit: func.isRequired,\n  submitError: shape({}),\n};\n\nInstanceGroupForm.defaultProps = {\n  instanceGroup: {},\n  submitError: null,\n};\n\nexport default InstanceGroupForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}