{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import{i18n}from\"@lingui/core\";import React,{useContext,useEffect,useState}from'react';import styled from'styled-components';import{Alert,Badge,Button,DropdownItem,Tooltip}from'@patternfly/react-core';import{KebabifiedContext}from'contexts/Kebabified';import{getRelatedResourceDeleteCounts}from'util/getRelatedResourceDeleteDetails';import AlertModal from'../AlertModal';import ErrorDetail from'../ErrorDetail';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WarningMessage=styled(Alert)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  margin-top: 10px;\\n\"])));var Label=styled.span(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  && {\\n    margin-right: 10px;\\n  }\\n\"])));function ToolbarDeleteButton(_ref){var _itemsToDelete$2;var itemsToDelete=_ref.itemsToDelete,pluralizedItemName=_ref.pluralizedItemName,errorMessage=_ref.errorMessage,onDelete=_ref.onDelete,deleteDetailsRequests=_ref.deleteDetailsRequests,warningMessage=_ref.warningMessage,deleteMessage=_ref.deleteMessage,cannotDelete=_ref.cannotDelete;var _useContext=useContext(KebabifiedContext),isKebabified=_useContext.isKebabified,onKebabModalChange=_useContext.onKebabModalChange;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isModalOpen=_useState2[0],setIsModalOpen=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),deleteDetails=_useState4[0],setDeleteDetails=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),deleteMessageError=_useState8[0],setDeleteMessageError=_useState8[1];var handleDelete=function handleDelete(){onDelete();toggleModal();};var toggleModal=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(isOpen){var _yield$getRelatedReso,results,error;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);setDeleteDetails(null);if(!(isOpen&&itemsToDelete.length===1&&(deleteDetailsRequests===null||deleteDetailsRequests===void 0?void 0:deleteDetailsRequests.length)>0)){_context.next=9;break;}_context.next=5;return getRelatedResourceDeleteCounts(deleteDetailsRequests);case 5:_yield$getRelatedReso=_context.sent;results=_yield$getRelatedReso.results;error=_yield$getRelatedReso.error;if(error){setDeleteMessageError(error);}else{setDeleteDetails(results);}case 9:setIsLoading(false);setIsModalOpen(isOpen);case 11:case\"end\":return _context.stop();}}},_callee);}));return function toggleModal(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){if(isKebabified){onKebabModalChange(isModalOpen);}},[isKebabified,isModalOpen,onKebabModalChange]);var renderTooltip=function renderTooltip(){var itemsUnableToDelete=itemsToDelete.filter(cannotDelete).map(function(item){return item.name||item.username;}).join(', ');if(itemsToDelete.some(cannotDelete)){return/*#__PURE__*/_jsx(\"div\",{children:errorMessage?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{children:errorMessage}),/*#__PURE__*/_jsx(\"span\",{children:\": \".concat(itemsUnableToDelete)})]}):/*i18n*/i18n._(\"You do not have permission to delete {pluralizedItemName}: {itemsUnableToDelete}\",{pluralizedItemName:pluralizedItemName,itemsUnableToDelete:itemsUnableToDelete})});}if(itemsToDelete.length){return(/*i18n*/i18n._(\"Delete\"));}return(/*i18n*/i18n._(\"Select a row to delete\"));};var modalTitle=/*i18n*/i18n._(\"Delete {pluralizedItemName}?\",{pluralizedItemName:pluralizedItemName});var isDisabled=itemsToDelete.length===0||itemsToDelete.some(cannotDelete);var buildDeleteWarning=function buildDeleteWarning(){var deleteMessages=[];if(warningMessage){deleteMessages.push(warningMessage);}if(deleteMessage){var _itemsToDelete$;if(((_itemsToDelete$=itemsToDelete[0])===null||_itemsToDelete$===void 0?void 0:_itemsToDelete$.type)!=='inventory'&&(itemsToDelete.length>1||deleteDetails)){deleteMessages.push(deleteMessage);}else if(deleteDetails||itemsToDelete.length>1){deleteMessages.push(deleteMessage);}}return/*#__PURE__*/_jsxs(\"div\",{children:[deleteMessages.map(function(message){return/*#__PURE__*/_jsx(\"div\",{\"aria-label\":message,children:message},message);}),deleteDetails&&Object.entries(deleteDetails).map(function(_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];return/*#__PURE__*/_jsxs(\"div\",{\"aria-label\":\"\".concat(key,\": \").concat(value),children:[/*#__PURE__*/_jsx(Label,{children:key}),/*#__PURE__*/_jsx(Badge,{children:value})]},key);})]});};if(deleteMessageError){return/*#__PURE__*/_jsx(AlertModal,{isOpen:deleteMessageError,title:/*i18n*/i18n._(\"Error!\"),onClose:function onClose(){toggleModal(false);setDeleteMessageError();},children:/*#__PURE__*/_jsx(ErrorDetail,{error:deleteMessageError})});}var shouldShowDeleteWarning=warningMessage||itemsToDelete.length===1&&deleteDetails||itemsToDelete.length>1&&deleteMessage;return/*#__PURE__*/_jsxs(_Fragment,{children:[isKebabified?/*#__PURE__*/_jsx(Tooltip,{content:renderTooltip(),position:\"top\",children:/*#__PURE__*/_jsx(DropdownItem,{isDisabled:isDisabled,isLoading:isLoading,ouiaId:\"delete-button\",spinnerAriaValueText:isLoading?'Loading':undefined,component:\"button\",onClick:function onClick(){toggleModal(true);},children:/*i18n*/i18n._(\"Delete\")},\"add\")}):/*#__PURE__*/_jsx(Tooltip,{content:renderTooltip(),position:\"top\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",isLoading:isLoading,ouiaId:\"delete-button\",spinnerAriaValueText:isLoading?'Loading':undefined,\"aria-label\":/*i18n*/i18n._(\"Delete\"),onClick:function onClick(){return toggleModal(true);},isDisabled:isDisabled,children:/*i18n*/i18n._(\"Delete\")})})}),isModalOpen&&/*#__PURE__*/_jsxs(AlertModal,{variant:\"danger\",title:modalTitle,isOpen:isModalOpen,onClose:function onClose(){return toggleModal(false);},actions:[/*#__PURE__*/_jsx(Button,{ouiaId:\"delete-modal-confirm\",variant:\"danger\",\"aria-label\":/*i18n*/i18n._(\"confirm delete\"),isDisabled:Boolean(deleteDetails&&((_itemsToDelete$2=itemsToDelete[0])===null||_itemsToDelete$2===void 0?void 0:_itemsToDelete$2.type)==='credential_type'),onClick:handleDelete,children:/*i18n*/i18n._(\"Delete\")},\"delete\"),/*#__PURE__*/_jsx(Button,{ouiaId:\"delete-cancel\",variant:\"link\",\"aria-label\":/*i18n*/i18n._(\"cancel delete\"),onClick:function onClick(){return toggleModal(false);},children:/*i18n*/i18n._(\"Cancel\")},\"cancel\")],children:[/*#__PURE__*/_jsx(\"div\",{children:/*i18n*/i18n._(\"This action will delete the following:\")}),itemsToDelete.map(function(item){return/*#__PURE__*/_jsxs(\"span\",{id:\"item-to-be-deleted-\".concat(item.id),children:[/*#__PURE__*/_jsx(\"strong\",{children:item.name||item.username||item.image}),/*#__PURE__*/_jsx(\"br\",{})]},item.id);}),shouldShowDeleteWarning&&/*#__PURE__*/_jsx(WarningMessage,{variant:\"warning\",isInline:true,title:buildDeleteWarning()})]})]});}ToolbarDeleteButton.defaultProps={pluralizedItemName:'Items',warningMessage:null,cannotDelete:function cannotDelete(item){return!item.summary_fields.user_capabilities.delete;}};export default ToolbarDeleteButton;","map":{"version":3,"names":["React","useContext","useEffect","useState","styled","Alert","Badge","Button","DropdownItem","Tooltip","KebabifiedContext","getRelatedResourceDeleteCounts","AlertModal","ErrorDetail","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","WarningMessage","_templateObject","_taggedTemplateLiteral","Label","span","_templateObject2","ToolbarDeleteButton","_ref","_itemsToDelete$2","itemsToDelete","pluralizedItemName","errorMessage","onDelete","deleteDetailsRequests","warningMessage","deleteMessage","cannotDelete","_useContext","isKebabified","onKebabModalChange","_useState","_useState2","_slicedToArray","isModalOpen","setIsModalOpen","_useState3","_useState4","deleteDetails","setDeleteDetails","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","deleteMessageError","setDeleteMessageError","handleDelete","toggleModal","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","isOpen","_yield$getRelatedReso","results","error","wrap","_callee$","_context","prev","next","length","sent","stop","_x","apply","arguments","renderTooltip","itemsUnableToDelete","filter","map","item","name","username","join","some","children","concat","i18n","_","modalTitle","isDisabled","buildDeleteWarning","deleteMessages","push","_itemsToDelete$","type","message","Object","entries","_ref3","_ref4","key","value","title","onClose","shouldShowDeleteWarning","content","position","ouiaId","spinnerAriaValueText","undefined","component","onClick","variant","actions","Boolean","id","image","isInline","defaultProps","summary_fields","user_capabilities","delete"],"sources":["/awx_devel/awx/ui/src/components/PaginatedTable/ToolbarDeleteButton.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport {\n  func,\n  bool,\n  node,\n  number,\n  string,\n  arrayOf,\n  shape,\n  checkPropTypes,\n} from 'prop-types';\nimport styled from 'styled-components';\nimport {\n  Alert,\n  Badge,\n  Button,\n  DropdownItem,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { t } from '@lingui/macro';\nimport { KebabifiedContext } from 'contexts/Kebabified';\nimport { getRelatedResourceDeleteCounts } from 'util/getRelatedResourceDeleteDetails';\nimport AlertModal from '../AlertModal';\n\nimport ErrorDetail from '../ErrorDetail';\n\nconst WarningMessage = styled(Alert)`\n  margin-top: 10px;\n`;\n\nconst Label = styled.span`\n  && {\n    margin-right: 10px;\n  }\n`;\n\nconst requiredField = (props) => {\n  const { name, username, image } = props;\n  if (!name && !username && !image) {\n    return new Error(\n      `One of 'name', 'username' or 'image' is required by ItemToDelete component.`\n    );\n  }\n  if (name) {\n    checkPropTypes(\n      {\n        name: string,\n      },\n      { name: props.name },\n      'prop',\n      'ItemToDelete'\n    );\n  }\n  if (username) {\n    checkPropTypes(\n      {\n        username: string,\n      },\n      { username: props.username },\n      'prop',\n      'ItemToDelete'\n    );\n  }\n  if (image) {\n    checkPropTypes(\n      {\n        image: string,\n      },\n      { image: props.image },\n      'prop',\n      'ItemToDelete'\n    );\n  }\n  return null;\n};\n\nconst ItemToDelete = shape({\n  id: number.isRequired,\n  name: requiredField,\n  username: requiredField,\n  image: requiredField,\n  summary_fields: shape({\n    user_capabilities: shape({\n      delete: bool.isRequired,\n    }).isRequired,\n  }).isRequired,\n});\n\nfunction ToolbarDeleteButton({\n  itemsToDelete,\n  pluralizedItemName,\n  errorMessage,\n  onDelete,\n  deleteDetailsRequests,\n  warningMessage,\n  deleteMessage,\n  cannotDelete,\n}) {\n  const { isKebabified, onKebabModalChange } = useContext(KebabifiedContext);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [deleteDetails, setDeleteDetails] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [deleteMessageError, setDeleteMessageError] = useState();\n  const handleDelete = () => {\n    onDelete();\n    toggleModal();\n  };\n\n  const toggleModal = async (isOpen) => {\n    setIsLoading(true);\n    setDeleteDetails(null);\n    if (\n      isOpen &&\n      itemsToDelete.length === 1 &&\n      deleteDetailsRequests?.length > 0\n    ) {\n      const { results, error } = await getRelatedResourceDeleteCounts(\n        deleteDetailsRequests\n      );\n\n      if (error) {\n        setDeleteMessageError(error);\n      } else {\n        setDeleteDetails(results);\n      }\n    }\n    setIsLoading(false);\n    setIsModalOpen(isOpen);\n  };\n\n  useEffect(() => {\n    if (isKebabified) {\n      onKebabModalChange(isModalOpen);\n    }\n  }, [isKebabified, isModalOpen, onKebabModalChange]);\n\n  const renderTooltip = () => {\n    const itemsUnableToDelete = itemsToDelete\n      .filter(cannotDelete)\n      .map((item) => item.name || item.username)\n      .join(', ');\n    if (itemsToDelete.some(cannotDelete)) {\n      return (\n        <div>\n          {errorMessage ? (\n            <>\n              <span>{errorMessage}</span>\n              <span>{`: ${itemsUnableToDelete}`}</span>\n            </>\n          ) : (\n            t`You do not have permission to delete ${pluralizedItemName}: ${itemsUnableToDelete}`\n          )}\n        </div>\n      );\n    }\n    if (itemsToDelete.length) {\n      return t`Delete`;\n    }\n    return t`Select a row to delete`;\n  };\n\n  const modalTitle = t`Delete ${pluralizedItemName}?`;\n\n  const isDisabled =\n    itemsToDelete.length === 0 || itemsToDelete.some(cannotDelete);\n\n  const buildDeleteWarning = () => {\n    const deleteMessages = [];\n    if (warningMessage) {\n      deleteMessages.push(warningMessage);\n    }\n    if (deleteMessage) {\n      if (\n        itemsToDelete[0]?.type !== 'inventory' &&\n        (itemsToDelete.length > 1 || deleteDetails)\n      ) {\n        deleteMessages.push(deleteMessage);\n      } else if (deleteDetails || itemsToDelete.length > 1) {\n        deleteMessages.push(deleteMessage);\n      }\n    }\n    return (\n      <div>\n        {deleteMessages.map((message) => (\n          <div aria-label={message} key={message}>\n            {message}\n          </div>\n        ))}\n        {deleteDetails &&\n          Object.entries(deleteDetails).map(([key, value]) => (\n            <div key={key} aria-label={`${key}: ${value}`}>\n              <Label>{key}</Label>\n              <Badge>{value}</Badge>\n            </div>\n          ))}\n      </div>\n    );\n  };\n\n  if (deleteMessageError) {\n    return (\n      <AlertModal\n        isOpen={deleteMessageError}\n        title={t`Error!`}\n        onClose={() => {\n          toggleModal(false);\n          setDeleteMessageError();\n        }}\n      >\n        <ErrorDetail error={deleteMessageError} />\n      </AlertModal>\n    );\n  }\n  const shouldShowDeleteWarning =\n    warningMessage ||\n    (itemsToDelete.length === 1 && deleteDetails) ||\n    (itemsToDelete.length > 1 && deleteMessage);\n\n  return (\n    <>\n      {isKebabified ? (\n        <Tooltip content={renderTooltip()} position=\"top\">\n          <DropdownItem\n            key=\"add\"\n            isDisabled={isDisabled}\n            isLoading={isLoading}\n            ouiaId=\"delete-button\"\n            spinnerAriaValueText={isLoading ? 'Loading' : undefined}\n            component=\"button\"\n            onClick={() => {\n              toggleModal(true);\n            }}\n          >\n            {t`Delete`}\n          </DropdownItem>\n        </Tooltip>\n      ) : (\n        <Tooltip content={renderTooltip()} position=\"top\">\n          <div>\n            <Button\n              variant=\"secondary\"\n              isLoading={isLoading}\n              ouiaId=\"delete-button\"\n              spinnerAriaValueText={isLoading ? 'Loading' : undefined}\n              aria-label={t`Delete`}\n              onClick={() => toggleModal(true)}\n              isDisabled={isDisabled}\n            >\n              {t`Delete`}\n            </Button>\n          </div>\n        </Tooltip>\n      )}\n\n      {isModalOpen && (\n        <AlertModal\n          variant=\"danger\"\n          title={modalTitle}\n          isOpen={isModalOpen}\n          onClose={() => toggleModal(false)}\n          actions={[\n            <Button\n              ouiaId=\"delete-modal-confirm\"\n              key=\"delete\"\n              variant=\"danger\"\n              aria-label={t`confirm delete`}\n              isDisabled={Boolean(\n                deleteDetails && itemsToDelete[0]?.type === 'credential_type'\n              )}\n              onClick={handleDelete}\n            >\n              {t`Delete`}\n            </Button>,\n            <Button\n              ouiaId=\"delete-cancel\"\n              key=\"cancel\"\n              variant=\"link\"\n              aria-label={t`cancel delete`}\n              onClick={() => toggleModal(false)}\n            >\n              {t`Cancel`}\n            </Button>,\n          ]}\n        >\n          <div>{t`This action will delete the following:`}</div>\n          {itemsToDelete.map((item) => (\n            <span key={item.id} id={`item-to-be-deleted-${item.id}`}>\n              <strong>{item.name || item.username || item.image}</strong>\n              <br />\n            </span>\n          ))}\n          {shouldShowDeleteWarning && (\n            <WarningMessage\n              variant=\"warning\"\n              isInline\n              title={buildDeleteWarning()}\n            />\n          )}\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nToolbarDeleteButton.propTypes = {\n  onDelete: func.isRequired,\n  itemsToDelete: arrayOf(ItemToDelete).isRequired,\n  pluralizedItemName: string,\n  warningMessage: node,\n  cannotDelete: func,\n};\n\nToolbarDeleteButton.defaultProps = {\n  pluralizedItemName: 'Items',\n  warningMessage: null,\n  cannotDelete: (item) => !item.summary_fields.user_capabilities.delete,\n};\n\nexport default ToolbarDeleteButton;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}