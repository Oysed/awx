{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{useHistory,useParams}from'react-router-dom';import{GroupsAPI}from'api';import InventoryGroupForm from'../shared/InventoryGroupForm';import{jsx as _jsx}from\"react/jsx-runtime\";function InventoryRelatedGroupAdd(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var history=useHistory();var _useParams=useParams(),id=_useParams.id,groupId=_useParams.groupId;var associateInventoryGroup=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var _yield$GroupsAPI$crea,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:values.inventory=id;_context.prev=1;_context.next=4;return GroupsAPI.create(values);case 4:_yield$GroupsAPI$crea=_context.sent;data=_yield$GroupsAPI$crea.data;_context.next=8;return GroupsAPI.associateChildGroup(groupId,data.id);case 8:history.push(\"/inventories/inventory/\".concat(id,\"/groups/\").concat(data.id,\"/details\"),{prevGroupId:groupId});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);setError(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function associateInventoryGroup(_x){return _ref.apply(this,arguments);};}();var handleCancel=function handleCancel(){history.push(\"/inventories/inventory/\".concat(id,\"/groups/\").concat(groupId,\"/nested_groups\"));};return/*#__PURE__*/_jsx(InventoryGroupForm,{handleSubmit:associateInventoryGroup,handleCancel:handleCancel,error:error});}export default InventoryRelatedGroupAdd;","map":{"version":3,"names":["React","useState","useHistory","useParams","GroupsAPI","InventoryGroupForm","jsx","_jsx","InventoryRelatedGroupAdd","_useState","_useState2","_slicedToArray","error","setError","history","_useParams","id","groupId","associateInventoryGroup","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","_yield$GroupsAPI$crea","data","wrap","_callee$","_context","prev","next","inventory","create","sent","associateChildGroup","push","concat","prevGroupId","t0","stop","_x","apply","arguments","handleCancel","handleSubmit"],"sources":["/awx_devel/awx/ui/src/screens/Inventory/InventoryRelatedGroupAdd/InventoryRelatedGroupAdd.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { GroupsAPI } from 'api';\nimport InventoryGroupForm from '../shared/InventoryGroupForm';\n\nfunction InventoryRelatedGroupAdd() {\n  const [error, setError] = useState(null);\n  const history = useHistory();\n  const { id, groupId } = useParams();\n  const associateInventoryGroup = async (values) => {\n    values.inventory = id;\n    try {\n      const { data } = await GroupsAPI.create(values);\n      await GroupsAPI.associateChildGroup(groupId, data.id);\n      history.push(`/inventories/inventory/${id}/groups/${data.id}/details`, {\n        prevGroupId: groupId,\n      });\n    } catch (err) {\n      setError(err);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(\n      `/inventories/inventory/${id}/groups/${groupId}/nested_groups`\n    );\n  };\n  return (\n    <InventoryGroupForm\n      handleSubmit={associateInventoryGroup}\n      handleCancel={handleCancel}\n      error={error}\n    />\n  );\n}\n\nexport default InventoryRelatedGroupAdd;\n"],"mappings":"wTAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,UAAU,CAAEC,SAAS,KAAQ,kBAAkB,CACxD,OAASC,SAAS,KAAQ,KAAK,CAC/B,MAAO,CAAAC,kBAAkB,KAAM,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9D,QAAS,CAAAC,wBAAwBA,CAAA,CAAG,CAClC,IAAAC,SAAA,CAA0BR,QAAQ,CAAC,IAAI,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,GAAM,CAAAI,OAAO,CAAGZ,UAAU,CAAC,CAAC,CAC5B,IAAAa,UAAA,CAAwBZ,SAAS,CAAC,CAAC,CAA3Ba,EAAE,CAAAD,UAAA,CAAFC,EAAE,CAAEC,OAAO,CAAAF,UAAA,CAAPE,OAAO,CACnB,GAAM,CAAAC,uBAAuB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAOC,MAAM,MAAAC,qBAAA,CAAAC,IAAA,QAAAL,mBAAA,CAAAM,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC3CP,MAAM,CAACQ,SAAS,CAAGhB,EAAE,CAACa,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEG,CAAA3B,SAAS,CAAC6B,MAAM,CAACT,MAAM,CAAC,QAAAC,qBAAA,CAAAI,QAAA,CAAAK,IAAA,CAAvCR,IAAI,CAAAD,qBAAA,CAAJC,IAAI,CAAAG,QAAA,CAAAE,IAAA,SACN,CAAA3B,SAAS,CAAC+B,mBAAmB,CAAClB,OAAO,CAAES,IAAI,CAACV,EAAE,CAAC,QACrDF,OAAO,CAACsB,IAAI,2BAAAC,MAAA,CAA2BrB,EAAE,aAAAqB,MAAA,CAAWX,IAAI,CAACV,EAAE,aAAY,CACrEsB,WAAW,CAAErB,OACf,CAAC,CAAC,CAACY,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAU,EAAA,CAAAV,QAAA,aAEHhB,QAAQ,CAAAgB,QAAA,CAAAU,EAAI,CAAC,CAAC,yBAAAV,QAAA,CAAAW,IAAA,OAAAjB,OAAA,iBAEjB,kBAXK,CAAAL,uBAAuBA,CAAAuB,EAAA,SAAAtB,IAAA,CAAAuB,KAAA,MAAAC,SAAA,OAW5B,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzB9B,OAAO,CAACsB,IAAI,2BAAAC,MAAA,CACgBrB,EAAE,aAAAqB,MAAA,CAAWpB,OAAO,kBAChD,CAAC,CACH,CAAC,CACD,mBACEV,IAAA,CAACF,kBAAkB,EACjBwC,YAAY,CAAE3B,uBAAwB,CACtC0B,YAAY,CAAEA,YAAa,CAC3BhC,KAAK,CAAEA,KAAM,CACd,CAAC,CAEN,CAEA,cAAe,CAAAJ,wBAAwB"},"metadata":{},"sourceType":"module"}