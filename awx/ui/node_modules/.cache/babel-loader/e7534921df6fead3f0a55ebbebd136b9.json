{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import{Card,PageSection}from'@patternfly/react-core';import{InstancesAPI}from'api';import InstanceForm from'../Shared/InstanceForm';import{jsx as _jsx}from\"react/jsx-runtime\";function InstanceAdd(){var history=useHistory();var _useState=useState(),_useState2=_slicedToArray(_useState,2),formError=_useState2[0],setFormError=_useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var _yield$InstancesAPI$c,id;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(values.listener_port===undefined){values.listener_port=null;}_context.next=4;return InstancesAPI.create(values);case 4:_yield$InstancesAPI$c=_context.sent;id=_yield$InstancesAPI$c.data.id;history.push(\"/instances/\".concat(id,\"/details\"));_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);setFormError(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handleCancel=function handleCancel(){history.push('/instances');};return/*#__PURE__*/_jsx(PageSection,{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(InstanceForm,{submitError:formError,handleSubmit:handleSubmit,handleCancel:handleCancel})})});}export default InstanceAdd;","map":{"version":3,"names":["React","useState","useHistory","Card","PageSection","InstancesAPI","InstanceForm","jsx","_jsx","InstanceAdd","history","_useState","_useState2","_slicedToArray","formError","setFormError","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","_yield$InstancesAPI$c","id","wrap","_callee$","_context","prev","next","listener_port","undefined","create","sent","data","push","concat","t0","stop","_x","apply","arguments","handleCancel","children","submitError"],"sources":["/awx_devel/awx/ui/src/screens/Instances/InstanceAdd/InstanceAdd.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { InstancesAPI } from 'api';\nimport InstanceForm from '../Shared/InstanceForm';\n\nfunction InstanceAdd() {\n  const history = useHistory();\n  const [formError, setFormError] = useState();\n  const handleSubmit = async (values) => {\n    try {\n      if (values.listener_port === undefined) {\n        values.listener_port = null;\n      }\n\n      const {\n        data: { id },\n      } = await InstancesAPI.create(values);\n\n      history.push(`/instances/${id}/details`);\n    } catch (err) {\n      setFormError(err);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push('/instances');\n  };\n\n  return (\n    <PageSection>\n      <Card>\n        <InstanceForm\n          submitError={formError}\n          handleSubmit={handleSubmit}\n          handleCancel={handleCancel}\n        />\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default InstanceAdd;\n"],"mappings":"wTAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,OAASC,IAAI,CAAEC,WAAW,KAAQ,wBAAwB,CAC1D,OAASC,YAAY,KAAQ,KAAK,CAClC,MAAO,CAAAC,YAAY,KAAM,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElD,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,GAAM,CAAAC,OAAO,CAAGR,UAAU,CAAC,CAAC,CAC5B,IAAAS,SAAA,CAAkCV,QAAQ,CAAC,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,GAAM,CAAAI,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAOC,MAAM,MAAAC,qBAAA,CAAAC,EAAA,QAAAL,mBAAA,CAAAM,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAE9B,GAAIN,MAAM,CAACQ,aAAa,GAAKC,SAAS,CAAE,CACtCT,MAAM,CAACQ,aAAa,CAAG,IAAI,CAC7B,CAACH,QAAA,CAAAE,IAAA,SAIS,CAAAxB,YAAY,CAAC2B,MAAM,CAACV,MAAM,CAAC,QAAAC,qBAAA,CAAAI,QAAA,CAAAM,IAAA,CAD3BT,EAAE,CAAAD,qBAAA,CAAVW,IAAI,CAAIV,EAAE,CAGZd,OAAO,CAACyB,IAAI,eAAAC,MAAA,CAAeZ,EAAE,YAAU,CAAC,CAACG,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAU,EAAA,CAAAV,QAAA,aAEzCZ,YAAY,CAAAY,QAAA,CAAAU,EAAI,CAAC,CAAC,yBAAAV,QAAA,CAAAW,IAAA,OAAAjB,OAAA,gBAErB,kBAdK,CAAAL,YAAYA,CAAAuB,EAAA,SAAAtB,IAAA,CAAAuB,KAAA,MAAAC,SAAA,OAcjB,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzBhC,OAAO,CAACyB,IAAI,CAAC,YAAY,CAAC,CAC5B,CAAC,CAED,mBACE3B,IAAA,CAACJ,WAAW,EAAAuC,QAAA,cACVnC,IAAA,CAACL,IAAI,EAAAwC,QAAA,cACHnC,IAAA,CAACF,YAAY,EACXsC,WAAW,CAAE9B,SAAU,CACvBE,YAAY,CAAEA,YAAa,CAC3B0B,YAAY,CAAEA,YAAa,CAC5B,CAAC,CACE,CAAC,CACI,CAAC,CAElB,CAEA,cAAe,CAAAjC,WAAW"},"metadata":{},"sourceType":"module"}