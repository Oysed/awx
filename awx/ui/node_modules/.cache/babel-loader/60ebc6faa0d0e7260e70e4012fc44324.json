{"ast":null,"code":"import _toConsumableArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useCallback}from'react';export default function useExpanded(){var list=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),expanded=_useState2[0],setExpanded=_useState2[1];var isAllExpanded=expanded.length>0&&expanded.length===list.length;var handleExpand=function handleExpand(row){if(!row.id){throw new Error(\"Selected row does not have an id\");}if(expanded.some(function(s){return s.id===row.id;})){setExpanded(function(prevState){return _toConsumableArray(prevState.filter(function(i){return i.id!==row.id;}));});}else{setExpanded(function(prevState){return[].concat(_toConsumableArray(prevState),[row]);});}};var expandAll=useCallback(function(isExpanded){setExpanded(isExpanded?_toConsumableArray(list):[]);},[list]);return{expanded:expanded,isAllExpanded:isAllExpanded,handleExpand:handleExpand,setExpanded:setExpanded,expandAll:expandAll};}","map":{"version":3,"names":["useState","useCallback","useExpanded","list","arguments","length","undefined","_useState","_useState2","_slicedToArray","expanded","setExpanded","isAllExpanded","handleExpand","row","id","Error","some","s","prevState","_toConsumableArray","filter","i","concat","expandAll","isExpanded"],"sources":["/awx_devel/awx/ui/src/hooks/useExpanded.js"],"sourcesContent":["import { useState, useCallback } from 'react';\n\nexport default function useExpanded(list = []) {\n  const [expanded, setExpanded] = useState([]);\n  const isAllExpanded = expanded.length > 0 && expanded.length === list.length;\n\n  const handleExpand = (row) => {\n    if (!row.id) {\n      throw new Error(`Selected row does not have an id`);\n    }\n    if (expanded.some((s) => s.id === row.id)) {\n      setExpanded((prevState) => [...prevState.filter((i) => i.id !== row.id)]);\n    } else {\n      setExpanded((prevState) => [...prevState, row]);\n    }\n  };\n\n  const expandAll = useCallback(\n    (isExpanded) => {\n      setExpanded(isExpanded ? [...list] : []);\n    },\n    [list]\n  );\n\n  return {\n    expanded,\n    isAllExpanded,\n    handleExpand,\n    setExpanded,\n    expandAll,\n  };\n}\n"],"mappings":"sNAAA,OAASA,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CAE7C,cAAe,SAAS,CAAAC,WAAWA,CAAA,CAAY,IAAX,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CAC3C,IAAAG,SAAA,CAAgCP,QAAQ,CAAC,EAAE,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,GAAM,CAAAI,aAAa,CAAGF,QAAQ,CAACL,MAAM,CAAG,CAAC,EAAIK,QAAQ,CAACL,MAAM,GAAKF,IAAI,CAACE,MAAM,CAE5E,GAAM,CAAAQ,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,GAAG,CAAK,CAC5B,GAAI,CAACA,GAAG,CAACC,EAAE,CAAE,CACX,KAAM,IAAI,CAAAC,KAAK,mCAAmC,CAAC,CACrD,CACA,GAAIN,QAAQ,CAACO,IAAI,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,CAACH,EAAE,GAAKD,GAAG,CAACC,EAAE,GAAC,CAAE,CACzCJ,WAAW,CAAC,SAACQ,SAAS,SAAAC,kBAAA,CAASD,SAAS,CAACE,MAAM,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,CAACP,EAAE,GAAKD,GAAG,CAACC,EAAE,GAAC,GAAC,CAAC,CAC3E,CAAC,IAAM,CACLJ,WAAW,CAAC,SAACQ,SAAS,WAAAI,MAAA,CAAAH,kBAAA,CAASD,SAAS,GAAEL,GAAG,IAAC,CAAC,CACjD,CACF,CAAC,CAED,GAAM,CAAAU,SAAS,CAAGvB,WAAW,CAC3B,SAACwB,UAAU,CAAK,CACdd,WAAW,CAACc,UAAU,CAAAL,kBAAA,CAAOjB,IAAI,EAAI,EAAE,CAAC,CAC1C,CAAC,CACD,CAACA,IAAI,CACP,CAAC,CAED,MAAO,CACLO,QAAQ,CAARA,QAAQ,CACRE,aAAa,CAAbA,aAAa,CACbC,YAAY,CAAZA,YAAY,CACZF,WAAW,CAAXA,WAAW,CACXa,SAAS,CAATA,SACF,CAAC,CACH"},"metadata":{},"sourceType":"module"}