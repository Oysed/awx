{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import{CardBody}from'components/Card';import{ExecutionEnvironmentsAPI}from'api';import{Config}from'contexts/Config';import ExecutionEnvironmentForm from'../shared/ExecutionEnvironmentForm';import{jsx as _jsx}from\"react/jsx-runtime\";function ExecutionEnvironmentEdit(_ref){var executionEnvironment=_ref.executionEnvironment;var history=useHistory();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),submitError=_useState2[0],setSubmitError=_useState2[1];var detailsUrl=\"/execution_environments/\".concat(executionEnvironment.id,\"/details\");var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return ExecutionEnvironmentsAPI.update(executionEnvironment.id,_objectSpread(_objectSpread({},values),{},{credential:values.credential?values.credential.id:null,organization:values.organization?values.organization.id:null}));case 3:history.push(detailsUrl);_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);setSubmitError(_context.t0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handleCancel=function handleCancel(){history.push(detailsUrl);};return/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(Config,{children:function children(_ref3){var me=_ref3.me;return/*#__PURE__*/_jsx(ExecutionEnvironmentForm,{executionEnvironment:executionEnvironment,onSubmit:handleSubmit,submitError:submitError,onCancel:handleCancel,me:me||{},isOrgLookupDisabled:true});}})});}export default ExecutionEnvironmentEdit;","map":{"version":3,"names":["React","useState","useHistory","CardBody","ExecutionEnvironmentsAPI","Config","ExecutionEnvironmentForm","jsx","_jsx","ExecutionEnvironmentEdit","_ref","executionEnvironment","history","_useState","_useState2","_slicedToArray","submitError","setSubmitError","detailsUrl","concat","id","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","wrap","_callee$","_context","prev","next","update","_objectSpread","credential","organization","push","t0","stop","_x","apply","arguments","handleCancel","children","_ref3","me","onSubmit","onCancel","isOrgLookupDisabled"],"sources":["/awx_devel/awx/ui/src/screens/ExecutionEnvironment/ExecutionEnvironmentEdit/ExecutionEnvironmentEdit.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { CardBody } from 'components/Card';\nimport { ExecutionEnvironmentsAPI } from 'api';\nimport { Config } from 'contexts/Config';\nimport ExecutionEnvironmentForm from '../shared/ExecutionEnvironmentForm';\n\nfunction ExecutionEnvironmentEdit({ executionEnvironment }) {\n  const history = useHistory();\n  const [submitError, setSubmitError] = useState(null);\n  const detailsUrl = `/execution_environments/${executionEnvironment.id}/details`;\n\n  const handleSubmit = async (values) => {\n    try {\n      await ExecutionEnvironmentsAPI.update(executionEnvironment.id, {\n        ...values,\n        credential: values.credential ? values.credential.id : null,\n        organization: values.organization ? values.organization.id : null,\n      });\n      history.push(detailsUrl);\n    } catch (error) {\n      setSubmitError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(detailsUrl);\n  };\n  return (\n    <CardBody>\n      <Config>\n        {({ me }) => (\n          <ExecutionEnvironmentForm\n            executionEnvironment={executionEnvironment}\n            onSubmit={handleSubmit}\n            submitError={submitError}\n            onCancel={handleCancel}\n            me={me || {}}\n            isOrgLookupDisabled\n          />\n        )}\n      </Config>\n    </CardBody>\n  );\n}\n\nexport default ExecutionEnvironmentEdit;\n"],"mappings":"8ZAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,UAAU,KAAQ,kBAAkB,CAE7C,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,OAASC,wBAAwB,KAAQ,KAAK,CAC9C,OAASC,MAAM,KAAQ,iBAAiB,CACxC,MAAO,CAAAC,wBAAwB,KAAM,oCAAoC,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1E,QAAS,CAAAC,wBAAwBA,CAAAC,IAAA,CAA2B,IAAxB,CAAAC,oBAAoB,CAAAD,IAAA,CAApBC,oBAAoB,CACtD,GAAM,CAAAC,OAAO,CAAGV,UAAU,CAAC,CAAC,CAC5B,IAAAW,SAAA,CAAsCZ,QAAQ,CAAC,IAAI,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAClC,GAAM,CAAAI,UAAU,4BAAAC,MAAA,CAA8BR,oBAAoB,CAACS,EAAE,YAAU,CAE/E,GAAM,CAAAC,YAAY,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAOC,MAAM,SAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAExB,CAAA5B,wBAAwB,CAAC6B,MAAM,CAACtB,oBAAoB,CAACS,EAAE,CAAAc,aAAA,CAAAA,aAAA,IACxDP,MAAM,MACTQ,UAAU,CAAER,MAAM,CAACQ,UAAU,CAAGR,MAAM,CAACQ,UAAU,CAACf,EAAE,CAAG,IAAI,CAC3DgB,YAAY,CAAET,MAAM,CAACS,YAAY,CAAGT,MAAM,CAACS,YAAY,CAAChB,EAAE,CAAG,IAAI,EAClE,CAAC,QACFR,OAAO,CAACyB,IAAI,CAACnB,UAAU,CAAC,CAACY,QAAA,CAAAE,IAAA,gBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAQ,EAAA,CAAAR,QAAA,aAEzBb,cAAc,CAAAa,QAAA,CAAAQ,EAAM,CAAC,CAAC,wBAAAR,QAAA,CAAAS,IAAA,OAAAb,OAAA,gBAEzB,kBAXK,CAAAL,YAAYA,CAAAmB,EAAA,SAAAlB,KAAA,CAAAmB,KAAA,MAAAC,SAAA,OAWjB,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzB/B,OAAO,CAACyB,IAAI,CAACnB,UAAU,CAAC,CAC1B,CAAC,CACD,mBACEV,IAAA,CAACL,QAAQ,EAAAyC,QAAA,cACPpC,IAAA,CAACH,MAAM,EAAAuC,QAAA,CACJ,SAAAA,SAAAC,KAAA,KAAG,CAAAC,EAAE,CAAAD,KAAA,CAAFC,EAAE,oBACJtC,IAAA,CAACF,wBAAwB,EACvBK,oBAAoB,CAAEA,oBAAqB,CAC3CoC,QAAQ,CAAE1B,YAAa,CACvBL,WAAW,CAAEA,WAAY,CACzBgC,QAAQ,CAAEL,YAAa,CACvBG,EAAE,CAAEA,EAAE,EAAI,CAAC,CAAE,CACbG,mBAAmB,MACpB,CAAC,EACH,CACK,CAAC,CACD,CAAC,CAEf,CAEA,cAAe,CAAAxC,wBAAwB"},"metadata":{},"sourceType":"module"}