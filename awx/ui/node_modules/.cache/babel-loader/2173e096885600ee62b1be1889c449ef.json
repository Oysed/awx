{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{i18n}from\"@lingui/core\";import React from'react';import{Link,useParams}from'react-router-dom';import{Button,Tooltip}from'@patternfly/react-core';import{PencilAltIcon}from'@patternfly/react-icons';import{Td,Tr}from'@patternfly/react-table';import{ActionItem,ActionsTd}from'components/PaginatedTable';import HostToggle from'components/HostToggle';import Sparkline from'components/Sparkline';import{Host}from'types';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function InventoryGroupHostListItem(_ref){var _host$summary_fields$,_host$summary_fields$2;var detailUrl=_ref.detailUrl,editUrl=_ref.editUrl,host=_ref.host,rowIndex=_ref.rowIndex,isSelected=_ref.isSelected,onSelect=_ref.onSelect;var recentPlaybookJobs=host.summary_fields.recent_jobs.map(function(job){return _objectSpread(_objectSpread({},job),{},{type:'job'});});var _useParams=useParams(),inventoryType=_useParams.inventoryType;var labelId=\"check-action-\".concat(host.id);return/*#__PURE__*/_jsxs(Tr,{id:host.id,ouiaId:\"inventory-group-host-row-\".concat(host.id),\"aria-labelledby\":labelId,children:[/*#__PURE__*/_jsx(Td,{select:{rowIndex:rowIndex,isSelected:isSelected,onSelect:onSelect},dataLabel:/*i18n*/i18n._(\"Selected\")}),/*#__PURE__*/_jsx(Td,{dataLabel:/*i18n*/i18n._(\"host-name-{0}\",{0:host.id}),id:labelId,children:/*#__PURE__*/_jsx(Link,{to:\"\".concat(detailUrl),children:/*#__PURE__*/_jsx(\"b\",{children:host.name})})}),/*#__PURE__*/_jsx(Td,{dataLabel:/*i18n*/i18n._(\"host-description-{0}\",{0:host.id}),children:host.description}),/*#__PURE__*/_jsx(Td,{dataLabel:/*i18n*/i18n._(\"Activity\"),children:/*#__PURE__*/_jsx(Sparkline,{jobs:recentPlaybookJobs})}),/*#__PURE__*/_jsxs(ActionsTd,{dataLabel:/*i18n*/i18n._(\"Actions\"),gridColumns:\"auto 40px\",children:[/*#__PURE__*/_jsx(ActionItem,{visible:(_host$summary_fields$=host.summary_fields.user_capabilities)===null||_host$summary_fields$===void 0?void 0:_host$summary_fields$.edit,tooltip:/*i18n*/i18n._(\"Toggle host\"),children:/*#__PURE__*/_jsx(HostToggle,{host:host})}),inventoryType!=='constructed_inventory'&&/*#__PURE__*/_jsx(ActionItem,{tooltip:/*i18n*/i18n._(\"Edit Host\"),visible:(_host$summary_fields$2=host.summary_fields.user_capabilities)===null||_host$summary_fields$2===void 0?void 0:_host$summary_fields$2.edit,children:/*#__PURE__*/_jsx(Tooltip,{content:/*i18n*/i18n._(\"Edit Host\"),position:\"top\",children:/*#__PURE__*/_jsx(Button,{ouiaId:\"\".concat(host.id,\"-edit-button\"),\"aria-label\":/*i18n*/i18n._(\"Edit Host\"),variant:\"plain\",component:Link,to:\"\".concat(editUrl),children:/*#__PURE__*/_jsx(PencilAltIcon,{})})})})]})]});}export default InventoryGroupHostListItem;","map":{"version":3,"names":["React","Link","useParams","Button","Tooltip","PencilAltIcon","Td","Tr","ActionItem","ActionsTd","HostToggle","Sparkline","Host","jsx","_jsx","jsxs","_jsxs","InventoryGroupHostListItem","_ref","_host$summary_fields$","_host$summary_fields$2","detailUrl","editUrl","host","rowIndex","isSelected","onSelect","recentPlaybookJobs","summary_fields","recent_jobs","map","job","_objectSpread","type","_useParams","inventoryType","labelId","concat","id","ouiaId","children","select","dataLabel","i18n","_","0","to","name","description","jobs","gridColumns","visible","user_capabilities","edit","tooltip","content","position","variant","component"],"sources":["/awx_devel/awx/ui/src/screens/Inventory/InventoryGroupHosts/InventoryGroupHostListItem.js"],"sourcesContent":["import 'styled-components/macro';\nimport React from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { string, bool, func, number } from 'prop-types';\nimport { t } from '@lingui/macro';\nimport { Button, Tooltip } from '@patternfly/react-core';\nimport { PencilAltIcon } from '@patternfly/react-icons';\n\nimport { Td, Tr } from '@patternfly/react-table';\nimport { ActionItem, ActionsTd } from 'components/PaginatedTable';\nimport HostToggle from 'components/HostToggle';\nimport Sparkline from 'components/Sparkline';\nimport { Host } from 'types';\n\nfunction InventoryGroupHostListItem({\n  detailUrl,\n  editUrl,\n  host,\n  rowIndex,\n  isSelected,\n  onSelect,\n}) {\n  const recentPlaybookJobs = host.summary_fields.recent_jobs.map((job) => ({\n    ...job,\n    type: 'job',\n  }));\n  const { inventoryType } = useParams();\n  const labelId = `check-action-${host.id}`;\n\n  return (\n    <Tr\n      id={host.id}\n      ouiaId={`inventory-group-host-row-${host.id}`}\n      aria-labelledby={labelId}\n    >\n      <Td\n        select={{\n          rowIndex,\n          isSelected,\n          onSelect,\n        }}\n        dataLabel={t`Selected`}\n      />\n      <Td dataLabel={t`host-name-${host.id}`} id={labelId}>\n        <Link to={`${detailUrl}`}>\n          <b>{host.name}</b>\n        </Link>\n      </Td>\n      <Td dataLabel={t`host-description-${host.id}`}>{host.description}</Td>\n      <Td dataLabel={t`Activity`}>\n        <Sparkline jobs={recentPlaybookJobs} />\n      </Td>\n      <ActionsTd dataLabel={t`Actions`} gridColumns=\"auto 40px\">\n        <ActionItem\n          visible={host.summary_fields.user_capabilities?.edit}\n          tooltip={t`Toggle host`}\n        >\n          <HostToggle host={host} />\n        </ActionItem>\n        {inventoryType !== 'constructed_inventory' && (\n          <ActionItem\n            tooltip={t`Edit Host`}\n            visible={host.summary_fields.user_capabilities?.edit}\n          >\n            <Tooltip content={t`Edit Host`} position=\"top\">\n              <Button\n                ouiaId={`${host.id}-edit-button`}\n                aria-label={t`Edit Host`}\n                variant=\"plain\"\n                component={Link}\n                to={`${editUrl}`}\n              >\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          </ActionItem>\n        )}\n      </ActionsTd>\n    </Tr>\n  );\n}\n\nInventoryGroupHostListItem.propTypes = {\n  detailUrl: string.isRequired,\n  editUrl: string.isRequired,\n  rowIndex: number.isRequired,\n  host: Host.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default InventoryGroupHostListItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}