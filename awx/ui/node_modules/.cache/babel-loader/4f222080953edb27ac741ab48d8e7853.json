{"ast":null,"code":"import{useEffect}from'react';import{useLocation}from'react-router';import{PERSISTENT_FILTER_KEY}from'../../constants';export default function PersistentFilters(_ref){var pageKey=_ref.pageKey,children=_ref.children;var location=useLocation();useEffect(function(){var filter={pageKey:pageKey,qs:location.search};sessionStorage.setItem(PERSISTENT_FILTER_KEY,JSON.stringify(filter));},[location.search,pageKey]);return children;}export function getPersistentFilters(key){var filterString=sessionStorage.getItem(PERSISTENT_FILTER_KEY);var filter=filterString?JSON.parse(filterString):{qs:''};if(filter.pageKey===key){return filter.qs;}return'';}","map":{"version":3,"names":["useEffect","useLocation","PERSISTENT_FILTER_KEY","PersistentFilters","_ref","pageKey","children","location","filter","qs","search","sessionStorage","setItem","JSON","stringify","getPersistentFilters","key","filterString","getItem","parse"],"sources":["/awx_devel/awx/ui/src/components/PersistentFilters/PersistentFilters.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useLocation } from 'react-router';\nimport { PERSISTENT_FILTER_KEY } from '../../constants';\n\nexport default function PersistentFilters({ pageKey, children }) {\n  const location = useLocation();\n\n  useEffect(() => {\n    const filter = {\n      pageKey,\n      qs: location.search,\n    };\n    sessionStorage.setItem(PERSISTENT_FILTER_KEY, JSON.stringify(filter));\n  }, [location.search, pageKey]);\n\n  return children;\n}\n\nexport function getPersistentFilters(key) {\n  const filterString = sessionStorage.getItem(PERSISTENT_FILTER_KEY);\n  const filter = filterString ? JSON.parse(filterString) : { qs: '' };\n\n  if (filter.pageKey === key) {\n    return filter.qs;\n  }\n  return '';\n}\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,KAAQ,cAAc,CAC1C,OAASC,qBAAqB,KAAQ,iBAAiB,CAEvD,cAAe,SAAS,CAAAC,iBAAiBA,CAAAC,IAAA,CAAwB,IAArB,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAAEC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CAC3D,GAAM,CAAAC,QAAQ,CAAGN,WAAW,CAAC,CAAC,CAE9BD,SAAS,CAAC,UAAM,CACd,GAAM,CAAAQ,MAAM,CAAG,CACbH,OAAO,CAAPA,OAAO,CACPI,EAAE,CAAEF,QAAQ,CAACG,MACf,CAAC,CACDC,cAAc,CAACC,OAAO,CAACV,qBAAqB,CAAEW,IAAI,CAACC,SAAS,CAACN,MAAM,CAAC,CAAC,CACvE,CAAC,CAAE,CAACD,QAAQ,CAACG,MAAM,CAAEL,OAAO,CAAC,CAAC,CAE9B,MAAO,CAAAC,QAAQ,CACjB,CAEA,MAAO,SAAS,CAAAS,oBAAoBA,CAACC,GAAG,CAAE,CACxC,GAAM,CAAAC,YAAY,CAAGN,cAAc,CAACO,OAAO,CAAChB,qBAAqB,CAAC,CAClE,GAAM,CAAAM,MAAM,CAAGS,YAAY,CAAGJ,IAAI,CAACM,KAAK,CAACF,YAAY,CAAC,CAAG,CAAER,EAAE,CAAE,EAAG,CAAC,CAEnE,GAAID,MAAM,CAACH,OAAO,GAAKW,GAAG,CAAE,CAC1B,MAAO,CAAAR,MAAM,CAACC,EAAE,CAClB,CACA,MAAO,EAAE,CACX"},"metadata":{},"sourceType":"module"}