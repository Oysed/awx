{"ast":null,"code":"import{i18n}from\"@lingui/core\";import React from'react';import{Button}from'@patternfly/react-core';import{Tr,Td,ExpandableRowContent}from'@patternfly/react-table';import{Link}from'react-router-dom';import{PencilAltIcon}from'@patternfly/react-icons';import{ActionsTd,ActionItem,TdBreakWord}from'components/PaginatedTable';import{Host}from'types';import HostToggle from'components/HostToggle';import{DetailList,Detail}from'components/DetailList';import Sparkline from'components/Sparkline';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function HostListItem(_ref){var host=_ref.host,isSelected=_ref.isSelected,onSelect=_ref.onSelect,detailUrl=_ref.detailUrl,rowIndex=_ref.rowIndex,isExpanded=_ref.isExpanded,onExpand=_ref.onExpand;var labelId=\"check-action-\".concat(host.id);var _host$summary_fields$=host.summary_fields.recent_jobs,recentJobs=_host$summary_fields$===void 0?[]:_host$summary_fields$;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Tr,{id:\"host-row-\".concat(host.id),ouiaId:\"host-row-\".concat(host.id),children:[/*#__PURE__*/_jsx(Td,{expand:{rowIndex:rowIndex,isExpanded:isExpanded,onToggle:onExpand}}),/*#__PURE__*/_jsx(Td,{\"data-cy\":labelId,select:{rowIndex:rowIndex,isSelected:isSelected,onSelect:onSelect},dataLabel:/*i18n*/i18n._(\"Selected\")}),/*#__PURE__*/_jsx(TdBreakWord,{id:labelId,dataLabel:/*i18n*/i18n._(\"Name\"),children:/*#__PURE__*/_jsx(Link,{to:\"\".concat(detailUrl),children:/*#__PURE__*/_jsx(\"b\",{children:host.name})})}),/*#__PURE__*/_jsx(TdBreakWord,{id:\"host-description-\".concat(host.id,\"}\"),dataLabel:/*i18n*/i18n._(\"Description\"),children:host.description}),/*#__PURE__*/_jsx(TdBreakWord,{dataLabel:/*i18n*/i18n._(\"Inventory\"),children:host.summary_fields.inventory&&/*#__PURE__*/_jsx(Link,{to:\"/inventories/inventory/\".concat(host.summary_fields.inventory.id,\"/details\"),children:host.summary_fields.inventory.name})}),/*#__PURE__*/_jsxs(ActionsTd,{dataLabel:/*i18n*/i18n._(\"Actions\"),gridColumns:\"auto 40px\",children:[/*#__PURE__*/_jsx(HostToggle,{host:host}),/*#__PURE__*/_jsx(ActionItem,{visible:host.summary_fields.user_capabilities.edit,tooltip:/*i18n*/i18n._(\"Edit Host\"),children:/*#__PURE__*/_jsx(Button,{ouiaId:\"\".concat(host.id,\"-edit-button}\"),\"aria-label\":/*i18n*/i18n._(\"Edit Host\"),variant:\"plain\",component:Link,to:\"/hosts/\".concat(host.id,\"/edit\"),children:/*#__PURE__*/_jsx(PencilAltIcon,{})})})]})]}),/*#__PURE__*/_jsxs(Tr,{ouiaId:\"host-row-\".concat(host.id,\"-expanded\"),isExpanded:isExpanded,children:[/*#__PURE__*/_jsx(Td,{colSpan:2}),/*#__PURE__*/_jsx(Td,{colSpan:4,children:/*#__PURE__*/_jsx(ExpandableRowContent,{children:/*#__PURE__*/_jsx(DetailList,{gutter:\"sm\",children:/*#__PURE__*/_jsx(Detail,{dataCy:\"\".concat(host.name,\"-activity\"),label:/*i18n*/i18n._(\"Activity\"),value:recentJobs.length>0?/*#__PURE__*/_jsx(Sparkline,{jobs:recentJobs}):/*i18n*/i18n._(\"No job data available\")})})})})]})]});}export default HostListItem;","map":{"version":3,"names":["React","Button","Tr","Td","ExpandableRowContent","Link","PencilAltIcon","ActionsTd","ActionItem","TdBreakWord","Host","HostToggle","DetailList","Detail","Sparkline","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","HostListItem","_ref","host","isSelected","onSelect","detailUrl","rowIndex","isExpanded","onExpand","labelId","concat","id","_host$summary_fields$","summary_fields","recent_jobs","recentJobs","children","ouiaId","expand","onToggle","select","dataLabel","i18n","_","to","name","description","inventory","gridColumns","visible","user_capabilities","edit","tooltip","variant","component","colSpan","gutter","dataCy","label","value","length","jobs"],"sources":["/awx_devel/awx/ui/src/screens/Host/HostList/HostListItem.js"],"sourcesContent":["import 'styled-components/macro';\nimport React from 'react';\nimport { string, bool, func } from 'prop-types';\n\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { Tr, Td, ExpandableRowContent } from '@patternfly/react-table';\nimport { Link } from 'react-router-dom';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport { ActionsTd, ActionItem, TdBreakWord } from 'components/PaginatedTable';\nimport { Host } from 'types';\nimport HostToggle from 'components/HostToggle';\nimport { DetailList, Detail } from 'components/DetailList';\nimport Sparkline from 'components/Sparkline';\n\nfunction HostListItem({\n  host,\n  isSelected,\n  onSelect,\n  detailUrl,\n  rowIndex,\n  isExpanded,\n  onExpand,\n}) {\n  const labelId = `check-action-${host.id}`;\n\n  const {\n    summary_fields: { recent_jobs: recentJobs = [] },\n  } = host;\n\n  return (\n    <>\n      <Tr id={`host-row-${host.id}`} ouiaId={`host-row-${host.id}`}>\n        <Td\n          expand={{\n            rowIndex,\n            isExpanded,\n            onToggle: onExpand,\n          }}\n        />\n        <Td\n          data-cy={labelId}\n          select={{\n            rowIndex,\n            isSelected,\n            onSelect,\n          }}\n          dataLabel={t`Selected`}\n        />\n        <TdBreakWord id={labelId} dataLabel={t`Name`}>\n          <Link to={`${detailUrl}`}>\n            <b>{host.name}</b>\n          </Link>\n        </TdBreakWord>\n        <TdBreakWord\n          id={`host-description-${host.id}}`}\n          dataLabel={t`Description`}\n        >\n          {host.description}\n        </TdBreakWord>\n        <TdBreakWord dataLabel={t`Inventory`}>\n          {host.summary_fields.inventory && (\n            <Link\n              to={`/inventories/inventory/${host.summary_fields.inventory.id}/details`}\n            >\n              {host.summary_fields.inventory.name}\n            </Link>\n          )}\n        </TdBreakWord>\n        <ActionsTd dataLabel={t`Actions`} gridColumns=\"auto 40px\">\n          <HostToggle host={host} />\n          <ActionItem\n            visible={host.summary_fields.user_capabilities.edit}\n            tooltip={t`Edit Host`}\n          >\n            <Button\n              ouiaId={`${host.id}-edit-button}`}\n              aria-label={t`Edit Host`}\n              variant=\"plain\"\n              component={Link}\n              to={`/hosts/${host.id}/edit`}\n            >\n              <PencilAltIcon />\n            </Button>\n          </ActionItem>\n        </ActionsTd>\n      </Tr>\n      <Tr ouiaId={`host-row-${host.id}-expanded`} isExpanded={isExpanded}>\n        <Td colSpan={2} />\n        <Td colSpan={4}>\n          <ExpandableRowContent>\n            <DetailList gutter=\"sm\">\n              <Detail\n                dataCy={`${host.name}-activity`}\n                label={t`Activity`}\n                value={\n                  recentJobs.length > 0 ? (\n                    <Sparkline jobs={recentJobs} />\n                  ) : (\n                    t`No job data available`\n                  )\n                }\n              />\n            </DetailList>\n          </ExpandableRowContent>\n        </Td>\n      </Tr>\n    </>\n  );\n}\n\nHostListItem.propTypes = {\n  host: Host.isRequired,\n  detailUrl: string.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default HostListItem;\n"],"mappings":"+BACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAIzB,OAASC,MAAM,KAAQ,wBAAwB,CAC/C,OAASC,EAAE,CAAEC,EAAE,CAAEC,oBAAoB,KAAQ,yBAAyB,CACtE,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,aAAa,KAAQ,yBAAyB,CACvD,OAASC,SAAS,CAAEC,UAAU,CAAEC,WAAW,KAAQ,2BAA2B,CAC9E,OAASC,IAAI,KAAQ,OAAO,CAC5B,MAAO,CAAAC,UAAU,KAAM,uBAAuB,CAC9C,OAASC,UAAU,CAAEC,MAAM,KAAQ,uBAAuB,CAC1D,MAAO,CAAAC,SAAS,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE7C,QAAS,CAAAC,YAAYA,CAAAC,IAAA,CAQlB,IAPD,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CACJC,UAAU,CAAAF,IAAA,CAAVE,UAAU,CACVC,QAAQ,CAAAH,IAAA,CAARG,QAAQ,CACRC,SAAS,CAAAJ,IAAA,CAATI,SAAS,CACTC,QAAQ,CAAAL,IAAA,CAARK,QAAQ,CACRC,UAAU,CAAAN,IAAA,CAAVM,UAAU,CACVC,QAAQ,CAAAP,IAAA,CAARO,QAAQ,CAER,GAAM,CAAAC,OAAO,iBAAAC,MAAA,CAAmBR,IAAI,CAACS,EAAE,CAAE,CAEzC,IAAAC,qBAAA,CAEIV,IAAI,CADNW,cAAc,CAAIC,WAAW,CAAEC,UAAU,CAAAH,qBAAA,UAAG,EAAE,CAAAA,qBAAA,CAGhD,mBACEf,KAAA,CAAAE,SAAA,EAAAiB,QAAA,eACEnB,KAAA,CAAChB,EAAE,EAAC8B,EAAE,aAAAD,MAAA,CAAcR,IAAI,CAACS,EAAE,CAAG,CAACM,MAAM,aAAAP,MAAA,CAAcR,IAAI,CAACS,EAAE,CAAG,CAAAK,QAAA,eAC3DrB,IAAA,CAACb,EAAE,EACDoC,MAAM,CAAE,CACNZ,QAAQ,CAARA,QAAQ,CACRC,UAAU,CAAVA,UAAU,CACVY,QAAQ,CAAEX,QACZ,CAAE,CACH,CAAC,cACFb,IAAA,CAACb,EAAE,EACD,UAAS2B,OAAQ,CACjBW,MAAM,CAAE,CACNd,QAAQ,CAARA,QAAQ,CACRH,UAAU,CAAVA,UAAU,CACVC,QAAQ,CAARA,QACF,CAAE,CACFiB,SAAS,SAAEC,IAAA,CAAAC,CAAA,WAAU,CAAE,CACxB,CAAC,cACF5B,IAAA,CAACP,WAAW,EAACuB,EAAE,CAAEF,OAAQ,CAACY,SAAS,SAAEC,IAAA,CAAAC,CAAA,OAAM,CAAE,CAAAP,QAAA,cAC3CrB,IAAA,CAACX,IAAI,EAACwC,EAAE,IAAAd,MAAA,CAAKL,SAAS,CAAG,CAAAW,QAAA,cACvBrB,IAAA,MAAAqB,QAAA,CAAId,IAAI,CAACuB,IAAI,CAAI,CAAC,CACd,CAAC,CACI,CAAC,cACd9B,IAAA,CAACP,WAAW,EACVuB,EAAE,qBAAAD,MAAA,CAAsBR,IAAI,CAACS,EAAE,KAAI,CACnCU,SAAS,SAAEC,IAAA,CAAAC,CAAA,cAAa,CAAE,CAAAP,QAAA,CAEzBd,IAAI,CAACwB,WAAW,CACN,CAAC,cACd/B,IAAA,CAACP,WAAW,EAACiC,SAAS,SAAEC,IAAA,CAAAC,CAAA,YAAW,CAAE,CAAAP,QAAA,CAClCd,IAAI,CAACW,cAAc,CAACc,SAAS,eAC5BhC,IAAA,CAACX,IAAI,EACHwC,EAAE,2BAAAd,MAAA,CAA4BR,IAAI,CAACW,cAAc,CAACc,SAAS,CAAChB,EAAE,YAAW,CAAAK,QAAA,CAExEd,IAAI,CAACW,cAAc,CAACc,SAAS,CAACF,IAAI,CAC/B,CACP,CACU,CAAC,cACd5B,KAAA,CAACX,SAAS,EAACmC,SAAS,SAAEC,IAAA,CAAAC,CAAA,UAAS,CAAE,CAACK,WAAW,CAAC,WAAW,CAAAZ,QAAA,eACvDrB,IAAA,CAACL,UAAU,EAACY,IAAI,CAAEA,IAAK,CAAE,CAAC,cAC1BP,IAAA,CAACR,UAAU,EACT0C,OAAO,CAAE3B,IAAI,CAACW,cAAc,CAACiB,iBAAiB,CAACC,IAAK,CACpDC,OAAO,SAAEV,IAAA,CAAAC,CAAA,YAAW,CAAE,CAAAP,QAAA,cAEtBrB,IAAA,CAACf,MAAM,EACLqC,MAAM,IAAAP,MAAA,CAAKR,IAAI,CAACS,EAAE,iBAAgB,CAClC,qBAAYW,IAAA,CAAAC,CAAA,YAAW,CAAE,CACzBU,OAAO,CAAC,OAAO,CACfC,SAAS,CAAElD,IAAK,CAChBwC,EAAE,WAAAd,MAAA,CAAYR,IAAI,CAACS,EAAE,SAAQ,CAAAK,QAAA,cAE7BrB,IAAA,CAACV,aAAa,GAAE,CAAC,CACX,CAAC,CACC,CAAC,EACJ,CAAC,EACV,CAAC,cACLY,KAAA,CAAChB,EAAE,EAACoC,MAAM,aAAAP,MAAA,CAAcR,IAAI,CAACS,EAAE,aAAY,CAACJ,UAAU,CAAEA,UAAW,CAAAS,QAAA,eACjErB,IAAA,CAACb,EAAE,EAACqD,OAAO,CAAE,CAAE,CAAE,CAAC,cAClBxC,IAAA,CAACb,EAAE,EAACqD,OAAO,CAAE,CAAE,CAAAnB,QAAA,cACbrB,IAAA,CAACZ,oBAAoB,EAAAiC,QAAA,cACnBrB,IAAA,CAACJ,UAAU,EAAC6C,MAAM,CAAC,IAAI,CAAApB,QAAA,cACrBrB,IAAA,CAACH,MAAM,EACL6C,MAAM,IAAA3B,MAAA,CAAKR,IAAI,CAACuB,IAAI,aAAY,CAChCa,KAAK,SAAEhB,IAAA,CAAAC,CAAA,WAAU,CAAE,CACnBgB,KAAK,CACHxB,UAAU,CAACyB,MAAM,CAAG,CAAC,cACnB7C,IAAA,CAACF,SAAS,EAACgD,IAAI,CAAE1B,UAAW,CAAE,CAAC,SAE/BO,IAAA,CAAAC,CAAA,wBAAuB,CAE1B,CACF,CAAC,CACQ,CAAC,CACO,CAAC,CACrB,CAAC,EACH,CAAC,EACL,CAAC,CAEP,CASA,cAAe,CAAAvB,YAAY"},"metadata":{},"sourceType":"module"}