{"ast":null,"code":"import _defineProperty from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import{i18n}from\"@lingui/core\";import React,{useState,useCallback}from'react';import styled from'styled-components';import{Route,Switch}from'react-router-dom';import{Alert,ClipboardCopy,ClipboardCopyVariant,Modal}from'@patternfly/react-core';import ScreenHeader from'components/ScreenHeader';import{Detail,DetailList}from'components/DetailList';import PersistentFilters from'components/PersistentFilters';import ApplicationsList from'./ApplicationsList';import ApplicationAdd from'./ApplicationAdd';import Application from'./Application';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ApplicationAlert=styled(Alert)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  margin-bottom: 20px;\\n\"])));function Applications(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),applicationModalSource=_useState2[0],setApplicationModalSource=_useState2[1];var _useState3=useState({'/applications':/*i18n*/i18n._(\"Applications\"),'/applications/add':/*i18n*/i18n._(\"Create New Application\")}),_useState4=_slicedToArray(_useState3,2),breadcrumbConfig=_useState4[0],setBreadcrumbConfig=_useState4[1];var buildBreadcrumbConfig=useCallback(function(application){var _setBreadcrumbConfig;if(!application){return;}setBreadcrumbConfig((_setBreadcrumbConfig={'/applications':/*i18n*/i18n._(\"Applications\"),'/applications/add':/*i18n*/i18n._(\"Create New Application\")},_defineProperty(_setBreadcrumbConfig,\"/applications/\".concat(application.id),\"\".concat(application.name)),_defineProperty(_setBreadcrumbConfig,\"/applications/\".concat(application.id,\"/edit\"),/*i18n*/i18n._(\"Edit Details\")),_defineProperty(_setBreadcrumbConfig,\"/applications/\".concat(application.id,\"/details\"),/*i18n*/i18n._(\"Details\")),_defineProperty(_setBreadcrumbConfig,\"/applications/\".concat(application.id,\"/tokens\"),/*i18n*/i18n._(\"Tokens\")),_setBreadcrumbConfig));},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ScreenHeader,{streamType:\"o_auth2_application,o_auth2_access_token\",breadcrumbConfig:breadcrumbConfig}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/applications/add\",children:/*#__PURE__*/_jsx(ApplicationAdd,{onSuccessfulAdd:function onSuccessfulAdd(app){return setApplicationModalSource(app);}})}),/*#__PURE__*/_jsx(Route,{path:\"/applications/:id\",children:/*#__PURE__*/_jsx(Application,{setBreadcrumb:buildBreadcrumbConfig})}),/*#__PURE__*/_jsx(Route,{path:\"/applications\",children:/*#__PURE__*/_jsx(PersistentFilters,{pageKey:\"applications\",children:/*#__PURE__*/_jsx(ApplicationsList,{})})})]}),applicationModalSource&&/*#__PURE__*/_jsxs(Modal,{\"aria-label\":/*i18n*/i18n._(\"Application information\"),isOpen:true,variant:\"medium\",title:/*i18n*/i18n._(\"Application information\"),onClose:function onClose(){return setApplicationModalSource(null);},children:[applicationModalSource.client_secret&&/*#__PURE__*/_jsx(ApplicationAlert,{variant:\"info\",isInline:true,title:/*i18n*/i18n._(\"This is the only time the client secret will be shown.\")}),/*#__PURE__*/_jsxs(DetailList,{stacked:true,children:[/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Name\"),value:applicationModalSource.name}),applicationModalSource.client_id&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Client ID\"),value:/*#__PURE__*/_jsx(ClipboardCopy,{isReadOnly:true,variant:ClipboardCopyVariant.expansion,children:applicationModalSource.client_id})}),applicationModalSource.client_secret&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Client secret\"),value:/*#__PURE__*/_jsx(ClipboardCopy,{isReadOnly:true,variant:ClipboardCopyVariant.expansion,children:applicationModalSource.client_secret})})]})]})]});}export default Applications;","map":{"version":3,"names":["React","useState","useCallback","styled","Route","Switch","Alert","ClipboardCopy","ClipboardCopyVariant","Modal","ScreenHeader","Detail","DetailList","PersistentFilters","ApplicationsList","ApplicationAdd","Application","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ApplicationAlert","_templateObject","_taggedTemplateLiteral","Applications","_useState","_useState2","_slicedToArray","applicationModalSource","setApplicationModalSource","_useState3","i18n","_","_useState4","breadcrumbConfig","setBreadcrumbConfig","buildBreadcrumbConfig","application","_setBreadcrumbConfig","_defineProperty","concat","id","name","children","streamType","path","onSuccessfulAdd","app","setBreadcrumb","pageKey","isOpen","variant","title","onClose","client_secret","isInline","stacked","label","value","client_id","isReadOnly","expansion"],"sources":["/awx_devel/awx/ui/src/screens/Application/Applications.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\n\nimport { t } from '@lingui/macro';\nimport styled from 'styled-components';\nimport { Route, Switch } from 'react-router-dom';\nimport {\n  Alert,\n  ClipboardCopy,\n  ClipboardCopyVariant,\n  Modal,\n} from '@patternfly/react-core';\nimport ScreenHeader from 'components/ScreenHeader';\nimport { Detail, DetailList } from 'components/DetailList';\nimport PersistentFilters from 'components/PersistentFilters';\nimport ApplicationsList from './ApplicationsList';\nimport ApplicationAdd from './ApplicationAdd';\nimport Application from './Application';\n\nconst ApplicationAlert = styled(Alert)`\n  margin-bottom: 20px;\n`;\n\nfunction Applications() {\n  const [applicationModalSource, setApplicationModalSource] = useState(null);\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/applications': t`Applications`,\n    '/applications/add': t`Create New Application`,\n  });\n\n  const buildBreadcrumbConfig = useCallback((application) => {\n    if (!application) {\n      return;\n    }\n    setBreadcrumbConfig({\n      '/applications': t`Applications`,\n      '/applications/add': t`Create New Application`,\n      [`/applications/${application.id}`]: `${application.name}`,\n      [`/applications/${application.id}/edit`]: t`Edit Details`,\n      [`/applications/${application.id}/details`]: t`Details`,\n      [`/applications/${application.id}/tokens`]: t`Tokens`,\n    });\n  }, []);\n\n  return (\n    <>\n      <ScreenHeader\n        streamType=\"o_auth2_application,o_auth2_access_token\"\n        breadcrumbConfig={breadcrumbConfig}\n      />\n      <Switch>\n        <Route path=\"/applications/add\">\n          <ApplicationAdd\n            onSuccessfulAdd={(app) => setApplicationModalSource(app)}\n          />\n        </Route>\n        <Route path=\"/applications/:id\">\n          <Application setBreadcrumb={buildBreadcrumbConfig} />\n        </Route>\n        <Route path=\"/applications\">\n          <PersistentFilters pageKey=\"applications\">\n            <ApplicationsList />\n          </PersistentFilters>\n        </Route>\n      </Switch>\n      {applicationModalSource && (\n        <Modal\n          aria-label={t`Application information`}\n          isOpen\n          variant=\"medium\"\n          title={t`Application information`}\n          onClose={() => setApplicationModalSource(null)}\n        >\n          {applicationModalSource.client_secret && (\n            <ApplicationAlert\n              variant=\"info\"\n              isInline\n              title={t`This is the only time the client secret will be shown.`}\n            />\n          )}\n          <DetailList stacked>\n            <Detail label={t`Name`} value={applicationModalSource.name} />\n            {applicationModalSource.client_id && (\n              <Detail\n                label={t`Client ID`}\n                value={\n                  <ClipboardCopy\n                    isReadOnly\n                    variant={ClipboardCopyVariant.expansion}\n                  >\n                    {applicationModalSource.client_id}\n                  </ClipboardCopy>\n                }\n              />\n            )}\n            {applicationModalSource.client_secret && (\n              <Detail\n                label={t`Client secret`}\n                value={\n                  <ClipboardCopy\n                    isReadOnly\n                    variant={ClipboardCopyVariant.expansion}\n                  >\n                    {applicationModalSource.client_secret}\n                  </ClipboardCopy>\n                }\n              />\n            )}\n          </DetailList>\n        </Modal>\n      )}\n    </>\n  );\n}\n\nexport default Applications;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}