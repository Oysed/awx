{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import{useHistory}from'react-router-dom';import{CardBody}from'components/Card';import{TeamsAPI}from'api';import{Config}from'contexts/Config';import TeamForm from'../shared/TeamForm';import{jsx as _jsx}from\"react/jsx-runtime\";function TeamEdit(_ref){var team=_ref.team;var history=useHistory();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){var valuesToSend;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;valuesToSend=_objectSpread({},values);if(valuesToSend.organization){valuesToSend.organization=valuesToSend.organization.id;}_context.next=5;return TeamsAPI.update(team.id,valuesToSend);case 5:history.push(\"/teams/\".concat(team.id,\"/details\"));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setError(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();var handleCancel=function handleCancel(){history.push(\"/teams/\".concat(team.id,\"/details\"));};return/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsx(Config,{children:function children(_ref3){var me=_ref3.me;return/*#__PURE__*/_jsx(TeamForm,{team:team,handleSubmit:handleSubmit,handleCancel:handleCancel,me:me||{},submitError:error});}})});}export default TeamEdit;","map":{"version":3,"names":["React","useState","useHistory","CardBody","TeamsAPI","Config","TeamForm","jsx","_jsx","TeamEdit","_ref","team","history","_useState","_useState2","_slicedToArray","error","setError","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","valuesToSend","wrap","_callee$","_context","prev","next","_objectSpread","organization","id","update","push","concat","t0","stop","_x","apply","arguments","handleCancel","children","_ref3","me","submitError"],"sources":["/awx_devel/awx/ui/src/screens/Team/TeamEdit/TeamEdit.js"],"sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport { CardBody } from 'components/Card';\n\nimport { TeamsAPI } from 'api';\nimport { Config } from 'contexts/Config';\n\nimport TeamForm from '../shared/TeamForm';\n\nfunction TeamEdit({ team }) {\n  const history = useHistory();\n  const [error, setError] = useState(null);\n\n  const handleSubmit = async (values) => {\n    try {\n      const valuesToSend = { ...values };\n      if (valuesToSend.organization) {\n        valuesToSend.organization = valuesToSend.organization.id;\n      }\n      await TeamsAPI.update(team.id, valuesToSend);\n      history.push(`/teams/${team.id}/details`);\n    } catch (err) {\n      setError(err);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/teams/${team.id}/details`);\n  };\n\n  return (\n    <CardBody>\n      <Config>\n        {({ me }) => (\n          <TeamForm\n            team={team}\n            handleSubmit={handleSubmit}\n            handleCancel={handleCancel}\n            me={me || {}}\n            submitError={error}\n          />\n        )}\n      </Config>\n    </CardBody>\n  );\n}\n\nTeamEdit.propTypes = {\n  team: PropTypes.shape().isRequired,\n};\n\nexport default TeamEdit;\n"],"mappings":"8ZAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAEvC,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,OAASC,QAAQ,KAAQ,iBAAiB,CAE1C,OAASC,QAAQ,KAAQ,KAAK,CAC9B,OAASC,MAAM,KAAQ,iBAAiB,CAExC,MAAO,CAAAC,QAAQ,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1C,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAW,IAAR,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CACtB,GAAM,CAAAC,OAAO,CAAGV,UAAU,CAAC,CAAC,CAC5B,IAAAW,SAAA,CAA0BZ,QAAQ,CAAC,IAAI,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAEtB,GAAM,CAAAI,YAAY,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAOC,MAAM,MAAAC,YAAA,QAAAJ,mBAAA,CAAAK,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAExBJ,YAAY,CAAAM,aAAA,IAAQP,MAAM,EAChC,GAAIC,YAAY,CAACO,YAAY,CAAE,CAC7BP,YAAY,CAACO,YAAY,CAAGP,YAAY,CAACO,YAAY,CAACC,EAAE,CAC1D,CAACL,QAAA,CAAAE,IAAA,SACK,CAAA1B,QAAQ,CAAC8B,MAAM,CAACvB,IAAI,CAACsB,EAAE,CAAER,YAAY,CAAC,QAC5Cb,OAAO,CAACuB,IAAI,WAAAC,MAAA,CAAWzB,IAAI,CAACsB,EAAE,YAAU,CAAC,CAACL,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAS,EAAA,CAAAT,QAAA,aAE1CX,QAAQ,CAAAW,QAAA,CAAAS,EAAI,CAAC,CAAC,yBAAAT,QAAA,CAAAU,IAAA,OAAAf,OAAA,gBAEjB,kBAXK,CAAAL,YAAYA,CAAAqB,EAAA,SAAApB,KAAA,CAAAqB,KAAA,MAAAC,SAAA,OAWjB,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzB9B,OAAO,CAACuB,IAAI,WAAAC,MAAA,CAAWzB,IAAI,CAACsB,EAAE,YAAU,CAAC,CAC3C,CAAC,CAED,mBACEzB,IAAA,CAACL,QAAQ,EAAAwC,QAAA,cACPnC,IAAA,CAACH,MAAM,EAAAsC,QAAA,CACJ,SAAAA,SAAAC,KAAA,KAAG,CAAAC,EAAE,CAAAD,KAAA,CAAFC,EAAE,oBACJrC,IAAA,CAACF,QAAQ,EACPK,IAAI,CAAEA,IAAK,CACXO,YAAY,CAAEA,YAAa,CAC3BwB,YAAY,CAAEA,YAAa,CAC3BG,EAAE,CAAEA,EAAE,EAAI,CAAC,CAAE,CACbC,WAAW,CAAE9B,KAAM,CACpB,CAAC,EACH,CACK,CAAC,CACD,CAAC,CAEf,CAMA,cAAe,CAAAP,QAAQ"},"metadata":{},"sourceType":"module"}