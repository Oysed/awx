{"ast":null,"code":"import{i18n}from\"@lingui/core\";import React from'react';import{Button,DropdownItem,Tooltip}from'@patternfly/react-core';import{useKebabifiedMenu}from'contexts/Kebabified';import{jsx as _jsx}from\"react/jsx-runtime\";function SmartInventoryButton(_ref){var onClick=_ref.onClick,isDisabled=_ref.isDisabled,hasInvalidKeys=_ref.hasInvalidKeys,hasAnsibleFactsKeys=_ref.hasAnsibleFactsKeys;var _useKebabifiedMenu=useKebabifiedMenu(),isKebabified=_useKebabifiedMenu.isKebabified;var renderTooltipContent=function renderTooltipContent(){if(hasInvalidKeys){return(/*i18n*/i18n._(\"Some search modifiers like not__ and __search are not supported in Smart Inventory host filters.  Remove these to create a new Smart Inventory with this filter.\"));}if(hasAnsibleFactsKeys){return(/*i18n*/i18n._(\"To create a smart inventory using ansible facts, go to the smart inventory screen.\"));}if(isDisabled){return(/*i18n*/i18n._(\"Enter at least one search filter to create a new Smart Inventory\"));}return(/*i18n*/i18n._(\"Create a new Smart Inventory with the applied filter\"));};var renderContent=function renderContent(){if(isKebabified){return/*#__PURE__*/_jsx(DropdownItem,{isDisabled:isDisabled,component:\"button\",onClick:onClick,ouiaId:\"smart-inventory-dropdown-item\",children:/*i18n*/i18n._(\"Smart Inventory\")},\"add\");}return/*#__PURE__*/_jsx(Button,{ouiaId:\"smart-inventory-button\",onClick:onClick,\"aria-label\":/*i18n*/i18n._(\"Smart Inventory\"),variant:\"secondary\",isDisabled:isDisabled,children:/*i18n*/i18n._(\"Smart Inventory\")});};return/*#__PURE__*/_jsx(Tooltip,{content:renderTooltipContent(),position:\"top\",children:/*#__PURE__*/_jsx(\"div\",{children:renderContent()})},\"smartInventory\");}SmartInventoryButton.defaultProps={hasInvalidKeys:false,isDisabled:false,hasAnsibleFactsKeys:false};export default SmartInventoryButton;","map":{"version":3,"names":["React","Button","DropdownItem","Tooltip","useKebabifiedMenu","jsx","_jsx","SmartInventoryButton","_ref","onClick","isDisabled","hasInvalidKeys","hasAnsibleFactsKeys","_useKebabifiedMenu","isKebabified","renderTooltipContent","i18n","_","renderContent","component","ouiaId","children","variant","content","position","defaultProps"],"sources":["/awx_devel/awx/ui/src/screens/Host/HostList/SmartInventoryButton.js"],"sourcesContent":["import React from 'react';\nimport { bool, func } from 'prop-types';\nimport { Button, DropdownItem, Tooltip } from '@patternfly/react-core';\nimport { t } from '@lingui/macro';\nimport { useKebabifiedMenu } from 'contexts/Kebabified';\n\nfunction SmartInventoryButton({\n  onClick,\n  isDisabled,\n  hasInvalidKeys,\n  hasAnsibleFactsKeys,\n}) {\n  const { isKebabified } = useKebabifiedMenu();\n\n  const renderTooltipContent = () => {\n    if (hasInvalidKeys) {\n      return t`Some search modifiers like not__ and __search are not supported in Smart Inventory host filters.  Remove these to create a new Smart Inventory with this filter.`;\n    }\n    if (hasAnsibleFactsKeys) {\n      return t`To create a smart inventory using ansible facts, go to the smart inventory screen.`;\n    }\n    if (isDisabled) {\n      return t`Enter at least one search filter to create a new Smart Inventory`;\n    }\n\n    return t`Create a new Smart Inventory with the applied filter`;\n  };\n\n  const renderContent = () => {\n    if (isKebabified) {\n      return (\n        <DropdownItem\n          key=\"add\"\n          isDisabled={isDisabled}\n          component=\"button\"\n          onClick={onClick}\n          ouiaId=\"smart-inventory-dropdown-item\"\n        >\n          {t`Smart Inventory`}\n        </DropdownItem>\n      );\n    }\n\n    return (\n      <Button\n        ouiaId=\"smart-inventory-button\"\n        onClick={onClick}\n        aria-label={t`Smart Inventory`}\n        variant=\"secondary\"\n        isDisabled={isDisabled}\n      >\n        {t`Smart Inventory`}\n      </Button>\n    );\n  };\n\n  return (\n    <Tooltip\n      key=\"smartInventory\"\n      content={renderTooltipContent()}\n      position=\"top\"\n    >\n      <div>{renderContent()}</div>\n    </Tooltip>\n  );\n}\nSmartInventoryButton.propTypes = {\n  hasInvalidKeys: bool,\n  isDisabled: bool,\n  onClick: func.isRequired,\n  hasAnsibleFactsKeys: bool,\n};\n\nSmartInventoryButton.defaultProps = {\n  hasInvalidKeys: false,\n  isDisabled: false,\n  hasAnsibleFactsKeys: false,\n};\n\nexport default SmartInventoryButton;\n"],"mappings":"+BAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,OAASC,MAAM,CAAEC,YAAY,CAAEC,OAAO,KAAQ,wBAAwB,CAEtE,OAASC,iBAAiB,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAExD,QAAS,CAAAC,oBAAoBA,CAAAC,IAAA,CAK1B,IAJD,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CACPC,UAAU,CAAAF,IAAA,CAAVE,UAAU,CACVC,cAAc,CAAAH,IAAA,CAAdG,cAAc,CACdC,mBAAmB,CAAAJ,IAAA,CAAnBI,mBAAmB,CAEnB,IAAAC,kBAAA,CAAyBT,iBAAiB,CAAC,CAAC,CAApCU,YAAY,CAAAD,kBAAA,CAAZC,YAAY,CAEpB,GAAM,CAAAC,oBAAoB,CAAG,QAAvB,CAAAA,oBAAoBA,CAAA,CAAS,CACjC,GAAIJ,cAAc,CAAE,CAClB,eAAOK,IAAA,CAAAC,CAAA,mKAAkK,CAAC,EAC5K,CACA,GAAIL,mBAAmB,CAAE,CACvB,eAAOI,IAAA,CAAAC,CAAA,qFAAoF,CAAC,EAC9F,CACA,GAAIP,UAAU,CAAE,CACd,eAAOM,IAAA,CAAAC,CAAA,mEAAkE,CAAC,EAC5E,CAEA,eAAOD,IAAA,CAAAC,CAAA,uDAAsD,CAAC,EAChE,CAAC,CAED,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAC1B,GAAIJ,YAAY,CAAE,CAChB,mBACER,IAAA,CAACJ,YAAY,EAEXQ,UAAU,CAAEA,UAAW,CACvBS,SAAS,CAAC,QAAQ,CAClBV,OAAO,CAAEA,OAAQ,CACjBW,MAAM,CAAC,+BAA+B,CAAAC,QAAA,SAErCL,IAAA,CAAAC,CAAA,kBAAiB,CAAC,EANf,KAOQ,CAAC,CAEnB,CAEA,mBACEX,IAAA,CAACL,MAAM,EACLmB,MAAM,CAAC,wBAAwB,CAC/BX,OAAO,CAAEA,OAAQ,CACjB,qBAAYO,IAAA,CAAAC,CAAA,kBAAiB,CAAE,CAC/BK,OAAO,CAAC,WAAW,CACnBZ,UAAU,CAAEA,UAAW,CAAAW,QAAA,SAEtBL,IAAA,CAAAC,CAAA,kBAAiB,CAAC,CACb,CAAC,CAEb,CAAC,CAED,mBACEX,IAAA,CAACH,OAAO,EAENoB,OAAO,CAAER,oBAAoB,CAAC,CAAE,CAChCS,QAAQ,CAAC,KAAK,CAAAH,QAAA,cAEdf,IAAA,QAAAe,QAAA,CAAMH,aAAa,CAAC,CAAC,CAAM,CAAC,EAJxB,gBAKG,CAAC,CAEd,CAQAX,oBAAoB,CAACkB,YAAY,CAAG,CAClCd,cAAc,CAAE,KAAK,CACrBD,UAAU,CAAE,KAAK,CACjBE,mBAAmB,CAAE,KACvB,CAAC,CAED,cAAe,CAAAL,oBAAoB"},"metadata":{},"sourceType":"module"}