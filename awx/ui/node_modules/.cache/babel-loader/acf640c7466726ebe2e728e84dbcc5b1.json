{"ast":null,"code":"import{i18n}from\"@lingui/core\";import React from'react';import{string,bool,func}from'prop-types';import{Link}from'react-router-dom';import{Button,Progress,ProgressMeasureLocation,ProgressSize}from'@patternfly/react-core';import{Tr,Td}from'@patternfly/react-table';import{PencilAltIcon}from'@patternfly/react-icons';import styled from'styled-components';import{ActionsTd,ActionItem,TdBreakWord}from'components/PaginatedTable';import{InstanceGroup}from'types';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Unavailable=styled.span.withConfig({displayName:\"InstanceGroupListItem__Unavailable\",componentId:\"sc-1tuy1q1-0\"})([\"color:var(--pf-global--danger-color--200);\"]);function InstanceGroupListItem(_ref){var instanceGroup=_ref.instanceGroup,detailUrl=_ref.detailUrl,isSelected=_ref.isSelected,onSelect=_ref.onSelect,rowIndex=_ref.rowIndex;var labelId=\"check-action-\".concat(instanceGroup.id);var isContainerGroup=function isContainerGroup(item){return item.is_container_group;};function usedCapacity(item){if(!isContainerGroup(item)){if(item.capacity){return/*#__PURE__*/_jsx(Progress,{value:Math.round(100-item.percent_capacity_remaining),measureLocation:ProgressMeasureLocation.top,size:ProgressSize.sm,title:/*i18n*/i18n._(\"Used capacity\")});}return/*#__PURE__*/_jsxs(Unavailable,{children:[\" \",/*i18n*/i18n._(\"Unavailable\")]});}return null;}return/*#__PURE__*/_jsxs(Tr,{id:\"ig-row-\".concat(instanceGroup.id),ouiaId:\"ig-row-\".concat(instanceGroup.id),children:[/*#__PURE__*/_jsx(Td,{select:{rowIndex:rowIndex,isSelected:isSelected,onSelect:onSelect},dataLabel:/*i18n*/i18n._(\"Selected\")}),/*#__PURE__*/_jsx(TdBreakWord,{id:labelId,dataLabel:/*i18n*/i18n._(\"Name\"),children:/*#__PURE__*/_jsx(Link,{to:\"\".concat(detailUrl),children:/*#__PURE__*/_jsx(\"b\",{children:instanceGroup.name})})}),/*#__PURE__*/_jsx(Td,{dataLabel:/*i18n*/i18n._(\"Type\"),children:isContainerGroup(instanceGroup)?/*i18n*/i18n._(\"Container group\"):/*i18n*/i18n._(\"Instance group\")}),/*#__PURE__*/_jsx(Td,{dataLabel:/*i18n*/i18n._(\"Running jobs\"),children:instanceGroup.jobs_running}),/*#__PURE__*/_jsx(Td,{dataLabel:/*i18n*/i18n._(\"Total jobs\"),children:instanceGroup.jobs_total}),/*#__PURE__*/_jsx(Td,{dataLabel:/*i18n*/i18n._(\"Instances\"),children:instanceGroup.instances}),/*#__PURE__*/_jsx(Td,{dataLabel:/*i18n*/i18n._(\"Capacity\"),children:usedCapacity(instanceGroup)}),/*#__PURE__*/_jsx(ActionsTd,{dataLabel:/*i18n*/i18n._(\"Actions\"),children:/*#__PURE__*/_jsx(ActionItem,{visible:instanceGroup.summary_fields.user_capabilities.edit,tooltip:/*i18n*/i18n._(\"Edit instance group\"),children:/*#__PURE__*/_jsx(Button,{ouiaId:\"\".concat(instanceGroup.id,\"-edit-button\"),\"aria-label\":/*i18n*/i18n._(\"Edit instance group\"),variant:\"plain\",component:Link,to:isContainerGroup(instanceGroup)?\"/instance_groups/container_group/\".concat(instanceGroup.id,\"/edit\"):\"/instance_groups/\".concat(instanceGroup.id,\"/edit\"),children:/*#__PURE__*/_jsx(PencilAltIcon,{})})})})]});}InstanceGroupListItem.prototype={instanceGroup:InstanceGroup.isRequired,detailUrl:string.isRequired,isSelected:bool.isRequired,onSelect:func.isRequired};export default InstanceGroupListItem;","map":{"version":3,"names":["React","string","bool","func","Link","Button","Progress","ProgressMeasureLocation","ProgressSize","Tr","Td","PencilAltIcon","styled","ActionsTd","ActionItem","TdBreakWord","InstanceGroup","jsx","_jsx","jsxs","_jsxs","Unavailable","span","withConfig","displayName","componentId","InstanceGroupListItem","_ref","instanceGroup","detailUrl","isSelected","onSelect","rowIndex","labelId","concat","id","isContainerGroup","item","is_container_group","usedCapacity","capacity","value","Math","round","percent_capacity_remaining","measureLocation","top","size","sm","title","i18n","_","children","ouiaId","select","dataLabel","to","name","jobs_running","jobs_total","instances","visible","summary_fields","user_capabilities","edit","tooltip","variant","component","prototype","isRequired"],"sources":["/awx_devel/awx/ui/src/screens/InstanceGroup/InstanceGroupList/InstanceGroupListItem.js"],"sourcesContent":["import React from 'react';\nimport { string, bool, func } from 'prop-types';\n\nimport { t } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\nimport 'styled-components/macro';\nimport {\n  Button,\n  Progress,\n  ProgressMeasureLocation,\n  ProgressSize,\n} from '@patternfly/react-core';\nimport { Tr, Td } from '@patternfly/react-table';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport { ActionsTd, ActionItem, TdBreakWord } from 'components/PaginatedTable';\nimport { InstanceGroup } from 'types';\n\nconst Unavailable = styled.span`\n  color: var(--pf-global--danger-color--200);\n`;\n\nfunction InstanceGroupListItem({\n  instanceGroup,\n  detailUrl,\n  isSelected,\n  onSelect,\n  rowIndex,\n}) {\n  const labelId = `check-action-${instanceGroup.id}`;\n\n  const isContainerGroup = (item) => item.is_container_group;\n\n  function usedCapacity(item) {\n    if (!isContainerGroup(item)) {\n      if (item.capacity) {\n        return (\n          <Progress\n            value={Math.round(100 - item.percent_capacity_remaining)}\n            measureLocation={ProgressMeasureLocation.top}\n            size={ProgressSize.sm}\n            title={t`Used capacity`}\n          />\n        );\n      }\n      return <Unavailable> {t`Unavailable`}</Unavailable>;\n    }\n    return null;\n  }\n\n  return (\n    <Tr id={`ig-row-${instanceGroup.id}`} ouiaId={`ig-row-${instanceGroup.id}`}>\n      <Td\n        select={{\n          rowIndex,\n          isSelected,\n          onSelect,\n        }}\n        dataLabel={t`Selected`}\n      />\n      <TdBreakWord id={labelId} dataLabel={t`Name`}>\n        <Link to={`${detailUrl}`}>\n          <b>{instanceGroup.name}</b>\n        </Link>\n      </TdBreakWord>\n      <Td dataLabel={t`Type`}>\n        {isContainerGroup(instanceGroup)\n          ? t`Container group`\n          : t`Instance group`}\n      </Td>\n      <Td dataLabel={t`Running jobs`}>{instanceGroup.jobs_running}</Td>\n      <Td dataLabel={t`Total jobs`}>{instanceGroup.jobs_total}</Td>\n      <Td dataLabel={t`Instances`}>{instanceGroup.instances}</Td>\n      <Td dataLabel={t`Capacity`}>{usedCapacity(instanceGroup)}</Td>\n      <ActionsTd dataLabel={t`Actions`}>\n        <ActionItem\n          visible={instanceGroup.summary_fields.user_capabilities.edit}\n          tooltip={t`Edit instance group`}\n        >\n          <Button\n            ouiaId={`${instanceGroup.id}-edit-button`}\n            aria-label={t`Edit instance group`}\n            variant=\"plain\"\n            component={Link}\n            to={\n              isContainerGroup(instanceGroup)\n                ? `/instance_groups/container_group/${instanceGroup.id}/edit`\n                : `/instance_groups/${instanceGroup.id}/edit`\n            }\n          >\n            <PencilAltIcon />\n          </Button>\n        </ActionItem>\n      </ActionsTd>\n    </Tr>\n  );\n}\nInstanceGroupListItem.prototype = {\n  instanceGroup: InstanceGroup.isRequired,\n  detailUrl: string.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default InstanceGroupListItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}