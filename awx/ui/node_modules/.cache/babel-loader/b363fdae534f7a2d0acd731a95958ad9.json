{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import{i18n}from\"@lingui/core\";import React from'react';import styled from'styled-components';import{QSConfig,SearchColumns,SortColumns}from'types';import{SelectedList,DraggableSelectedList}from'../SelectedList';import CheckboxListItem from'../CheckboxListItem';import DataListToolbar from'../DataListToolbar';import PaginatedTable,{HeaderCell,HeaderRow}from'../PaginatedTable';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ModalList=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  .pf-c-toolbar__content {\\n    padding: 0 !important;\\n  }\\n\"])));function OptionsList(_ref){var columns=_ref.columns,contentError=_ref.contentError,deselectItem=_ref.deselectItem,displayKey=_ref.displayKey,header=_ref.header,isLoading=_ref.isLoading,isSelectedDraggable=_ref.isSelectedDraggable,multiple=_ref.multiple,name=_ref.name,optionCount=_ref.optionCount,options=_ref.options,qsConfig=_ref.qsConfig,readOnly=_ref.readOnly,relatedSearchableKeys=_ref.relatedSearchableKeys,renderItemChip=_ref.renderItemChip,searchColumns=_ref.searchColumns,searchableKeys=_ref.searchableKeys,selectItem=_ref.selectItem,sortColumns=_ref.sortColumns,sortSelectedItems=_ref.sortSelectedItems,value=_ref.value;var buildHeaderRow=/*#__PURE__*/_jsx(HeaderRow,{qsConfig:qsConfig,children:(columns===null||columns===void 0?void 0:columns.length)>0?columns.map(function(col){return/*#__PURE__*/_jsx(HeaderCell,{sortKey:col.key,children:col.name},col.key);}):/*#__PURE__*/_jsx(HeaderCell,{sortKey:\"name\",children:/*i18n*/i18n._(\"Name\")})});var selectionPreview=null;if(value.length>0){if(isSelectedDraggable){selectionPreview=/*#__PURE__*/_jsx(DraggableSelectedList,{onRemove:deselectItem,onRowDrag:sortSelectedItems,selected:value});}else{selectionPreview=/*#__PURE__*/_jsx(SelectedList,{label:/*i18n*/i18n._(\"Selected\"),selected:value,onRemove:function onRemove(item){return deselectItem(item);},isReadOnly:readOnly,renderItemChip:renderItemChip,displayKey:displayKey});}}return/*#__PURE__*/_jsxs(ModalList,{children:[selectionPreview,/*#__PURE__*/_jsx(PaginatedTable,{contentError:contentError,items:options,itemCount:optionCount,pluralizedItemName:header,qsConfig:qsConfig,toolbarSearchColumns:searchColumns,toolbarSortColumns:sortColumns,toolbarSearchableKeys:searchableKeys,toolbarRelatedSearchableKeys:relatedSearchableKeys,hasContentLoading:isLoading,headerRow:buildHeaderRow,onRowClick:selectItem,renderRow:function renderRow(item,index){return/*#__PURE__*/_jsx(CheckboxListItem,{rowIndex:index,itemId:item.id,name:multiple?item[displayKey]:name,label:item[displayKey],columns:columns,item:item,isSelected:value.some(function(i){return i.id===item.id;}),onSelect:function onSelect(){return selectItem(item);},onDeselect:function onDeselect(){return deselectItem(item);},isRadio:!multiple},item.id);},renderToolbar:function renderToolbar(props){return/*#__PURE__*/_jsx(DataListToolbar,_objectSpread(_objectSpread({},props),{},{fillWidth:true}));},showPageSizeOptions:false})]});}OptionsList.defaultProps={isSelectedDraggable:false,multiple:false,renderItemChip:null,searchColumns:[],sortColumns:[],displayKey:'name'};export default OptionsList;","map":{"version":3,"names":["React","styled","QSConfig","SearchColumns","SortColumns","SelectedList","DraggableSelectedList","CheckboxListItem","DataListToolbar","PaginatedTable","HeaderCell","HeaderRow","jsx","_jsx","jsxs","_jsxs","ModalList","div","_templateObject","_taggedTemplateLiteral","OptionsList","_ref","columns","contentError","deselectItem","displayKey","header","isLoading","isSelectedDraggable","multiple","name","optionCount","options","qsConfig","readOnly","relatedSearchableKeys","renderItemChip","searchColumns","searchableKeys","selectItem","sortColumns","sortSelectedItems","value","buildHeaderRow","children","length","map","col","sortKey","key","i18n","_","selectionPreview","onRemove","onRowDrag","selected","label","item","isReadOnly","items","itemCount","pluralizedItemName","toolbarSearchColumns","toolbarSortColumns","toolbarSearchableKeys","toolbarRelatedSearchableKeys","hasContentLoading","headerRow","onRowClick","renderRow","index","rowIndex","itemId","id","isSelected","some","i","onSelect","onDeselect","isRadio","renderToolbar","props","_objectSpread","fillWidth","showPageSizeOptions","defaultProps"],"sources":["/awx_devel/awx/ui/src/components/OptionsList/OptionsList.js"],"sourcesContent":["import React from 'react';\nimport {\n  arrayOf,\n  shape,\n  bool,\n  func,\n  number,\n  string,\n  oneOfType,\n} from 'prop-types';\nimport styled from 'styled-components';\nimport { t } from '@lingui/macro';\nimport { QSConfig, SearchColumns, SortColumns } from 'types';\nimport { SelectedList, DraggableSelectedList } from '../SelectedList';\nimport CheckboxListItem from '../CheckboxListItem';\nimport DataListToolbar from '../DataListToolbar';\nimport PaginatedTable, { HeaderCell, HeaderRow } from '../PaginatedTable';\n\nconst ModalList = styled.div`\n  .pf-c-toolbar__content {\n    padding: 0 !important;\n  }\n`;\n\nfunction OptionsList({\n  columns,\n  contentError,\n  deselectItem,\n  displayKey,\n  header,\n  isLoading,\n  isSelectedDraggable,\n  multiple,\n  name,\n  optionCount,\n  options,\n  qsConfig,\n  readOnly,\n  relatedSearchableKeys,\n  renderItemChip,\n  searchColumns,\n  searchableKeys,\n  selectItem,\n  sortColumns,\n  sortSelectedItems,\n  value,\n}) {\n  const buildHeaderRow = (\n    <HeaderRow qsConfig={qsConfig}>\n      {columns?.length > 0 ? (\n        columns.map((col) => (\n          <HeaderCell key={col.key} sortKey={col.key}>\n            {col.name}\n          </HeaderCell>\n        ))\n      ) : (\n        <HeaderCell sortKey=\"name\">{t`Name`}</HeaderCell>\n      )}\n    </HeaderRow>\n  );\n  let selectionPreview = null;\n  if (value.length > 0) {\n    if (isSelectedDraggable) {\n      selectionPreview = (\n        <DraggableSelectedList\n          onRemove={deselectItem}\n          onRowDrag={sortSelectedItems}\n          selected={value}\n        />\n      );\n    } else {\n      selectionPreview = (\n        <SelectedList\n          label={t`Selected`}\n          selected={value}\n          onRemove={(item) => deselectItem(item)}\n          isReadOnly={readOnly}\n          renderItemChip={renderItemChip}\n          displayKey={displayKey}\n        />\n      );\n    }\n  }\n\n  return (\n    <ModalList>\n      {selectionPreview}\n      <PaginatedTable\n        contentError={contentError}\n        items={options}\n        itemCount={optionCount}\n        pluralizedItemName={header}\n        qsConfig={qsConfig}\n        toolbarSearchColumns={searchColumns}\n        toolbarSortColumns={sortColumns}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        hasContentLoading={isLoading}\n        headerRow={buildHeaderRow}\n        onRowClick={selectItem}\n        renderRow={(item, index) => (\n          <CheckboxListItem\n            key={item.id}\n            rowIndex={index}\n            itemId={item.id}\n            name={multiple ? item[displayKey] : name}\n            label={item[displayKey]}\n            columns={columns}\n            item={item}\n            isSelected={value.some((i) => i.id === item.id)}\n            onSelect={() => selectItem(item)}\n            onDeselect={() => deselectItem(item)}\n            isRadio={!multiple}\n          />\n        )}\n        renderToolbar={(props) => <DataListToolbar {...props} fillWidth />}\n        showPageSizeOptions={false}\n      />\n    </ModalList>\n  );\n}\n\nconst Item = shape({\n  id: oneOfType([number, string]).isRequired,\n  name: string.isRequired,\n  url: string,\n});\nconst InstanceItem = shape({\n  id: oneOfType([number, string]).isRequired,\n  hostname: string.isRequired,\n  url: string,\n});\nOptionsList.propTypes = {\n  deselectItem: func.isRequired,\n  displayKey: string,\n  isSelectedDraggable: bool,\n  multiple: bool,\n  optionCount: number.isRequired,\n  options: oneOfType([arrayOf(Item), arrayOf(InstanceItem)]).isRequired,\n  qsConfig: QSConfig.isRequired,\n  renderItemChip: func,\n  searchColumns: SearchColumns,\n  selectItem: func.isRequired,\n  sortColumns: SortColumns,\n  value: oneOfType([arrayOf(Item), arrayOf(InstanceItem)]).isRequired,\n};\nOptionsList.defaultProps = {\n  isSelectedDraggable: false,\n  multiple: false,\n  renderItemChip: null,\n  searchColumns: [],\n  sortColumns: [],\n  displayKey: 'name',\n};\n\nexport default OptionsList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}