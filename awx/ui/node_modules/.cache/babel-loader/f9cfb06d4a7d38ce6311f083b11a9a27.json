{"ast":null,"code":"import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{i18n}from\"@lingui/core\";import React,{useState}from'react';import{Button,TextInput,Tooltip}from'@patternfly/react-core';import{RocketIcon}from'@patternfly/react-icons';import AlertModal from'components/AlertModal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MAX_RETENTION=99999;var clamp=function clamp(val,min,max){if(val<min){return min;}if(val>max){return max;}return val;};function LaunchManagementPrompt(_ref){var isOpen=_ref.isOpen,isLoading=_ref.isLoading,onClick=_ref.onClick,onClose=_ref.onClose,onConfirm=_ref.onConfirm,defaultDays=_ref.defaultDays;var _useState=useState(defaultDays),_useState2=_slicedToArray(_useState,2),dataRetention=_useState2[0],setDataRetention=_useState2[1];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Tooltip,{content:/*i18n*/i18n._(\"Launch management job\"),position:\"left\",children:/*#__PURE__*/_jsx(Button,{\"aria-label\":/*i18n*/i18n._(\"Launch management job\"),variant:\"plain\",onClick:onClick,isDisabled:isLoading,children:/*#__PURE__*/_jsx(RocketIcon,{})})}),/*#__PURE__*/_jsxs(AlertModal,{isOpen:isOpen,variant:\"info\",onClose:onClose,title:/*i18n*/i18n._(\"Launch management job\"),label:/*i18n*/i18n._(\"Launch management job\"),actions:[/*#__PURE__*/_jsx(Button,{id:\"launch-job-confirm-button\",variant:\"primary\",isDisabled:isLoading,\"aria-label\":/*i18n*/i18n._(\"Launch\"),onClick:function onClick(){return onConfirm(dataRetention);},children:/*i18n*/i18n._(\"Launch\")},\"delete\"),/*#__PURE__*/_jsx(Button,{id:\"launch-job-cancel-button\",variant:\"link\",\"aria-label\":/*i18n*/i18n._(\"Cancel\"),onClick:onClose,children:/*i18n*/i18n._(\"Cancel\")},\"cancel\")],children:[/*i18n*/i18n._(\"Set how many days of data should be retained.\"),/*#__PURE__*/_jsx(TextInput,{value:dataRetention,type:\"number\",onChange:function onChange(value){return setDataRetention(clamp(value,0,MAX_RETENTION));},\"aria-label\":/*i18n*/i18n._(\"Data retention period\")})]})]});}export default LaunchManagementPrompt;","map":{"version":3,"names":["React","useState","Button","TextInput","Tooltip","RocketIcon","AlertModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MAX_RETENTION","clamp","val","min","max","LaunchManagementPrompt","_ref","isOpen","isLoading","onClick","onClose","onConfirm","defaultDays","_useState","_useState2","_slicedToArray","dataRetention","setDataRetention","children","content","i18n","_","position","variant","isDisabled","title","label","actions","id","value","type","onChange"],"sources":["/awx_devel/awx/ui/src/screens/ManagementJob/ManagementJobList/LaunchManagementPrompt.js"],"sourcesContent":["import React, { useState } from 'react';\n\nimport { t } from '@lingui/macro';\nimport { Button, TextInput, Tooltip } from '@patternfly/react-core';\nimport { RocketIcon } from '@patternfly/react-icons';\n\nimport AlertModal from 'components/AlertModal';\n\nconst MAX_RETENTION = 99999;\n\nconst clamp = (val, min, max) => {\n  if (val < min) {\n    return min;\n  }\n  if (val > max) {\n    return max;\n  }\n  return val;\n};\n\nfunction LaunchManagementPrompt({\n  isOpen,\n  isLoading,\n  onClick,\n  onClose,\n  onConfirm,\n  defaultDays,\n}) {\n  const [dataRetention, setDataRetention] = useState(defaultDays);\n  return (\n    <>\n      <Tooltip content={t`Launch management job`} position=\"left\">\n        <Button\n          aria-label={t`Launch management job`}\n          variant=\"plain\"\n          onClick={onClick}\n          isDisabled={isLoading}\n        >\n          <RocketIcon />\n        </Button>\n      </Tooltip>\n      <AlertModal\n        isOpen={isOpen}\n        variant=\"info\"\n        onClose={onClose}\n        title={t`Launch management job`}\n        label={t`Launch management job`}\n        actions={[\n          <Button\n            id=\"launch-job-confirm-button\"\n            key=\"delete\"\n            variant=\"primary\"\n            isDisabled={isLoading}\n            aria-label={t`Launch`}\n            onClick={() => onConfirm(dataRetention)}\n          >\n            {t`Launch`}\n          </Button>,\n          <Button\n            id=\"launch-job-cancel-button\"\n            key=\"cancel\"\n            variant=\"link\"\n            aria-label={t`Cancel`}\n            onClick={onClose}\n          >\n            {t`Cancel`}\n          </Button>,\n        ]}\n      >\n        {t`Set how many days of data should be retained.`}\n        <TextInput\n          value={dataRetention}\n          type=\"number\"\n          onChange={(value) => setDataRetention(clamp(value, 0, MAX_RETENTION))}\n          aria-label={t`Data retention period`}\n        />\n      </AlertModal>\n    </>\n  );\n}\n\nexport default LaunchManagementPrompt;\n"],"mappings":"sIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAGvC,OAASC,MAAM,CAAEC,SAAS,CAAEC,OAAO,KAAQ,wBAAwB,CACnE,OAASC,UAAU,KAAQ,yBAAyB,CAEpD,MAAO,CAAAC,UAAU,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE/C,GAAM,CAAAC,aAAa,CAAG,KAAK,CAE3B,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAIC,GAAG,CAAEC,GAAG,CAAEC,GAAG,CAAK,CAC/B,GAAIF,GAAG,CAAGC,GAAG,CAAE,CACb,MAAO,CAAAA,GAAG,CACZ,CACA,GAAID,GAAG,CAAGE,GAAG,CAAE,CACb,MAAO,CAAAA,GAAG,CACZ,CACA,MAAO,CAAAF,GAAG,CACZ,CAAC,CAED,QAAS,CAAAG,sBAAsBA,CAAAC,IAAA,CAO5B,IAND,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CACNC,SAAS,CAAAF,IAAA,CAATE,SAAS,CACTC,OAAO,CAAAH,IAAA,CAAPG,OAAO,CACPC,OAAO,CAAAJ,IAAA,CAAPI,OAAO,CACPC,SAAS,CAAAL,IAAA,CAATK,SAAS,CACTC,WAAW,CAAAN,IAAA,CAAXM,WAAW,CAEX,IAAAC,SAAA,CAA0CzB,QAAQ,CAACwB,WAAW,CAAC,CAAAE,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAxDG,aAAa,CAAAF,UAAA,IAAEG,gBAAgB,CAAAH,UAAA,IACtC,mBACEjB,KAAA,CAAAE,SAAA,EAAAmB,QAAA,eACEvB,IAAA,CAACJ,OAAO,EAAC4B,OAAO,SAAEC,IAAA,CAAAC,CAAA,wBAAuB,CAAE,CAACC,QAAQ,CAAC,MAAM,CAAAJ,QAAA,cACzDvB,IAAA,CAACN,MAAM,EACL,qBAAY+B,IAAA,CAAAC,CAAA,wBAAuB,CAAE,CACrCE,OAAO,CAAC,OAAO,CACfd,OAAO,CAAEA,OAAQ,CACjBe,UAAU,CAAEhB,SAAU,CAAAU,QAAA,cAEtBvB,IAAA,CAACH,UAAU,GAAE,CAAC,CACR,CAAC,CACF,CAAC,cACVK,KAAA,CAACJ,UAAU,EACTc,MAAM,CAAEA,MAAO,CACfgB,OAAO,CAAC,MAAM,CACdb,OAAO,CAAEA,OAAQ,CACjBe,KAAK,SAAEL,IAAA,CAAAC,CAAA,wBAAuB,CAAE,CAChCK,KAAK,SAAEN,IAAA,CAAAC,CAAA,wBAAuB,CAAE,CAChCM,OAAO,CAAE,cACPhC,IAAA,CAACN,MAAM,EACLuC,EAAE,CAAC,2BAA2B,CAE9BL,OAAO,CAAC,SAAS,CACjBC,UAAU,CAAEhB,SAAU,CACtB,qBAAYY,IAAA,CAAAC,CAAA,SAAQ,CAAE,CACtBZ,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAE,SAAS,CAACK,aAAa,CAAC,EAAC,CAAAE,QAAA,SAEvCE,IAAA,CAAAC,CAAA,SAAQ,CAAC,EANN,QAOE,CAAC,cACT1B,IAAA,CAACN,MAAM,EACLuC,EAAE,CAAC,0BAA0B,CAE7BL,OAAO,CAAC,MAAM,CACd,qBAAYH,IAAA,CAAAC,CAAA,SAAQ,CAAE,CACtBZ,OAAO,CAAEC,OAAQ,CAAAQ,QAAA,SAEhBE,IAAA,CAAAC,CAAA,SAAQ,CAAC,EALN,QAME,CAAC,CACT,CAAAH,QAAA,UAEDE,IAAA,CAAAC,CAAA,gDAA+C,CAAC,cACjD1B,IAAA,CAACL,SAAS,EACRuC,KAAK,CAAEb,aAAc,CACrBc,IAAI,CAAC,QAAQ,CACbC,QAAQ,CAAE,SAAAA,SAACF,KAAK,QAAK,CAAAZ,gBAAgB,CAAChB,KAAK,CAAC4B,KAAK,CAAE,CAAC,CAAE7B,aAAa,CAAC,CAAC,EAAC,CACtE,qBAAYoB,IAAA,CAAAC,CAAA,wBAAuB,CAAE,CACtC,CAAC,EACQ,CAAC,EACb,CAAC,CAEP,CAEA,cAAe,CAAAhB,sBAAsB"},"metadata":{},"sourceType":"module"}