{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import{i18n}from\"@lingui/core\";import React,{useCallback,useEffect,useState}from'react';import{useLocation}from'react-router-dom';import{Button,EmptyState,EmptyStateBody,EmptyStateIcon,Title}from'@patternfly/react-core';import{CubesIcon}from'@patternfly/react-icons';import{getQSConfig,parseQueryString}from'util/qs';import{UsersAPI,RolesAPI}from'api';import useRequest,{useDeleteItems}from'hooks/useRequest';import PaginatedTable,{HeaderRow,HeaderCell,ToolbarAddButton,getSearchableKeys}from'components/PaginatedTable';import ErrorDetail from'components/ErrorDetail';import AlertModal from'components/AlertModal';import DatalistToolbar from'components/DataListToolbar';import UserAndTeamAccessAdd from'components/UserAndTeamAccessAdd/UserAndTeamAccessAdd';import UserRolesListItem from'./UserRolesListItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var QS_CONFIG=getQSConfig('roles',{page:1,page_size:20,order_by:'id'});// TODO Figure out how to best conduct a search of this list.\n// Since we only have a role ID in the top level of each role object\n// we can't really search using the normal search parameters.\nfunction UserRolesList(_ref){var user=_ref.user;var _useLocation=useLocation(),search=_useLocation.search;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),roleToDisassociate=_useState2[0],setRoleToDisassociate=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showAddModal=_useState4[0],setShowAddModal=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),associateError=_useState6[0],setAssociateError=_useState6[1];var _useRequest=useRequest(useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _actionsResponse$data,_actionsResponse$data2;var params,_yield$Promise$all,_yield$Promise$all2,_yield$Promise$all2$,results,count,actionsResponse;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:params=parseQueryString(QS_CONFIG,search);_context.next=3;return Promise.all([UsersAPI.readRoles(user.id,params),UsersAPI.readOptions()]);case 3:_yield$Promise$all=_context.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,2);_yield$Promise$all2$=_yield$Promise$all2[0].data;results=_yield$Promise$all2$.results;count=_yield$Promise$all2$.count;actionsResponse=_yield$Promise$all2[1];return _context.abrupt(\"return\",{roleCount:count,roles:results,actions:actionsResponse.data.actions,relatedSearchableKeys:((actionsResponse===null||actionsResponse===void 0?void 0:(_actionsResponse$data=actionsResponse.data)===null||_actionsResponse$data===void 0?void 0:_actionsResponse$data.related_search_fields)||[]).map(function(val){return val.slice(0,-8);}),searchableKeys:getSearchableKeys((_actionsResponse$data2=actionsResponse.data.actions)===null||_actionsResponse$data2===void 0?void 0:_actionsResponse$data2.GET)});case 10:case\"end\":return _context.stop();}}},_callee);})),[user.id,search]),{roles:[],roleCount:0,actions:{},relatedSearchableKeys:[],searchableKeys:[]}),isLoading=_useRequest.isLoading,fetchRoles=_useRequest.request,error=_useRequest.error,_useRequest$result=_useRequest.result,roleCount=_useRequest$result.roleCount,roles=_useRequest$result.roles,actions=_useRequest$result.actions,relatedSearchableKeys=_useRequest$result.relatedSearchableKeys,searchableKeys=_useRequest$result.searchableKeys;useEffect(function(){fetchRoles();},[fetchRoles]);var _useDeleteItems=useDeleteItems(useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setRoleToDisassociate(null);_context2.next=3;return RolesAPI.disassociateUserRole(roleToDisassociate.id,parseInt(user.id,10));case 3:case\"end\":return _context2.stop();}}},_callee2);})),[roleToDisassociate,user.id]),{qsConfig:QS_CONFIG,fetchItems:fetchRoles}),isDisassociateLoading=_useDeleteItems.isLoading,disassociateRole=_useDeleteItems.deleteItems,disassociationError=_useDeleteItems.deletionError,clearDisassociationError=_useDeleteItems.clearDeletionError;var canAdd=actions&&Object.prototype.hasOwnProperty.call(actions,'POST');var detailUrl=function detailUrl(role){var _role$summary_fields=role.summary_fields,resource_id=_role$summary_fields.resource_id,resource_type=_role$summary_fields.resource_type;if(!role||!resource_type){return null;}if(resource_type!==null&&resource_type!==void 0&&resource_type.includes('template')){return\"/templates/\".concat(resource_type,\"/\").concat(resource_id,\"/details\");}if(resource_type!==null&&resource_type!==void 0&&resource_type.includes('inventory')){return\"/inventories/\".concat(resource_type,\"/\").concat(resource_id,\"/details\");}return\"/\".concat(resource_type,\"s/\").concat(resource_id,\"/details\");};var isSysAdmin=roles.some(function(role){return role.name==='System Administrator';});if(isSysAdmin){return/*#__PURE__*/_jsxs(EmptyState,{variant:\"full\",children:[/*#__PURE__*/_jsx(EmptyStateIcon,{icon:CubesIcon}),/*#__PURE__*/_jsx(Title,{headingLevel:\"h5\",size:\"lg\",children:/*i18n*/i18n._(\"System Administrator\")}),/*#__PURE__*/_jsx(EmptyStateBody,{children:/*i18n*/i18n._(\"System administrators have unrestricted access to all resources.\")})]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PaginatedTable,{contentError:error,hasContentLoading:isLoading||isDisassociateLoading,items:roles,itemCount:roleCount,pluralizedItemName:/*i18n*/i18n._(\"User Roles\"),qsConfig:QS_CONFIG,toolbarSearchColumns:[{name:/*i18n*/i18n._(\"Role\"),key:'role_field__icontains',isDefault:true}],toolbarSearchableKeys:searchableKeys,toolbarRelatedSearchableKeys:relatedSearchableKeys,headerRow:/*#__PURE__*/_jsxs(HeaderRow,{qsConfig:QS_CONFIG,isSelectable:false,children:[/*#__PURE__*/_jsx(HeaderCell,{children:/*i18n*/i18n._(\"Name\")}),/*#__PURE__*/_jsx(HeaderCell,{children:/*i18n*/i18n._(\"Type\")}),/*#__PURE__*/_jsx(HeaderCell,{children:/*i18n*/i18n._(\"Role\")})]}),renderRow:function renderRow(role,index){return/*#__PURE__*/_jsx(UserRolesListItem,{value:role.name,role:role,detailUrl:detailUrl(role),isSelected:false,onSelect:function onSelect(item){setRoleToDisassociate(item);},rowIndex:index},role.id);},renderToolbar:function renderToolbar(props){return/*#__PURE__*/_jsx(DatalistToolbar,_objectSpread(_objectSpread({},props),{},{qsConfig:QS_CONFIG,additionalControls:_toConsumableArray(canAdd?[/*#__PURE__*/_jsx(ToolbarAddButton,{ouiaId:\"role-add-button\",onClick:function onClick(){return setShowAddModal(true);}},\"add\")]:[])}));}}),showAddModal&&/*#__PURE__*/_jsx(UserAndTeamAccessAdd,{apiModel:UsersAPI,onFetchData:function onFetchData(){setShowAddModal(false);fetchRoles();},title:/*i18n*/i18n._(\"Add user permissions\"),onClose:function onClose(){return setShowAddModal(false);},onError:function onError(err){return setAssociateError(err);}}),roleToDisassociate&&/*#__PURE__*/_jsx(AlertModal,{\"aria-label\":/*i18n*/i18n._(\"Disassociate role\"),isOpen:roleToDisassociate,variant:\"error\",title:/*i18n*/i18n._(\"Disassociate role!\"),onClose:function onClose(){return setRoleToDisassociate(null);},actions:[/*#__PURE__*/_jsx(Button,{ouiaId:\"disassociate-confirm-button\",variant:\"danger\",\"aria-label\":/*i18n*/i18n._(\"Confirm disassociate\"),onClick:function onClick(){return disassociateRole();},children:/*i18n*/i18n._(\"Disassociate\")},\"disassociate\"),/*#__PURE__*/_jsx(Button,{ouiaId:\"disassociate-cancel-button\",variant:\"link\",\"aria-label\":/*i18n*/i18n._(\"Cancel\"),onClick:function onClick(){return setRoleToDisassociate(null);},children:/*i18n*/i18n._(\"Cancel\")},\"cancel\")],children:/*#__PURE__*/_jsxs(\"div\",{children:[/*i18n*/i18n._(\"This action will disassociate the following role from {0}:\",{0:roleToDisassociate.summary_fields.resource_name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:roleToDisassociate.name})]})}),associateError&&/*#__PURE__*/_jsxs(AlertModal,{\"aria-label\":/*i18n*/i18n._(\"Associate role error\"),isOpen:associateError,variant:\"error\",title:/*i18n*/i18n._(\"Error!\"),onClose:function onClose(){return setAssociateError(null);},children:[/*i18n*/i18n._(\"Failed to associate role\"),/*#__PURE__*/_jsx(ErrorDetail,{error:associateError})]}),disassociationError&&/*#__PURE__*/_jsxs(AlertModal,{isOpen:disassociationError,variant:\"error\",title:/*i18n*/i18n._(\"Error!\"),onClose:clearDisassociationError,children:[/*i18n*/i18n._(\"Failed to delete role.\"),/*#__PURE__*/_jsx(ErrorDetail,{error:disassociationError})]})]});}export default UserRolesList;","map":{"version":3,"names":["React","useCallback","useEffect","useState","useLocation","Button","EmptyState","EmptyStateBody","EmptyStateIcon","Title","CubesIcon","getQSConfig","parseQueryString","UsersAPI","RolesAPI","useRequest","useDeleteItems","PaginatedTable","HeaderRow","HeaderCell","ToolbarAddButton","getSearchableKeys","ErrorDetail","AlertModal","DatalistToolbar","UserAndTeamAccessAdd","UserRolesListItem","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","QS_CONFIG","page","page_size","order_by","UserRolesList","_ref","user","_useLocation","search","_useState","_useState2","_slicedToArray","roleToDisassociate","setRoleToDisassociate","_useState3","_useState4","showAddModal","setShowAddModal","_useState5","_useState6","associateError","setAssociateError","_useRequest","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_actionsResponse$data","_actionsResponse$data2","params","_yield$Promise$all","_yield$Promise$all2","_yield$Promise$all2$","results","count","actionsResponse","wrap","_callee$","_context","prev","next","Promise","all","readRoles","id","readOptions","sent","data","abrupt","roleCount","roles","actions","relatedSearchableKeys","related_search_fields","map","val","slice","searchableKeys","GET","stop","isLoading","fetchRoles","request","error","_useRequest$result","result","_useDeleteItems","_callee2","_callee2$","_context2","disassociateUserRole","parseInt","qsConfig","fetchItems","isDisassociateLoading","disassociateRole","deleteItems","disassociationError","deletionError","clearDisassociationError","clearDeletionError","canAdd","Object","prototype","hasOwnProperty","call","detailUrl","role","_role$summary_fields","summary_fields","resource_id","resource_type","includes","concat","isSysAdmin","some","name","variant","children","icon","headingLevel","size","i18n","_","contentError","hasContentLoading","items","itemCount","pluralizedItemName","toolbarSearchColumns","key","isDefault","toolbarSearchableKeys","toolbarRelatedSearchableKeys","headerRow","isSelectable","renderRow","index","value","isSelected","onSelect","item","rowIndex","renderToolbar","props","_objectSpread","additionalControls","_toConsumableArray","ouiaId","onClick","apiModel","onFetchData","title","onClose","onError","err","isOpen","0","resource_name"],"sources":["/awx_devel/awx/ui/src/screens/User/UserRoles/UserRolesList.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { t } from '@lingui/macro';\nimport {\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  Title,\n} from '@patternfly/react-core';\nimport { CubesIcon } from '@patternfly/react-icons';\nimport { getQSConfig, parseQueryString } from 'util/qs';\nimport { UsersAPI, RolesAPI } from 'api';\nimport useRequest, { useDeleteItems } from 'hooks/useRequest';\nimport PaginatedTable, {\n  HeaderRow,\n  HeaderCell,\n  ToolbarAddButton,\n  getSearchableKeys,\n} from 'components/PaginatedTable';\nimport ErrorDetail from 'components/ErrorDetail';\nimport AlertModal from 'components/AlertModal';\nimport DatalistToolbar from 'components/DataListToolbar';\nimport UserAndTeamAccessAdd from 'components/UserAndTeamAccessAdd/UserAndTeamAccessAdd';\nimport UserRolesListItem from './UserRolesListItem';\n\nconst QS_CONFIG = getQSConfig('roles', {\n  page: 1,\n  page_size: 20,\n  order_by: 'id',\n});\n// TODO Figure out how to best conduct a search of this list.\n// Since we only have a role ID in the top level of each role object\n// we can't really search using the normal search parameters.\nfunction UserRolesList({ user }) {\n  const { search } = useLocation();\n  const [roleToDisassociate, setRoleToDisassociate] = useState(null);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [associateError, setAssociateError] = useState(null);\n\n  const {\n    isLoading,\n    request: fetchRoles,\n    error,\n    result: {\n      roleCount,\n      roles,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, search);\n      const [\n        {\n          data: { results, count },\n        },\n        actionsResponse,\n      ] = await Promise.all([\n        UsersAPI.readRoles(user.id, params),\n        UsersAPI.readOptions(),\n      ]);\n      return {\n        roleCount: count,\n        roles: results,\n        actions: actionsResponse.data.actions,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map((val) => val.slice(0, -8)),\n        searchableKeys: getSearchableKeys(actionsResponse.data.actions?.GET),\n      };\n    }, [user.id, search]),\n    {\n      roles: [],\n      roleCount: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchRoles();\n  }, [fetchRoles]);\n\n  const {\n    isLoading: isDisassociateLoading,\n    deleteItems: disassociateRole,\n    deletionError: disassociationError,\n    clearDeletionError: clearDisassociationError,\n  } = useDeleteItems(\n    useCallback(async () => {\n      setRoleToDisassociate(null);\n      await RolesAPI.disassociateUserRole(\n        roleToDisassociate.id,\n        parseInt(user.id, 10)\n      );\n    }, [roleToDisassociate, user.id]),\n    { qsConfig: QS_CONFIG, fetchItems: fetchRoles }\n  );\n\n  const canAdd =\n    actions && Object.prototype.hasOwnProperty.call(actions, 'POST');\n\n  const detailUrl = (role) => {\n    const { resource_id, resource_type } = role.summary_fields;\n\n    if (!role || !resource_type) {\n      return null;\n    }\n\n    if (resource_type?.includes('template')) {\n      return `/templates/${resource_type}/${resource_id}/details`;\n    }\n    if (resource_type?.includes('inventory')) {\n      return `/inventories/${resource_type}/${resource_id}/details`;\n    }\n    return `/${resource_type}s/${resource_id}/details`;\n  };\n  const isSysAdmin = roles.some((role) => role.name === 'System Administrator');\n  if (isSysAdmin) {\n    return (\n      <EmptyState variant=\"full\">\n        <EmptyStateIcon icon={CubesIcon} />\n        <Title headingLevel=\"h5\" size=\"lg\">\n          {t`System Administrator`}\n        </Title>\n        <EmptyStateBody>\n          {t`System administrators have unrestricted access to all resources.`}\n        </EmptyStateBody>\n      </EmptyState>\n    );\n  }\n  return (\n    <>\n      <PaginatedTable\n        contentError={error}\n        hasContentLoading={isLoading || isDisassociateLoading}\n        items={roles}\n        itemCount={roleCount}\n        pluralizedItemName={t`User Roles`}\n        qsConfig={QS_CONFIG}\n        toolbarSearchColumns={[\n          {\n            name: t`Role`,\n            key: 'role_field__icontains',\n            isDefault: true,\n          },\n        ]}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        headerRow={\n          <HeaderRow qsConfig={QS_CONFIG} isSelectable={false}>\n            <HeaderCell>{t`Name`}</HeaderCell>\n            <HeaderCell>{t`Type`}</HeaderCell>\n            <HeaderCell>{t`Role`}</HeaderCell>\n          </HeaderRow>\n        }\n        renderRow={(role, index) => (\n          <UserRolesListItem\n            key={role.id}\n            value={role.name}\n            role={role}\n            detailUrl={detailUrl(role)}\n            isSelected={false}\n            onSelect={(item) => {\n              setRoleToDisassociate(item);\n            }}\n            rowIndex={index}\n          />\n        )}\n        renderToolbar={(props) => (\n          <DatalistToolbar\n            {...props}\n            qsConfig={QS_CONFIG}\n            additionalControls={[\n              ...(canAdd\n                ? [\n                    <ToolbarAddButton\n                      ouiaId=\"role-add-button\"\n                      key=\"add\"\n                      onClick={() => setShowAddModal(true)}\n                    />,\n                  ]\n                : []),\n            ]}\n          />\n        )}\n      />\n      {showAddModal && (\n        <UserAndTeamAccessAdd\n          apiModel={UsersAPI}\n          onFetchData={() => {\n            setShowAddModal(false);\n            fetchRoles();\n          }}\n          title={t`Add user permissions`}\n          onClose={() => setShowAddModal(false)}\n          onError={(err) => setAssociateError(err)}\n        />\n      )}\n      {roleToDisassociate && (\n        <AlertModal\n          aria-label={t`Disassociate role`}\n          isOpen={roleToDisassociate}\n          variant=\"error\"\n          title={t`Disassociate role!`}\n          onClose={() => setRoleToDisassociate(null)}\n          actions={[\n            <Button\n              ouiaId=\"disassociate-confirm-button\"\n              key=\"disassociate\"\n              variant=\"danger\"\n              aria-label={t`Confirm disassociate`}\n              onClick={() => disassociateRole()}\n            >\n              {t`Disassociate`}\n            </Button>,\n            <Button\n              ouiaId=\"disassociate-cancel-button\"\n              key=\"cancel\"\n              variant=\"link\"\n              aria-label={t`Cancel`}\n              onClick={() => setRoleToDisassociate(null)}\n            >\n              {t`Cancel`}\n            </Button>,\n          ]}\n        >\n          <div>\n            {t`This action will disassociate the following role from ${roleToDisassociate.summary_fields.resource_name}:`}\n            <br />\n            <strong>{roleToDisassociate.name}</strong>\n          </div>\n        </AlertModal>\n      )}\n      {associateError && (\n        <AlertModal\n          aria-label={t`Associate role error`}\n          isOpen={associateError}\n          variant=\"error\"\n          title={t`Error!`}\n          onClose={() => setAssociateError(null)}\n        >\n          {t`Failed to associate role`}\n          <ErrorDetail error={associateError} />\n        </AlertModal>\n      )}\n      {disassociationError && (\n        <AlertModal\n          isOpen={disassociationError}\n          variant=\"error\"\n          title={t`Error!`}\n          onClose={clearDisassociationError}\n        >\n          {t`Failed to delete role.`}\n          <ErrorDetail error={disassociationError} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\nexport default UserRolesList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}