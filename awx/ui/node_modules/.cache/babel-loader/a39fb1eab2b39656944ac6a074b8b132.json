{"ast":null,"code":"import{i18n}from\"@lingui/core\";import React from'react';import{TextList,TextListItem,TextListVariants,TextListItemVariants}from'@patternfly/react-core';import{Link}from'react-router-dom';import{Config}from'contexts/Config';import{toTitleCase}from'util/strings';import{Detail,DeletedDetail}from'../DetailList';import CredentialChip from'../CredentialChip';import ExecutionEnvironmentDetail from'../ExecutionEnvironmentDetail';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function PromptProjectDetail(_ref){var _summary_fields$crede,_summary_fields$signa;var resource=_ref.resource;var allow_override=resource.allow_override,custom_virtualenv=resource.custom_virtualenv,local_path=resource.local_path,scm_branch=resource.scm_branch,scm_clean=resource.scm_clean,scm_delete_on_update=resource.scm_delete_on_update,scm_track_submodules=resource.scm_track_submodules,scm_refspec=resource.scm_refspec,scm_type=resource.scm_type,scm_update_on_launch=resource.scm_update_on_launch,scm_update_cache_timeout=resource.scm_update_cache_timeout,scm_url=resource.scm_url,summary_fields=resource.summary_fields;var optionsList='';if(scm_clean||scm_delete_on_update||scm_track_submodules||scm_update_on_launch||allow_override){optionsList=/*#__PURE__*/_jsxs(TextList,{component:TextListVariants.ul,children:[scm_clean&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Discard local changes before syncing\")}),scm_delete_on_update&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Delete the project before syncing\")}),scm_track_submodules&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Track submodules latest commit on branch\")}),scm_update_on_launch&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Update revision on job launch\")}),allow_override&&/*#__PURE__*/_jsx(TextListItem,{component:TextListItemVariants.li,children:/*i18n*/i18n._(\"Allow branch override\")})]});}var prefixCy='prompt-project-detail';return/*#__PURE__*/_jsxs(_Fragment,{children:[summary_fields!==null&&summary_fields!==void 0&&summary_fields.organization?/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Organization\"),dataCy:\"\".concat(prefixCy,\"-organization\"),value:/*#__PURE__*/_jsx(Link,{to:\"/organizations/\".concat(summary_fields.organization.id,\"/details\"),children:summary_fields===null||summary_fields===void 0?void 0:summary_fields.organization.name})}):/*#__PURE__*/_jsx(DeletedDetail,{label:/*i18n*/i18n._(\"Organization\")}),/*#__PURE__*/_jsx(ExecutionEnvironmentDetail,{virtualEnvironment:custom_virtualenv,executionEnvironment:summary_fields===null||summary_fields===void 0?void 0:summary_fields.default_environment,isDefaultEnvironment:true}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Source Control Type\"),dataCy:\"\".concat(prefixCy,\"-source-control-type\"),value:scm_type===''?/*i18n*/i18n._(\"Manual\"):toTitleCase(scm_type)}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Source Control URL\"),dataCy:\"\".concat(prefixCy,\"-source-control-url\"),value:scm_url}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Source Control Branch\"),dataCy:\"\".concat(prefixCy,\"-source-control-branch\"),value:scm_branch}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Source Control Refspec\"),dataCy:\"\".concat(prefixCy,\"-source-control-refspec\"),value:scm_refspec}),(summary_fields===null||summary_fields===void 0?void 0:(_summary_fields$crede=summary_fields.credential)===null||_summary_fields$crede===void 0?void 0:_summary_fields$crede.id)&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Source Control Credential\"),dataCy:\"\".concat(prefixCy,\"-source-control-credential\"),value:/*#__PURE__*/_jsx(CredentialChip,{credential:resource.summary_fields.credential,isReadOnly:true},resource.summary_fields.credential.id)}),(summary_fields===null||summary_fields===void 0?void 0:(_summary_fields$signa=summary_fields.signature_validation_credential)===null||_summary_fields$signa===void 0?void 0:_summary_fields$signa.id)&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Content Signature Validation Credential\"),dataCy:\"\".concat(prefixCy,\"-content-signature-validation-credential\"),value:/*#__PURE__*/_jsx(CredentialChip,{credential:resource.summary_fields.signature_validation_credential,isReadOnly:true},resource.summary_fields.signature_validation_credential.id)}),optionsList&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Enabled Options\"),dataCy:\"\".concat(prefixCy,\"-enabled-options\"),value:optionsList}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Cache Timeout\"),dataCy:\"\".concat(prefixCy,\"-cache-timeout\"),value:\"\".concat(scm_update_cache_timeout,\" \").concat(/*i18n*/i18n._(\"Seconds\"))}),/*#__PURE__*/_jsx(Config,{children:function children(_ref2){var project_base_dir=_ref2.project_base_dir;return/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Project Base Path\"),dataCy:\"\".concat(prefixCy,\"-project-base-path\"),value:project_base_dir});}}),/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Playbook Directory\"),dataCy:\"\".concat(prefixCy,\"-playbook-directory\"),value:local_path})]});}export default PromptProjectDetail;","map":{"version":3,"names":["React","TextList","TextListItem","TextListVariants","TextListItemVariants","Link","Config","toTitleCase","Detail","DeletedDetail","CredentialChip","ExecutionEnvironmentDetail","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PromptProjectDetail","_ref","_summary_fields$crede","_summary_fields$signa","resource","allow_override","custom_virtualenv","local_path","scm_branch","scm_clean","scm_delete_on_update","scm_track_submodules","scm_refspec","scm_type","scm_update_on_launch","scm_update_cache_timeout","scm_url","summary_fields","optionsList","component","ul","children","li","i18n","_","prefixCy","organization","label","dataCy","concat","value","to","id","name","virtualEnvironment","executionEnvironment","default_environment","isDefaultEnvironment","credential","isReadOnly","signature_validation_credential","_ref2","project_base_dir"],"sources":["/awx_devel/awx/ui/src/components/PromptDetail/PromptProjectDetail.js"],"sourcesContent":["import React from 'react';\nimport { t } from '@lingui/macro';\nimport {\n  TextList,\n  TextListItem,\n  TextListVariants,\n  TextListItemVariants,\n} from '@patternfly/react-core';\nimport { Link } from 'react-router-dom';\nimport { Config } from 'contexts/Config';\nimport { toTitleCase } from 'util/strings';\nimport { Detail, DeletedDetail } from '../DetailList';\nimport CredentialChip from '../CredentialChip';\nimport ExecutionEnvironmentDetail from '../ExecutionEnvironmentDetail';\n\nfunction PromptProjectDetail({ resource }) {\n  const {\n    allow_override,\n    custom_virtualenv,\n    local_path,\n    scm_branch,\n    scm_clean,\n    scm_delete_on_update,\n    scm_track_submodules,\n    scm_refspec,\n    scm_type,\n    scm_update_on_launch,\n    scm_update_cache_timeout,\n    scm_url,\n    summary_fields,\n  } = resource;\n\n  let optionsList = '';\n  if (\n    scm_clean ||\n    scm_delete_on_update ||\n    scm_track_submodules ||\n    scm_update_on_launch ||\n    allow_override\n  ) {\n    optionsList = (\n      <TextList component={TextListVariants.ul}>\n        {scm_clean && (\n          <TextListItem\n            component={TextListItemVariants.li}\n          >{t`Discard local changes before syncing`}</TextListItem>\n        )}\n        {scm_delete_on_update && (\n          <TextListItem\n            component={TextListItemVariants.li}\n          >{t`Delete the project before syncing`}</TextListItem>\n        )}\n        {scm_track_submodules && (\n          <TextListItem\n            component={TextListItemVariants.li}\n          >{t`Track submodules latest commit on branch`}</TextListItem>\n        )}\n        {scm_update_on_launch && (\n          <TextListItem\n            component={TextListItemVariants.li}\n          >{t`Update revision on job launch`}</TextListItem>\n        )}\n        {allow_override && (\n          <TextListItem\n            component={TextListItemVariants.li}\n          >{t`Allow branch override`}</TextListItem>\n        )}\n      </TextList>\n    );\n  }\n\n  const prefixCy = 'prompt-project-detail';\n  return (\n    <>\n      {summary_fields?.organization ? (\n        <Detail\n          label={t`Organization`}\n          dataCy={`${prefixCy}-organization`}\n          value={\n            <Link\n              to={`/organizations/${summary_fields.organization.id}/details`}\n            >\n              {summary_fields?.organization.name}\n            </Link>\n          }\n        />\n      ) : (\n        <DeletedDetail label={t`Organization`} />\n      )}\n      <ExecutionEnvironmentDetail\n        virtualEnvironment={custom_virtualenv}\n        executionEnvironment={summary_fields?.default_environment}\n        isDefaultEnvironment\n      />\n      <Detail\n        label={t`Source Control Type`}\n        dataCy={`${prefixCy}-source-control-type`}\n        value={scm_type === '' ? t`Manual` : toTitleCase(scm_type)}\n      />\n      <Detail\n        label={t`Source Control URL`}\n        dataCy={`${prefixCy}-source-control-url`}\n        value={scm_url}\n      />\n      <Detail\n        label={t`Source Control Branch`}\n        dataCy={`${prefixCy}-source-control-branch`}\n        value={scm_branch}\n      />\n      <Detail\n        label={t`Source Control Refspec`}\n        dataCy={`${prefixCy}-source-control-refspec`}\n        value={scm_refspec}\n      />\n      {summary_fields?.credential?.id && (\n        <Detail\n          label={t`Source Control Credential`}\n          dataCy={`${prefixCy}-source-control-credential`}\n          value={\n            <CredentialChip\n              key={resource.summary_fields.credential.id}\n              credential={resource.summary_fields.credential}\n              isReadOnly\n            />\n          }\n        />\n      )}\n      {summary_fields?.signature_validation_credential?.id && (\n        <Detail\n          label={t`Content Signature Validation Credential`}\n          dataCy={`${prefixCy}-content-signature-validation-credential`}\n          value={\n            <CredentialChip\n              key={resource.summary_fields.signature_validation_credential.id}\n              credential={\n                resource.summary_fields.signature_validation_credential\n              }\n              isReadOnly\n            />\n          }\n        />\n      )}\n      {optionsList && (\n        <Detail\n          label={t`Enabled Options`}\n          dataCy={`${prefixCy}-enabled-options`}\n          value={optionsList}\n        />\n      )}\n      <Detail\n        label={t`Cache Timeout`}\n        dataCy={`${prefixCy}-cache-timeout`}\n        value={`${scm_update_cache_timeout} ${t`Seconds`}`}\n      />\n      <Config>\n        {({ project_base_dir }) => (\n          <Detail\n            label={t`Project Base Path`}\n            dataCy={`${prefixCy}-project-base-path`}\n            value={project_base_dir}\n          />\n        )}\n      </Config>\n      <Detail\n        label={t`Playbook Directory`}\n        dataCy={`${prefixCy}-playbook-directory`}\n        value={local_path}\n      />\n    </>\n  );\n}\n\nexport default PromptProjectDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}