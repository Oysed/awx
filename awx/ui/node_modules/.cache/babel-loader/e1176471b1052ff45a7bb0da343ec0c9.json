{"ast":null,"code":"import _toConsumableArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _styled from\"styled-components\";import{i18n}from\"@lingui/core\";import React,{useEffect,useState}from'react';import{Button,ButtonVariant,Divider,InputGroup,Select,SelectGroup,SelectOption,SelectVariant,TextInput,Tooltip}from'@patternfly/react-core';import{SearchIcon,QuestionCircleIcon}from'@patternfly/react-icons';import styled from'styled-components';import{useLocation}from'react-router-dom';import{useConfig}from'contexts/Config';import getDocsBaseUrl from'util/getDocsBaseUrl';import{SearchableKeys}from'types';import RelatedLookupTypeInput from'./RelatedLookupTypeInput';import LookupTypeInput from'./LookupTypeInput';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdvancedGroup=styled.div.withConfig({displayName:\"AdvancedSearch__AdvancedGroup\",componentId:\"sc-1wuv834-0\"})([\"display:flex;@media (max-width:991px){display:grid;grid-gap:var(--pf-c-toolbar__expandable-content--m-expanded--GridRowGap);}& .pf-c-select{min-width:150px;}\"]);var _StyledDiv=styled(\"div\").withConfig({displayName:\"AdvancedSearch___StyledDiv\",componentId:\"sc-1wuv834-1\"})([\"\",\"\"],function(p){return p._css;});function AdvancedSearch(_ref){var onSearch=_ref.onSearch,searchableKeys=_ref.searchableKeys,relatedSearchableKeys=_ref.relatedSearchableKeys,maxSelectHeight=_ref.maxSelectHeight,enableNegativeFiltering=_ref.enableNegativeFiltering,enableRelatedFuzzyFiltering=_ref.enableRelatedFuzzyFiltering,handleIsAnsibleFactsSelected=_ref.handleIsAnsibleFactsSelected,isFilterCleared=_ref.isFilterCleared;var relatedKeys=relatedSearchableKeys.filter(function(sKey){return!searchableKeys.map(function(_ref2){var key=_ref2.key;return key;}).includes(sKey);});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isPrefixDropdownOpen=_useState2[0],setIsPrefixDropdownOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isKeyDropdownOpen=_useState4[0],setIsKeyDropdownOpen=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),prefixSelection=_useState6[0],setPrefixSelection=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),lookupSelection=_useState8[0],setLookupSelection=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),keySelection=_useState10[0],setKeySelection=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),searchValue=_useState12[0],setSearchValue=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),isTextInputDisabled=_useState14[0],setIsTextInputDisabled=_useState14[1];var _useLocation=useLocation(),pathname=_useLocation.pathname,search=_useLocation.search;useEffect(function(){if(keySelection==='ansible_facts'){handleIsAnsibleFactsSelected(true);setPrefixSelection(null);}else{handleIsAnsibleFactsSelected(false);}},[keySelection]);// eslint-disable-line react-hooks/exhaustive-deps\nuseEffect(function(){if(isFilterCleared&&keySelection==='ansible_facts'){setIsTextInputDisabled(false);}},[isFilterCleared,keySelection]);useEffect(function(){if((pathname.includes('edit')||pathname.includes('add'))&&keySelection==='ansible_facts'&&search.includes('ansible_facts')){setIsTextInputDisabled(true);}else{setIsTextInputDisabled(false);}},[keySelection,pathname,search]);var config=useConfig();var selectedKey=searchableKeys.find(function(k){return k.key===keySelection;});var relatedSearchKeySelected=keySelection&&relatedSearchableKeys.indexOf(keySelection)>-1&&!selectedKey;var lookupKeyType=keySelection&&!relatedSearchKeySelected?selectedKey===null||selectedKey===void 0?void 0:selectedKey.type:null;useEffect(function(){if(relatedSearchKeySelected&&keySelection!=='ansible_facts'){setLookupSelection('name__icontains');}else{setLookupSelection(null);}},[keySelection]);// eslint-disable-line react-hooks/exhaustive-deps\nuseEffect(function(){if(lookupSelection==='search'){setPrefixSelection(null);}},[lookupSelection]);// eslint-disable-line react-hooks/exhaustive-deps\nvar handleAdvancedSearch=function handleAdvancedSearch(e){// keeps page from fully reloading\ne.preventDefault();if(searchValue){var actualPrefix=prefixSelection==='and'?null:prefixSelection;var actualSearchKey=[actualPrefix,keySelection,lookupSelection].filter(function(val){return!!val;}).join('__');if(keySelection==='ansible_facts'){var ansibleFactValue=\"\".concat(actualSearchKey,\"__\").concat(searchValue);onSearch('host_filter',ansibleFactValue);}else{onSearch(actualSearchKey,searchValue);}setSearchValue('');}};var handleAdvancedTextKeyDown=function handleAdvancedTextKeyDown(e){if(e.key&&e.key==='Enter'){handleAdvancedSearch(e);}};var renderSetType=function renderSetType(){return/*#__PURE__*/_jsxs(Select,{ouiaId:\"set-type-typeahead\",\"aria-label\":/*i18n*/i18n._(\"Set type select\"),className:\"setTypeSelect\",variant:SelectVariant.typeahead,typeAheadAriaLabel:/*i18n*/i18n._(\"Set type typeahead\"),onToggle:setIsPrefixDropdownOpen,onSelect:function onSelect(event,selection){return setPrefixSelection(selection);},onClear:function onClear(){return setPrefixSelection(null);},selections:prefixSelection,isOpen:isPrefixDropdownOpen,placeholderText:/*i18n*/i18n._(\"Set type\"),maxHeight:maxSelectHeight,noResultsFoundText:/*i18n*/i18n._(\"No results found\"),isDisabled:lookupSelection==='search',children:[/*#__PURE__*/_jsx(SelectOption,{id:\"and-option-select\",value:\"and\",description:/*i18n*/i18n._(\"Returns results that satisfy this one as well as other filters.  This is the default set type if nothing is selected.\")},\"and\"),/*#__PURE__*/_jsx(SelectOption,{id:\"or-option-select\",value:\"or\",description:/*i18n*/i18n._(\"Returns results that satisfy this one or any other filters.\")},\"or\"),enableNegativeFiltering&&/*#__PURE__*/_jsx(SelectOption,{id:\"not-option-select\",value:\"not\",description:/*i18n*/i18n._(\"Returns results that have values other than this one as well as other filters.\")},\"not\")]});};var renderLookupType=function renderLookupType(){if(keySelection==='ansible_facts')return null;return relatedSearchKeySelected?/*#__PURE__*/_jsx(RelatedLookupTypeInput,{value:lookupSelection,setValue:setLookupSelection,maxSelectHeight:maxSelectHeight,enableFuzzyFiltering:enableRelatedFuzzyFiltering}):/*#__PURE__*/_jsx(LookupTypeInput,{value:lookupSelection,type:lookupKeyType,setValue:setLookupSelection,maxSelectHeight:maxSelectHeight});};var renderTextInput=function renderTextInput(){var placeholderText;if(keySelection==='labels'&&lookupSelection==='search'){placeholderText='e.g. label_1,label_2';}if(isTextInputDisabled){return/*#__PURE__*/_jsx(Tooltip,{content:/*i18n*/i18n._(\"Remove the current search related to ansible facts to enable another search using this key.\"),children:/*#__PURE__*/_jsx(TextInput,{\"data-cy\":\"advanced-search-text-input\",type:\"search\",\"aria-label\":/*i18n*/i18n._(\"Advanced search value input\"),isDisabled:!keySelection||isTextInputDisabled,value:!keySelection&&/*i18n*/i18n._(\"First, select a key\")||searchValue,onChange:setSearchValue,onKeyDown:handleAdvancedTextKeyDown})});}return/*#__PURE__*/_jsx(TextInput,{\"data-cy\":\"advanced-search-text-input\",type:\"search\",\"aria-label\":/*i18n*/i18n._(\"Advanced search value input\"),isDisabled:!keySelection,value:!keySelection&&/*i18n*/i18n._(\"First, select a key\")||searchValue,onChange:setSearchValue,onKeyDown:handleAdvancedTextKeyDown,placeholder:placeholderText});};var renderLookupSelection=function renderLookupSelection(){if(keySelection==='ansible_facts')return null;return lookupSelection==='search'?/*#__PURE__*/_jsx(Tooltip,{content:/*i18n*/i18n._(\"Set type disabled for related search field fuzzy searches\"),children:renderSetType()}):renderSetType();};return/*#__PURE__*/_jsxs(AdvancedGroup,{children:[renderLookupSelection(),/*#__PURE__*/_jsx(Select,{ouiaId:\"set-key-typeahead\",\"aria-label\":/*i18n*/i18n._(\"Key select\"),className:\"keySelect\",variant:SelectVariant.typeahead,typeAheadAriaLabel:/*i18n*/i18n._(\"Key typeahead\"),onToggle:setIsKeyDropdownOpen,onSelect:function onSelect(event,selection){return setKeySelection(selection);},onClear:function onClear(){return setKeySelection(null);},selections:keySelection,isOpen:isKeyDropdownOpen,placeholderText:/*i18n*/i18n._(\"Key\"),isGrouped:true,onCreateOption:setKeySelection,maxHeight:maxSelectHeight,noResultsFoundText:/*i18n*/i18n._(\"No results found\"),children:[].concat(_toConsumableArray(searchableKeys.length?[/*#__PURE__*/_jsx(SelectGroup,{label:/*i18n*/i18n._(\"Direct Keys\"),children:searchableKeys.map(function(k){return/*#__PURE__*/_jsx(SelectOption,{value:k.key,id:\"select-option-\".concat(k.key),children:k.key},k.key);})},\"direct keys\"),/*#__PURE__*/_jsx(Divider,{},\"divider\")]:[]),_toConsumableArray(relatedKeys.length?[/*#__PURE__*/_jsx(SelectGroup,{label:/*i18n*/i18n._(\"Related Keys\"),children:relatedKeys.map(function(rKey){return/*#__PURE__*/_jsx(SelectOption,{value:rKey,id:\"select-option-\".concat(rKey),children:rKey},rKey);})},\"related keys\")]:[]))}),renderLookupType(),/*#__PURE__*/_jsxs(InputGroup,{children:[renderTextInput(),/*#__PURE__*/_jsx(_StyledDiv,{_css:!searchValue&&\"cursor:not-allowed\",children:/*#__PURE__*/_jsx(Button,{ouiaId:\"advanced-search-text-input\",variant:ButtonVariant.control,isDisabled:!searchValue,\"aria-label\":/*i18n*/i18n._(\"Search submit button\"),onClick:handleAdvancedSearch,children:/*#__PURE__*/_jsx(SearchIcon,{})})})]}),/*#__PURE__*/_jsx(Tooltip,{content:/*i18n*/i18n._(\"Advanced search documentation\"),position:\"bottom\",children:/*#__PURE__*/_jsx(Button,{ouiaId:\"search-docs-button\",component:\"a\",variant:\"plain\",target:\"_blank\",href:\"\".concat(getDocsBaseUrl(config),\"/html/userguide/search_sort.html\"),rel:\"noopener noreferrer\",children:/*#__PURE__*/_jsx(QuestionCircleIcon,{})})})]});}AdvancedSearch.defaultProps={searchableKeys:[],relatedSearchableKeys:[],maxSelectHeight:'300px',enableNegativeFiltering:true,enableRelatedFuzzyFiltering:true,handleIsAnsibleFactsSelected:function handleIsAnsibleFactsSelected(){}};export default AdvancedSearch;","map":{"version":3,"names":["React","useEffect","useState","Button","ButtonVariant","Divider","InputGroup","Select","SelectGroup","SelectOption","SelectVariant","TextInput","Tooltip","SearchIcon","QuestionCircleIcon","styled","useLocation","useConfig","getDocsBaseUrl","SearchableKeys","RelatedLookupTypeInput","LookupTypeInput","jsx","_jsx","jsxs","_jsxs","AdvancedGroup","div","withConfig","displayName","componentId","_StyledDiv","p","_css","AdvancedSearch","_ref","onSearch","searchableKeys","relatedSearchableKeys","maxSelectHeight","enableNegativeFiltering","enableRelatedFuzzyFiltering","handleIsAnsibleFactsSelected","isFilterCleared","relatedKeys","filter","sKey","map","_ref2","key","includes","_useState","_useState2","_slicedToArray","isPrefixDropdownOpen","setIsPrefixDropdownOpen","_useState3","_useState4","isKeyDropdownOpen","setIsKeyDropdownOpen","_useState5","_useState6","prefixSelection","setPrefixSelection","_useState7","_useState8","lookupSelection","setLookupSelection","_useState9","_useState10","keySelection","setKeySelection","_useState11","_useState12","searchValue","setSearchValue","_useState13","_useState14","isTextInputDisabled","setIsTextInputDisabled","_useLocation","pathname","search","config","selectedKey","find","k","relatedSearchKeySelected","indexOf","lookupKeyType","type","handleAdvancedSearch","e","preventDefault","actualPrefix","actualSearchKey","val","join","ansibleFactValue","concat","handleAdvancedTextKeyDown","renderSetType","ouiaId","i18n","_","className","variant","typeahead","typeAheadAriaLabel","onToggle","onSelect","event","selection","onClear","selections","isOpen","placeholderText","maxHeight","noResultsFoundText","isDisabled","children","id","value","description","renderLookupType","setValue","enableFuzzyFiltering","renderTextInput","content","onChange","onKeyDown","placeholder","renderLookupSelection","isGrouped","onCreateOption","_toConsumableArray","length","label","rKey","control","onClick","position","component","target","href","rel","defaultProps"],"sources":["/awx_devel/awx/ui/src/components/Search/AdvancedSearch.js"],"sourcesContent":["import 'styled-components/macro';\nimport React, { useEffect, useState } from 'react';\nimport { string, func, bool, arrayOf } from 'prop-types';\nimport { t } from '@lingui/macro';\nimport {\n  Button,\n  ButtonVariant,\n  Divider,\n  InputGroup,\n  Select,\n  SelectGroup,\n  SelectOption,\n  SelectVariant,\n  TextInput,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { SearchIcon, QuestionCircleIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport { useLocation } from 'react-router-dom';\nimport { useConfig } from 'contexts/Config';\nimport getDocsBaseUrl from 'util/getDocsBaseUrl';\nimport { SearchableKeys } from 'types';\nimport RelatedLookupTypeInput from './RelatedLookupTypeInput';\nimport LookupTypeInput from './LookupTypeInput';\n\nconst AdvancedGroup = styled.div`\n  display: flex;\n\n  @media (max-width: 991px) {\n    display: grid;\n    grid-gap: var(--pf-c-toolbar__expandable-content--m-expanded--GridRowGap);\n  }\n\n  & .pf-c-select {\n    min-width: 150px;\n  }\n`;\n\nfunction AdvancedSearch({\n  onSearch,\n  searchableKeys,\n  relatedSearchableKeys,\n  maxSelectHeight,\n  enableNegativeFiltering,\n  enableRelatedFuzzyFiltering,\n  handleIsAnsibleFactsSelected,\n  isFilterCleared,\n}) {\n  const relatedKeys = relatedSearchableKeys.filter(\n    (sKey) => !searchableKeys.map(({ key }) => key).includes(sKey)\n  );\n  const [isPrefixDropdownOpen, setIsPrefixDropdownOpen] = useState(false);\n  const [isKeyDropdownOpen, setIsKeyDropdownOpen] = useState(false);\n  const [prefixSelection, setPrefixSelection] = useState(null);\n  const [lookupSelection, setLookupSelection] = useState(null);\n  const [keySelection, setKeySelection] = useState(null);\n  const [searchValue, setSearchValue] = useState('');\n  const [isTextInputDisabled, setIsTextInputDisabled] = useState(false);\n  const { pathname, search } = useLocation();\n\n  useEffect(() => {\n    if (keySelection === 'ansible_facts') {\n      handleIsAnsibleFactsSelected(true);\n      setPrefixSelection(null);\n    } else {\n      handleIsAnsibleFactsSelected(false);\n    }\n  }, [keySelection]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (isFilterCleared && keySelection === 'ansible_facts') {\n      setIsTextInputDisabled(false);\n    }\n  }, [isFilterCleared, keySelection]);\n\n  useEffect(() => {\n    if (\n      (pathname.includes('edit') || pathname.includes('add')) &&\n      keySelection === 'ansible_facts' &&\n      search.includes('ansible_facts')\n    ) {\n      setIsTextInputDisabled(true);\n    } else {\n      setIsTextInputDisabled(false);\n    }\n  }, [keySelection, pathname, search]);\n\n  const config = useConfig();\n\n  const selectedKey = searchableKeys.find((k) => k.key === keySelection);\n  const relatedSearchKeySelected =\n    keySelection &&\n    relatedSearchableKeys.indexOf(keySelection) > -1 &&\n    !selectedKey;\n  const lookupKeyType =\n    keySelection && !relatedSearchKeySelected ? selectedKey?.type : null;\n\n  useEffect(() => {\n    if (relatedSearchKeySelected && keySelection !== 'ansible_facts') {\n      setLookupSelection('name__icontains');\n    } else {\n      setLookupSelection(null);\n    }\n  }, [keySelection]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (lookupSelection === 'search') {\n      setPrefixSelection(null);\n    }\n  }, [lookupSelection]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleAdvancedSearch = (e) => {\n    // keeps page from fully reloading\n    e.preventDefault();\n\n    if (searchValue) {\n      const actualPrefix = prefixSelection === 'and' ? null : prefixSelection;\n      const actualSearchKey = [actualPrefix, keySelection, lookupSelection]\n        .filter((val) => !!val)\n        .join('__');\n      if (keySelection === 'ansible_facts') {\n        const ansibleFactValue = `${actualSearchKey}__${searchValue}`;\n        onSearch('host_filter', ansibleFactValue);\n      } else {\n        onSearch(actualSearchKey, searchValue);\n      }\n      setSearchValue('');\n    }\n  };\n\n  const handleAdvancedTextKeyDown = (e) => {\n    if (e.key && e.key === 'Enter') {\n      handleAdvancedSearch(e);\n    }\n  };\n\n  const renderSetType = () => (\n    <Select\n      ouiaId=\"set-type-typeahead\"\n      aria-label={t`Set type select`}\n      className=\"setTypeSelect\"\n      variant={SelectVariant.typeahead}\n      typeAheadAriaLabel={t`Set type typeahead`}\n      onToggle={setIsPrefixDropdownOpen}\n      onSelect={(event, selection) => setPrefixSelection(selection)}\n      onClear={() => setPrefixSelection(null)}\n      selections={prefixSelection}\n      isOpen={isPrefixDropdownOpen}\n      placeholderText={t`Set type`}\n      maxHeight={maxSelectHeight}\n      noResultsFoundText={t`No results found`}\n      isDisabled={lookupSelection === 'search'}\n    >\n      <SelectOption\n        id=\"and-option-select\"\n        key=\"and\"\n        value=\"and\"\n        description={t`Returns results that satisfy this one as well as other filters.  This is the default set type if nothing is selected.`}\n      />\n      <SelectOption\n        id=\"or-option-select\"\n        key=\"or\"\n        value=\"or\"\n        description={t`Returns results that satisfy this one or any other filters.`}\n      />\n      {enableNegativeFiltering && (\n        <SelectOption\n          id=\"not-option-select\"\n          key=\"not\"\n          value=\"not\"\n          description={t`Returns results that have values other than this one as well as other filters.`}\n        />\n      )}\n    </Select>\n  );\n\n  const renderLookupType = () => {\n    if (keySelection === 'ansible_facts') return null;\n\n    return relatedSearchKeySelected ? (\n      <RelatedLookupTypeInput\n        value={lookupSelection}\n        setValue={setLookupSelection}\n        maxSelectHeight={maxSelectHeight}\n        enableFuzzyFiltering={enableRelatedFuzzyFiltering}\n      />\n    ) : (\n      <LookupTypeInput\n        value={lookupSelection}\n        type={lookupKeyType}\n        setValue={setLookupSelection}\n        maxSelectHeight={maxSelectHeight}\n      />\n    );\n  };\n\n  const renderTextInput = () => {\n    let placeholderText;\n    if (keySelection === 'labels' && lookupSelection === 'search') {\n      placeholderText = 'e.g. label_1,label_2';\n    }\n\n    if (isTextInputDisabled) {\n      return (\n        <Tooltip\n          content={t`Remove the current search related to ansible facts to enable another search using this key.`}\n        >\n          <TextInput\n            data-cy=\"advanced-search-text-input\"\n            type=\"search\"\n            aria-label={t`Advanced search value input`}\n            isDisabled={!keySelection || isTextInputDisabled}\n            value={(!keySelection && t`First, select a key`) || searchValue}\n            onChange={setSearchValue}\n            onKeyDown={handleAdvancedTextKeyDown}\n          />\n        </Tooltip>\n      );\n    }\n\n    return (\n      <TextInput\n        data-cy=\"advanced-search-text-input\"\n        type=\"search\"\n        aria-label={t`Advanced search value input`}\n        isDisabled={!keySelection}\n        value={(!keySelection && t`First, select a key`) || searchValue}\n        onChange={setSearchValue}\n        onKeyDown={handleAdvancedTextKeyDown}\n        placeholder={placeholderText}\n      />\n    );\n  };\n\n  const renderLookupSelection = () => {\n    if (keySelection === 'ansible_facts') return null;\n    return lookupSelection === 'search' ? (\n      <Tooltip\n        content={t`Set type disabled for related search field fuzzy searches`}\n      >\n        {renderSetType()}\n      </Tooltip>\n    ) : (\n      renderSetType()\n    );\n  };\n\n  return (\n    <AdvancedGroup>\n      {renderLookupSelection()}\n      <Select\n        ouiaId=\"set-key-typeahead\"\n        aria-label={t`Key select`}\n        className=\"keySelect\"\n        variant={SelectVariant.typeahead}\n        typeAheadAriaLabel={t`Key typeahead`}\n        onToggle={setIsKeyDropdownOpen}\n        onSelect={(event, selection) => setKeySelection(selection)}\n        onClear={() => setKeySelection(null)}\n        selections={keySelection}\n        isOpen={isKeyDropdownOpen}\n        placeholderText={t`Key`}\n        isGrouped\n        onCreateOption={setKeySelection}\n        maxHeight={maxSelectHeight}\n        noResultsFoundText={t`No results found`}\n      >\n        {[\n          ...(searchableKeys.length\n            ? [\n                <SelectGroup key=\"direct keys\" label={t`Direct Keys`}>\n                  {searchableKeys.map((k) => (\n                    <SelectOption\n                      value={k.key}\n                      key={k.key}\n                      id={`select-option-${k.key}`}\n                    >\n                      {k.key}\n                    </SelectOption>\n                  ))}\n                </SelectGroup>,\n                <Divider key=\"divider\" />,\n              ]\n            : []),\n          ...(relatedKeys.length\n            ? [\n                <SelectGroup key=\"related keys\" label={t`Related Keys`}>\n                  {relatedKeys.map((rKey) => (\n                    <SelectOption\n                      value={rKey}\n                      key={rKey}\n                      id={`select-option-${rKey}`}\n                    >\n                      {rKey}\n                    </SelectOption>\n                  ))}\n                </SelectGroup>,\n              ]\n            : []),\n        ]}\n      </Select>\n      {renderLookupType()}\n\n      <InputGroup>\n        {renderTextInput()}\n        <div css={!searchValue && `cursor:not-allowed`}>\n          <Button\n            ouiaId=\"advanced-search-text-input\"\n            variant={ButtonVariant.control}\n            isDisabled={!searchValue}\n            aria-label={t`Search submit button`}\n            onClick={handleAdvancedSearch}\n          >\n            <SearchIcon />\n          </Button>\n        </div>\n      </InputGroup>\n      <Tooltip content={t`Advanced search documentation`} position=\"bottom\">\n        <Button\n          ouiaId=\"search-docs-button\"\n          component=\"a\"\n          variant=\"plain\"\n          target=\"_blank\"\n          href={`${getDocsBaseUrl(config)}/html/userguide/search_sort.html`}\n          rel=\"noopener noreferrer\"\n        >\n          <QuestionCircleIcon />\n        </Button>\n      </Tooltip>\n    </AdvancedGroup>\n  );\n}\n\nAdvancedSearch.propTypes = {\n  onSearch: func.isRequired,\n  searchableKeys: SearchableKeys,\n  relatedSearchableKeys: arrayOf(string),\n  maxSelectHeight: string,\n  enableNegativeFiltering: bool,\n  enableRelatedFuzzyFiltering: bool,\n  handleIsAnsibleFactsSelected: func,\n};\n\nAdvancedSearch.defaultProps = {\n  searchableKeys: [],\n  relatedSearchableKeys: [],\n  maxSelectHeight: '300px',\n  enableNegativeFiltering: true,\n  enableRelatedFuzzyFiltering: true,\n  handleIsAnsibleFactsSelected: () => {},\n};\n\nexport default AdvancedSearch;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}