{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import{i18n}from\"@lingui/core\";import React,{useState,useCallback,useEffect}from'react';import{useLocation,useParams}from'react-router-dom';import PaginatedTable,{HeaderRow,HeaderCell,ToolbarAddButton,getSearchableKeys}from'components/PaginatedTable';import DataListToolbar from'components/DataListToolbar';import DisassociateButton from'components/DisassociateButton';import AssociateModal from'components/AssociateModal';import AlertModal from'components/AlertModal';import ErrorDetail from'components/ErrorDetail';import useRequest,{useDeleteItems,useDismissableError}from'hooks/useRequest';import useSelected from'hooks/useSelected';import{TeamsAPI,UsersAPI}from'api';import{getQSConfig,mergeParams,parseQueryString}from'util/qs';import UserTeamListItem from'./UserTeamListItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var QS_CONFIG=getQSConfig('teams',{page:1,page_size:20,order_by:'name'});function UserTeamList(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isModalOpen=_useState2[0],setIsModalOpen=_useState2[1];var location=useLocation();var _useParams=useParams(),userId=_useParams.id;var _useRequest=useRequest(useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _actionsResponse$data,_actionsResponse$data2;var params,_yield$Promise$all,_yield$Promise$all2,_yield$Promise$all2$,results,teamCount,actionsResponse,usersResponse;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:params=parseQueryString(QS_CONFIG,location.search);_context.next=3;return Promise.all([UsersAPI.readTeams(userId,params),UsersAPI.readTeamsOptions(userId),UsersAPI.readOptions()]);case 3:_yield$Promise$all=_context.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,3);_yield$Promise$all2$=_yield$Promise$all2[0].data;results=_yield$Promise$all2$.results;teamCount=_yield$Promise$all2$.count;actionsResponse=_yield$Promise$all2[1];usersResponse=_yield$Promise$all2[2];return _context.abrupt(\"return\",{teams:results,count:teamCount,userOptions:usersResponse.data.actions,actions:actionsResponse.data.actions,relatedSearchableKeys:((actionsResponse===null||actionsResponse===void 0?void 0:(_actionsResponse$data=actionsResponse.data)===null||_actionsResponse$data===void 0?void 0:_actionsResponse$data.related_search_fields)||[]).map(function(val){return val.slice(0,-8);}),searchableKeys:getSearchableKeys((_actionsResponse$data2=actionsResponse.data.actions)===null||_actionsResponse$data2===void 0?void 0:_actionsResponse$data2.GET)});case 11:case\"end\":return _context.stop();}}},_callee);})),[userId,location.search]),{teams:[],count:0,roles:{},userOptions:{},relatedSearchableKeys:[],searchableKeys:[]}),_useRequest$result=_useRequest.result,teams=_useRequest$result.teams,count=_useRequest$result.count,userOptions=_useRequest$result.userOptions,relatedSearchableKeys=_useRequest$result.relatedSearchableKeys,searchableKeys=_useRequest$result.searchableKeys,contentError=_useRequest.error,isLoading=_useRequest.isLoading,fetchTeams=_useRequest.request;useEffect(function(){fetchTeams();},[fetchTeams]);var _useSelected=useSelected(teams),selected=_useSelected.selected,isAllSelected=_useSelected.isAllSelected,handleSelect=_useSelected.handleSelect,clearSelected=_useSelected.clearSelected,selectAll=_useSelected.selectAll;var disassociateUserRoles=function disassociateUserRoles(team){return[UsersAPI.disassociateRole(userId,team.summary_fields.object_roles.admin_role.id),UsersAPI.disassociateRole(userId,team.summary_fields.object_roles.member_role.id),UsersAPI.disassociateRole(userId,team.summary_fields.object_roles.read_role.id)];};var _useDeleteItems=useDeleteItems(useCallback(function(){return Promise.all(selected.flatMap(function(team){return disassociateUserRoles(team);}));},/* eslint-disable-next-line react-hooks/exhaustive-deps */[selected]),{qsConfig:QS_CONFIG,allItemsSelected:isAllSelected,fetchItems:fetchTeams}),isDisassociateLoading=_useDeleteItems.isLoading,disassociateTeams=_useDeleteItems.deleteItems,disassociateError=_useDeleteItems.deletionError;var _useRequest2=useRequest(useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(teamsToAssociate){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Promise.all(teamsToAssociate.map(function(team){return UsersAPI.associateRole(userId,team.summary_fields.object_roles.member_role.id);}));case 2:fetchTeams();case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}(),[userId,fetchTeams])),handleAssociate=_useRequest2.request,associateError=_useRequest2.error;var handleDisassociate=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return disassociateTeams();case 2:clearSelected();case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function handleDisassociate(){return _ref3.apply(this,arguments);};}();var _useDismissableError=useDismissableError(associateError||disassociateError),error=_useDismissableError.error,dismissError=_useDismissableError.dismissError;var canAdd=userOptions&&Object.prototype.hasOwnProperty.call(userOptions,'POST');var fetchTeamsToAssociate=useCallback(function(params){return TeamsAPI.read(mergeParams(params,{not__member_role__members__id:userId,not__admin_role__members__id:userId}));},[userId]);var readTeamOptions=useCallback(function(){return UsersAPI.readTeamsOptions(userId);},[userId]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PaginatedTable,{items:teams,contentError:contentError,hasContentLoading:isLoading||isDisassociateLoading,itemCount:count,pluralizedItemName:/*i18n*/i18n._(\"Teams\"),qsConfig:QS_CONFIG,clearSelected:clearSelected,headerRow:/*#__PURE__*/_jsxs(HeaderRow,{qsConfig:QS_CONFIG,children:[/*#__PURE__*/_jsx(HeaderCell,{sortKey:\"name\",children:/*i18n*/i18n._(\"Name\")}),/*#__PURE__*/_jsx(HeaderCell,{children:/*i18n*/i18n._(\"Organization\")}),/*#__PURE__*/_jsx(HeaderCell,{children:/*i18n*/i18n._(\"Description\")})]}),renderRow:function renderRow(team,index){return/*#__PURE__*/_jsx(UserTeamListItem,{value:team.name,team:team,detailUrl:\"/teams/\".concat(team.id,\"/details\"),onSelect:function onSelect(){return handleSelect(team);},isSelected:selected.some(function(row){return row.id===team.id;}),rowIndex:index},team.id);},renderToolbar:function renderToolbar(props){return/*#__PURE__*/_jsx(DataListToolbar,_objectSpread(_objectSpread({},props),{},{isAllSelected:isAllSelected,onSelectAll:selectAll,qsConfig:QS_CONFIG,additionalControls:[].concat(_toConsumableArray(canAdd?[/*#__PURE__*/_jsx(ToolbarAddButton,{onClick:function onClick(){return setIsModalOpen(true);},defaultLabel:/*i18n*/i18n._(\"Associate\")},\"associate\")]:[]),[/*#__PURE__*/_jsx(DisassociateButton,{onDisassociate:handleDisassociate,itemsToDisassociate:selected,modalTitle:/*i18n*/i18n._(\"Disassociate related team(s)?\"),modalNote:/*i18n*/i18n._(\"This action will disassociate all roles for this user from the selected teams.\")},\"disassociate\")]),emptyStateControls:canAdd?/*#__PURE__*/_jsx(ToolbarAddButton,{onClick:function onClick(){return setIsModalOpen(true);}},\"add\"):null}));},toolbarSearchColumns:[{name:/*i18n*/i18n._(\"Name\"),key:'name__icontains',isDefault:true},{name:/*i18n*/i18n._(\"Organization\"),key:'organization__name__icontains'}],toolbarSearchableKeys:searchableKeys,toolbarRelatedSearchableKeys:relatedSearchableKeys}),isModalOpen&&/*#__PURE__*/_jsx(AssociateModal,{header:/*i18n*/i18n._(\"Teams\"),fetchRequest:fetchTeamsToAssociate,isModalOpen:isModalOpen,onAssociate:handleAssociate,onClose:function onClose(){return setIsModalOpen(false);},title:/*i18n*/i18n._(\"Select Teams\"),optionsRequest:readTeamOptions}),error&&/*#__PURE__*/_jsxs(AlertModal,{isOpen:error,onClose:dismissError,title:/*i18n*/i18n._(\"Error!\"),variant:\"error\",children:[associateError?/*i18n*/i18n._(\"Failed to associate.\"):/*i18n*/i18n._(\"Failed to disassociate one or more teams.\"),/*#__PURE__*/_jsx(ErrorDetail,{error:error})]})]});}export default UserTeamList;","map":{"version":3,"names":["React","useState","useCallback","useEffect","useLocation","useParams","PaginatedTable","HeaderRow","HeaderCell","ToolbarAddButton","getSearchableKeys","DataListToolbar","DisassociateButton","AssociateModal","AlertModal","ErrorDetail","useRequest","useDeleteItems","useDismissableError","useSelected","TeamsAPI","UsersAPI","getQSConfig","mergeParams","parseQueryString","UserTeamListItem","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","QS_CONFIG","page","page_size","order_by","UserTeamList","_useState","_useState2","_slicedToArray","isModalOpen","setIsModalOpen","location","_useParams","userId","id","_useRequest","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_actionsResponse$data","_actionsResponse$data2","params","_yield$Promise$all","_yield$Promise$all2","_yield$Promise$all2$","results","teamCount","actionsResponse","usersResponse","wrap","_callee$","_context","prev","next","search","Promise","all","readTeams","readTeamsOptions","readOptions","sent","data","count","abrupt","teams","userOptions","actions","relatedSearchableKeys","related_search_fields","map","val","slice","searchableKeys","GET","stop","roles","_useRequest$result","result","contentError","error","isLoading","fetchTeams","request","_useSelected","selected","isAllSelected","handleSelect","clearSelected","selectAll","disassociateUserRoles","team","disassociateRole","summary_fields","object_roles","admin_role","member_role","read_role","_useDeleteItems","flatMap","qsConfig","allItemsSelected","fetchItems","isDisassociateLoading","disassociateTeams","deleteItems","disassociateError","deletionError","_useRequest2","_ref2","_callee2","teamsToAssociate","_callee2$","_context2","associateRole","_x","apply","arguments","handleAssociate","associateError","handleDisassociate","_ref3","_callee3","_callee3$","_context3","_useDismissableError","dismissError","canAdd","Object","prototype","hasOwnProperty","call","fetchTeamsToAssociate","read","not__member_role__members__id","not__admin_role__members__id","readTeamOptions","children","items","hasContentLoading","itemCount","pluralizedItemName","i18n","_","headerRow","sortKey","renderRow","index","value","name","detailUrl","concat","onSelect","isSelected","some","row","rowIndex","renderToolbar","props","_objectSpread","onSelectAll","additionalControls","_toConsumableArray","onClick","defaultLabel","onDisassociate","itemsToDisassociate","modalTitle","modalNote","emptyStateControls","toolbarSearchColumns","key","isDefault","toolbarSearchableKeys","toolbarRelatedSearchableKeys","header","fetchRequest","onAssociate","onClose","title","optionsRequest","isOpen","variant"],"sources":["/awx_devel/awx/ui/src/screens/User/UserTeams/UserTeamList.js"],"sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { t } from '@lingui/macro';\n\nimport PaginatedTable, {\n  HeaderRow,\n  HeaderCell,\n  ToolbarAddButton,\n  getSearchableKeys,\n} from 'components/PaginatedTable';\nimport DataListToolbar from 'components/DataListToolbar';\nimport DisassociateButton from 'components/DisassociateButton';\nimport AssociateModal from 'components/AssociateModal';\nimport AlertModal from 'components/AlertModal';\nimport ErrorDetail from 'components/ErrorDetail';\nimport useRequest, {\n  useDeleteItems,\n  useDismissableError,\n} from 'hooks/useRequest';\nimport useSelected from 'hooks/useSelected';\nimport { TeamsAPI, UsersAPI } from 'api';\nimport { getQSConfig, mergeParams, parseQueryString } from 'util/qs';\n\nimport UserTeamListItem from './UserTeamListItem';\n\nconst QS_CONFIG = getQSConfig('teams', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\n\nfunction UserTeamList() {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const location = useLocation();\n  const { id: userId } = useParams();\n\n  const {\n    result: {\n      teams,\n      count,\n      userOptions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading,\n    request: fetchTeams,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [\n        {\n          data: { results, count: teamCount },\n        },\n        actionsResponse,\n        usersResponse,\n      ] = await Promise.all([\n        UsersAPI.readTeams(userId, params),\n        UsersAPI.readTeamsOptions(userId),\n        UsersAPI.readOptions(),\n      ]);\n      return {\n        teams: results,\n        count: teamCount,\n        userOptions: usersResponse.data.actions,\n        actions: actionsResponse.data.actions,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map((val) => val.slice(0, -8)),\n        searchableKeys: getSearchableKeys(actionsResponse.data.actions?.GET),\n      };\n    }, [userId, location.search]),\n    {\n      teams: [],\n      count: 0,\n      roles: {},\n      userOptions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchTeams();\n  }, [fetchTeams]);\n\n  const { selected, isAllSelected, handleSelect, clearSelected, selectAll } =\n    useSelected(teams);\n\n  const disassociateUserRoles = (team) => [\n    UsersAPI.disassociateRole(\n      userId,\n      team.summary_fields.object_roles.admin_role.id\n    ),\n    UsersAPI.disassociateRole(\n      userId,\n      team.summary_fields.object_roles.member_role.id\n    ),\n    UsersAPI.disassociateRole(\n      userId,\n      team.summary_fields.object_roles.read_role.id\n    ),\n  ];\n\n  const {\n    isLoading: isDisassociateLoading,\n    deleteItems: disassociateTeams,\n    deletionError: disassociateError,\n  } = useDeleteItems(\n    useCallback(\n      () =>\n        Promise.all(selected.flatMap((team) => disassociateUserRoles(team))),\n      /* eslint-disable-next-line react-hooks/exhaustive-deps */\n      [selected]\n    ),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchTeams,\n    }\n  );\n\n  const { request: handleAssociate, error: associateError } = useRequest(\n    useCallback(\n      async (teamsToAssociate) => {\n        await Promise.all(\n          teamsToAssociate.map((team) =>\n            UsersAPI.associateRole(\n              userId,\n              team.summary_fields.object_roles.member_role.id\n            )\n          )\n        );\n        fetchTeams();\n      },\n      [userId, fetchTeams]\n    )\n  );\n\n  const handleDisassociate = async () => {\n    await disassociateTeams();\n    clearSelected();\n  };\n\n  const { error, dismissError } = useDismissableError(\n    associateError || disassociateError\n  );\n\n  const canAdd =\n    userOptions && Object.prototype.hasOwnProperty.call(userOptions, 'POST');\n\n  const fetchTeamsToAssociate = useCallback(\n    (params) =>\n      TeamsAPI.read(\n        mergeParams(params, {\n          not__member_role__members__id: userId,\n          not__admin_role__members__id: userId,\n        })\n      ),\n    [userId]\n  );\n\n  const readTeamOptions = useCallback(\n    () => UsersAPI.readTeamsOptions(userId),\n    [userId]\n  );\n\n  return (\n    <>\n      <PaginatedTable\n        items={teams}\n        contentError={contentError}\n        hasContentLoading={isLoading || isDisassociateLoading}\n        itemCount={count}\n        pluralizedItemName={t`Teams`}\n        qsConfig={QS_CONFIG}\n        clearSelected={clearSelected}\n        headerRow={\n          <HeaderRow qsConfig={QS_CONFIG}>\n            <HeaderCell sortKey=\"name\">{t`Name`}</HeaderCell>\n            <HeaderCell>{t`Organization`}</HeaderCell>\n            <HeaderCell>{t`Description`}</HeaderCell>\n          </HeaderRow>\n        }\n        renderRow={(team, index) => (\n          <UserTeamListItem\n            key={team.id}\n            value={team.name}\n            team={team}\n            detailUrl={`/teams/${team.id}/details`}\n            onSelect={() => handleSelect(team)}\n            isSelected={selected.some((row) => row.id === team.id)}\n            rowIndex={index}\n          />\n        )}\n        renderToolbar={(props) => (\n          <DataListToolbar\n            {...props}\n            isAllSelected={isAllSelected}\n            onSelectAll={selectAll}\n            qsConfig={QS_CONFIG}\n            additionalControls={[\n              ...(canAdd\n                ? [\n                    <ToolbarAddButton\n                      key=\"associate\"\n                      onClick={() => setIsModalOpen(true)}\n                      defaultLabel={t`Associate`}\n                    />,\n                  ]\n                : []),\n              <DisassociateButton\n                key=\"disassociate\"\n                onDisassociate={handleDisassociate}\n                itemsToDisassociate={selected}\n                modalTitle={t`Disassociate related team(s)?`}\n                modalNote={t`This action will disassociate all roles for this user from the selected teams.`}\n              />,\n            ]}\n            emptyStateControls={\n              canAdd ? (\n                <ToolbarAddButton\n                  key=\"add\"\n                  onClick={() => setIsModalOpen(true)}\n                />\n              ) : null\n            }\n          />\n        )}\n        toolbarSearchColumns={[\n          {\n            name: t`Name`,\n            key: 'name__icontains',\n            isDefault: true,\n          },\n          {\n            name: t`Organization`,\n            key: 'organization__name__icontains',\n          },\n        ]}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n      />\n      {isModalOpen && (\n        <AssociateModal\n          header={t`Teams`}\n          fetchRequest={fetchTeamsToAssociate}\n          isModalOpen={isModalOpen}\n          onAssociate={handleAssociate}\n          onClose={() => setIsModalOpen(false)}\n          title={t`Select Teams`}\n          optionsRequest={readTeamOptions}\n        />\n      )}\n      {error && (\n        <AlertModal\n          isOpen={error}\n          onClose={dismissError}\n          title={t`Error!`}\n          variant=\"error\"\n        >\n          {associateError\n            ? t`Failed to associate.`\n            : t`Failed to disassociate one or more teams.`}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nexport default UserTeamList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}