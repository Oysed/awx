{"ast":null,"code":"import _objectSpread from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectWithoutProperties from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"id\",\"name\",\"label\",\"tooltip\",\"helperText\",\"validate\",\"isRequired\",\"mode\"];import React from'react';import{useField}from'formik';import{FormGroup}from'@patternfly/react-core';import CodeEditor from'./CodeEditor';import Popover from'../Popover';import{jsx as _jsx}from\"react/jsx-runtime\";function CodeEditorField(_ref){var id=_ref.id,name=_ref.name,label=_ref.label,tooltip=_ref.tooltip,helperText=_ref.helperText,validate=_ref.validate,isRequired=_ref.isRequired,mode=_ref.mode,rest=_objectWithoutProperties(_ref,_excluded);var _useField=useField({name:name,validate:validate}),_useField2=_slicedToArray(_useField,3),field=_useField2[0],meta=_useField2[1],helpers=_useField2[2];var isValid=!(meta.touched&&meta.error);return/*#__PURE__*/_jsx(FormGroup,{id:\"\".concat(id,\"-field\"),fieldId:id,helperText:helperText,helperTextInvalid:meta.error,isRequired:isRequired,validated:isValid?'default':'error',label:label,labelIcon:/*#__PURE__*/_jsx(Popover,{content:tooltip}),children:/*#__PURE__*/_jsx(CodeEditor,_objectSpread(_objectSpread(_objectSpread({id:id},rest),field),{},{onChange:function onChange(value){helpers.setValue(value);},mode:mode}))});}CodeEditorField.defaultProps={helperText:'',validate:function validate(){},isRequired:false,tooltip:null,rows:5};export default CodeEditorField;","map":{"version":3,"names":["React","useField","FormGroup","CodeEditor","Popover","jsx","_jsx","CodeEditorField","_ref","id","name","label","tooltip","helperText","validate","isRequired","mode","rest","_objectWithoutProperties","_excluded","_useField","_useField2","_slicedToArray","field","meta","helpers","isValid","touched","error","concat","fieldId","helperTextInvalid","validated","labelIcon","content","children","_objectSpread","onChange","value","setValue","defaultProps","rows"],"sources":["/awx_devel/awx/ui/src/components/CodeEditor/CodeEditorField.js"],"sourcesContent":["import React from 'react';\nimport {\n  string,\n  oneOfType,\n  object,\n  func,\n  bool,\n  node,\n  oneOf,\n  number,\n} from 'prop-types';\nimport { useField } from 'formik';\nimport { FormGroup } from '@patternfly/react-core';\nimport CodeEditor from './CodeEditor';\nimport Popover from '../Popover';\n\nfunction CodeEditorField({\n  id,\n  name,\n  label,\n  tooltip,\n  helperText,\n  validate,\n  isRequired,\n  mode,\n  ...rest\n}) {\n  const [field, meta, helpers] = useField({ name, validate });\n  const isValid = !(meta.touched && meta.error);\n\n  return (\n    <FormGroup\n      id={`${id}-field`}\n      fieldId={id}\n      helperText={helperText}\n      helperTextInvalid={meta.error}\n      isRequired={isRequired}\n      validated={isValid ? 'default' : 'error'}\n      label={label}\n      labelIcon={<Popover content={tooltip} />}\n    >\n      <CodeEditor\n        id={id}\n        {...rest}\n        {...field}\n        onChange={(value) => {\n          helpers.setValue(value);\n        }}\n        mode={mode}\n      />\n    </FormGroup>\n  );\n}\nCodeEditorField.propTypes = {\n  helperText: string,\n  id: string.isRequired,\n  name: string.isRequired,\n  label: oneOfType([object, string]).isRequired,\n  validate: func,\n  isRequired: bool,\n  tooltip: node,\n  mode: oneOf(['javascript', 'yaml', 'jinja2']).isRequired,\n  rows: number,\n};\n\nCodeEditorField.defaultProps = {\n  helperText: '',\n  validate: () => {},\n  isRequired: false,\n  tooltip: null,\n  rows: 5,\n};\n\nexport default CodeEditorField;\n"],"mappings":"kaAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAWzB,OAASC,QAAQ,KAAQ,QAAQ,CACjC,OAASC,SAAS,KAAQ,wBAAwB,CAClD,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,OAAO,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEjC,QAAS,CAAAC,eAAeA,CAAAC,IAAA,CAUrB,IATD,CAAAC,EAAE,CAAAD,IAAA,CAAFC,EAAE,CACFC,IAAI,CAAAF,IAAA,CAAJE,IAAI,CACJC,KAAK,CAAAH,IAAA,CAALG,KAAK,CACLC,OAAO,CAAAJ,IAAA,CAAPI,OAAO,CACPC,UAAU,CAAAL,IAAA,CAAVK,UAAU,CACVC,QAAQ,CAAAN,IAAA,CAARM,QAAQ,CACRC,UAAU,CAAAP,IAAA,CAAVO,UAAU,CACVC,IAAI,CAAAR,IAAA,CAAJQ,IAAI,CACDC,IAAI,CAAAC,wBAAA,CAAAV,IAAA,CAAAW,SAAA,EAEP,IAAAC,SAAA,CAA+BnB,QAAQ,CAAC,CAAES,IAAI,CAAJA,IAAI,CAAEI,QAAQ,CAARA,QAAS,CAAC,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAApDG,KAAK,CAAAF,UAAA,IAAEG,IAAI,CAAAH,UAAA,IAAEI,OAAO,CAAAJ,UAAA,IAC3B,GAAM,CAAAK,OAAO,CAAG,EAAEF,IAAI,CAACG,OAAO,EAAIH,IAAI,CAACI,KAAK,CAAC,CAE7C,mBACEtB,IAAA,CAACJ,SAAS,EACRO,EAAE,IAAAoB,MAAA,CAAKpB,EAAE,UAAS,CAClBqB,OAAO,CAAErB,EAAG,CACZI,UAAU,CAAEA,UAAW,CACvBkB,iBAAiB,CAAEP,IAAI,CAACI,KAAM,CAC9Bb,UAAU,CAAEA,UAAW,CACvBiB,SAAS,CAAEN,OAAO,CAAG,SAAS,CAAG,OAAQ,CACzCf,KAAK,CAAEA,KAAM,CACbsB,SAAS,cAAE3B,IAAA,CAACF,OAAO,EAAC8B,OAAO,CAAEtB,OAAQ,CAAE,CAAE,CAAAuB,QAAA,cAEzC7B,IAAA,CAACH,UAAU,CAAAiC,aAAA,CAAAA,aAAA,CAAAA,aAAA,EACT3B,EAAE,CAAEA,EAAG,EACHQ,IAAI,EACJM,KAAK,MACTc,QAAQ,CAAE,SAAAA,SAACC,KAAK,CAAK,CACnBb,OAAO,CAACc,QAAQ,CAACD,KAAK,CAAC,CACzB,CAAE,CACFtB,IAAI,CAAEA,IAAK,EACZ,CAAC,CACO,CAAC,CAEhB,CAaAT,eAAe,CAACiC,YAAY,CAAG,CAC7B3B,UAAU,CAAE,EAAE,CACdC,QAAQ,CAAE,SAAAA,SAAA,CAAM,CAAC,CAAC,CAClBC,UAAU,CAAE,KAAK,CACjBH,OAAO,CAAE,IAAI,CACb6B,IAAI,CAAE,CACR,CAAC,CAED,cAAe,CAAAlC,eAAe"},"metadata":{},"sourceType":"module"}