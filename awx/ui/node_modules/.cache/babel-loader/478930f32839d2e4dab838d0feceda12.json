{"ast":null,"code":"import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import{i18n}from\"@lingui/core\";import React from'react';import{Tooltip}from'@patternfly/react-core';import{ExclamationCircleIcon as PFExclamationCircleIcon}from'@patternfly/react-icons';import styled from'styled-components';import{VERBOSITY}from'../VerbositySelectField';import{toTitleCase}from'../../util/strings';import{VariablesDetail}from'../CodeEditor';import{jsonToYaml}from'../../util/yaml';import{DetailList,Detail}from'../DetailList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ExclamationCircleIcon=styled(PFExclamationCircleIcon)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  margin-left: 10px;\\n  margin-top: -2px;\\n\"])));var ErrorMessageWrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  align-items: center;\\n  color: var(--pf-global--danger-color--200);\\n  display: flex;\\n  font-weight: var(--pf-global--FontWeight--bold);\\n  margin-bottom: 10px;\\n\"])));function AdHocPreviewStep(_ref){var _credential$,_execution_environmen;var hasErrors=_ref.hasErrors,values=_ref.values;var credential=values.credential,execution_environment=values.execution_environment,extra_vars=values.extra_vars,verbosity=values.verbosity;var items=Object.entries(values);return/*#__PURE__*/_jsxs(_Fragment,{children:[hasErrors&&/*#__PURE__*/_jsxs(ErrorMessageWrapper,{children:[/*i18n*/i18n._(\"Some of the previous step(s) have errors\"),/*#__PURE__*/_jsx(Tooltip,{position:\"right\",content:/*i18n*/i18n._(\"See errors on the left\"),trigger:\"click mouseenter focus\",children:/*#__PURE__*/_jsx(ExclamationCircleIcon,{})})]}),/*#__PURE__*/_jsxs(DetailList,{gutter:\"sm\",children:[items.map(function(_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],value=_ref3[1];return key!=='extra_vars'&&key!=='execution_environment'&&key!=='credentials'&&key!=='verbosity'&&!key.startsWith('credential_passwords')&&/*#__PURE__*/_jsx(Detail,{label:toTitleCase(key),value:value},key);}),credential&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Credential\"),value:(_credential$=credential[0])===null||_credential$===void 0?void 0:_credential$.name}),execution_environment&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Execution Environment\"),value:(_execution_environmen=execution_environment[0])===null||_execution_environmen===void 0?void 0:_execution_environmen.name}),verbosity&&/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Verbosity\"),value:VERBOSITY()[values.verbosity]}),extra_vars&&/*#__PURE__*/_jsx(VariablesDetail,{value:jsonToYaml(JSON.stringify(extra_vars)),rows:4,label:/*i18n*/i18n._(\"Variables\"),name:\"extra_vars\"})]})]});}export default AdHocPreviewStep;","map":{"version":3,"names":["React","Tooltip","ExclamationCircleIcon","PFExclamationCircleIcon","styled","VERBOSITY","toTitleCase","VariablesDetail","jsonToYaml","DetailList","Detail","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","_templateObject","_taggedTemplateLiteral","ErrorMessageWrapper","div","_templateObject2","AdHocPreviewStep","_ref","_credential$","_execution_environmen","hasErrors","values","credential","execution_environment","extra_vars","verbosity","items","Object","entries","children","i18n","_","position","content","trigger","gutter","map","_ref2","_ref3","_slicedToArray","key","value","startsWith","label","name","JSON","stringify","rows"],"sources":["/awx_devel/awx/ui/src/components/AdHocCommands/AdHocPreviewStep.js"],"sourcesContent":["import React from 'react';\nimport { t } from '@lingui/macro';\nimport { Tooltip } from '@patternfly/react-core';\nimport { ExclamationCircleIcon as PFExclamationCircleIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport { VERBOSITY } from '../VerbositySelectField';\nimport { toTitleCase } from '../../util/strings';\nimport { VariablesDetail } from '../CodeEditor';\nimport { jsonToYaml } from '../../util/yaml';\nimport { DetailList, Detail } from '../DetailList';\n\nconst ExclamationCircleIcon = styled(PFExclamationCircleIcon)`\n  margin-left: 10px;\n  margin-top: -2px;\n`;\n\nconst ErrorMessageWrapper = styled.div`\n  align-items: center;\n  color: var(--pf-global--danger-color--200);\n  display: flex;\n  font-weight: var(--pf-global--FontWeight--bold);\n  margin-bottom: 10px;\n`;\nfunction AdHocPreviewStep({ hasErrors, values }) {\n  const { credential, execution_environment, extra_vars, verbosity } = values;\n\n  const items = Object.entries(values);\n  return (\n    <>\n      {hasErrors && (\n        <ErrorMessageWrapper>\n          {t`Some of the previous step(s) have errors`}\n          <Tooltip\n            position=\"right\"\n            content={t`See errors on the left`}\n            trigger=\"click mouseenter focus\"\n          >\n            <ExclamationCircleIcon />\n          </Tooltip>\n        </ErrorMessageWrapper>\n      )}\n      <DetailList gutter=\"sm\">\n        {items.map(\n          ([key, value]) =>\n            key !== 'extra_vars' &&\n            key !== 'execution_environment' &&\n            key !== 'credentials' &&\n            key !== 'verbosity' &&\n            !key.startsWith('credential_passwords') && (\n              <Detail key={key} label={toTitleCase(key)} value={value} />\n            )\n        )}\n        {credential && (\n          <Detail label={t`Credential`} value={credential[0]?.name} />\n        )}\n        {execution_environment && (\n          <Detail\n            label={t`Execution Environment`}\n            value={execution_environment[0]?.name}\n          />\n        )}\n        {verbosity && (\n          <Detail label={t`Verbosity`} value={VERBOSITY()[values.verbosity]} />\n        )}\n        {extra_vars && (\n          <VariablesDetail\n            value={jsonToYaml(JSON.stringify(extra_vars))}\n            rows={4}\n            label={t`Variables`}\n            name=\"extra_vars\"\n          />\n        )}\n      </DetailList>\n    </>\n  );\n}\n\nexport default AdHocPreviewStep;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}