{"ast":null,"code":"import{i18n}from\"@lingui/core\";import{formatDateString}from'util/dates';export function getTooltip(workflowApproval){if(workflowApproval.status==='successful'){var _workflowApproval$sum,_workflowApproval$sum2;if((_workflowApproval$sum=workflowApproval.summary_fields)!==null&&_workflowApproval$sum!==void 0&&(_workflowApproval$sum2=_workflowApproval$sum.approved_or_denied_by)!==null&&_workflowApproval$sum2!==void 0&&_workflowApproval$sum2.username){return(/*i18n*/i18n._(\"Approved by {0} - {1}\",{0:workflowApproval.summary_fields.approved_or_denied_by.username,1:formatDateString(workflowApproval.finished)}));}return(/*i18n*/i18n._(\"Approved - {0}.  See the Activity Stream for more information.\",{0:formatDateString(workflowApproval.finished)}));}if(workflowApproval.status==='failed'&&workflowApproval.failed){var _workflowApproval$sum3,_workflowApproval$sum4;if((_workflowApproval$sum3=workflowApproval.summary_fields)!==null&&_workflowApproval$sum3!==void 0&&(_workflowApproval$sum4=_workflowApproval$sum3.approved_or_denied_by)!==null&&_workflowApproval$sum4!==void 0&&_workflowApproval$sum4.username){return(/*i18n*/i18n._(\"Denied by {0} - {1}\",{0:workflowApproval.summary_fields.approved_or_denied_by.username,1:formatDateString(workflowApproval.finished)}));}return(/*i18n*/i18n._(\"Denied - {0}.  See the Activity Stream for more information.\",{0:formatDateString(workflowApproval.finished)}));}return'';}export function getStatus(workflowApproval){if(workflowApproval.timed_out){return'timedOut';}if(workflowApproval.canceled_on){return(/*i18n*/i18n._(\"canceled\"));}if(workflowApproval.status==='failed'&&workflowApproval.failed){return(/*i18n*/i18n._(\"denied\"));}if(workflowApproval.status==='successful'){return'approved';}return workflowApproval.status;}export function getPendingLabel(workflowApproval){if(!workflowApproval.approval_expiration){return(/*i18n*/i18n._(\"Never expires\"));}return(/*i18n*/i18n._(\"Expires on {0}\",{0:formatDateString(workflowApproval.approval_expiration)}));}export function getDetailPendingLabel(workflowApproval){if(!workflowApproval.approval_expiration){return(/*i18n*/i18n._(\"Never\"));}return\"\".concat(formatDateString(workflowApproval.approval_expiration));}","map":{"version":3,"names":["formatDateString","getTooltip","workflowApproval","status","_workflowApproval$sum","_workflowApproval$sum2","summary_fields","approved_or_denied_by","username","i18n","_","0","1","finished","failed","_workflowApproval$sum3","_workflowApproval$sum4","getStatus","timed_out","canceled_on","getPendingLabel","approval_expiration","getDetailPendingLabel","concat"],"sources":["/awx_devel/awx/ui/src/screens/WorkflowApproval/shared/WorkflowApprovalUtils.js"],"sourcesContent":["import { t } from '@lingui/macro';\nimport { formatDateString } from 'util/dates';\n\nexport function getTooltip(workflowApproval) {\n  if (workflowApproval.status === 'successful') {\n    if (workflowApproval.summary_fields?.approved_or_denied_by?.username) {\n      return t`Approved by ${\n        workflowApproval.summary_fields.approved_or_denied_by.username\n      } - ${formatDateString(workflowApproval.finished)}`;\n    }\n    return t`Approved - ${formatDateString(\n      workflowApproval.finished\n    )}.  See the Activity Stream for more information.`;\n  }\n  if (workflowApproval.status === 'failed' && workflowApproval.failed) {\n    if (workflowApproval.summary_fields?.approved_or_denied_by?.username) {\n      return t`Denied by ${\n        workflowApproval.summary_fields.approved_or_denied_by.username\n      } - ${formatDateString(workflowApproval.finished)}`;\n    }\n    return t`Denied - ${formatDateString(\n      workflowApproval.finished\n    )}.  See the Activity Stream for more information.`;\n  }\n  return '';\n}\n\nexport function getStatus(workflowApproval) {\n  if (workflowApproval.timed_out) {\n    return 'timedOut';\n  }\n\n  if (workflowApproval.canceled_on) {\n    return t`canceled`;\n  }\n  if (workflowApproval.status === 'failed' && workflowApproval.failed) {\n    return t`denied`;\n  }\n  if (workflowApproval.status === 'successful') {\n    return 'approved';\n  }\n  return workflowApproval.status;\n}\n\nexport function getPendingLabel(workflowApproval) {\n  if (!workflowApproval.approval_expiration) {\n    return t`Never expires`;\n  }\n\n  return t`Expires on ${formatDateString(\n    workflowApproval.approval_expiration\n  )}`;\n}\n\nexport function getDetailPendingLabel(workflowApproval) {\n  if (!workflowApproval.approval_expiration) {\n    return t`Never`;\n  }\n\n  return `${formatDateString(workflowApproval.approval_expiration)}`;\n}\n"],"mappings":"+BACA,OAASA,gBAAgB,KAAQ,YAAY,CAE7C,MAAO,SAAS,CAAAC,UAAUA,CAACC,gBAAgB,CAAE,CAC3C,GAAIA,gBAAgB,CAACC,MAAM,GAAK,YAAY,CAAE,KAAAC,qBAAA,CAAAC,sBAAA,CAC5C,IAAAD,qBAAA,CAAIF,gBAAgB,CAACI,cAAc,UAAAF,qBAAA,YAAAC,sBAAA,CAA/BD,qBAAA,CAAiCG,qBAAqB,UAAAF,sBAAA,WAAtDA,sBAAA,CAAwDG,QAAQ,CAAE,CACpE,eAAOC,IAAA,CAAAC,CAAA,0BAAAC,CAAA,CACLT,gBAAgB,CAACI,cAAc,CAACC,qBAAqB,CAACC,QAAQ,CAAAI,CAAA,CAC1DZ,gBAAgB,CAACE,gBAAgB,CAACW,QAAQ,CAAC,CAAC,CAAC,EACrD,CACA,eAAOJ,IAAA,CAAAC,CAAA,mEAAAC,CAAA,CAAeX,gBAAgB,CACpCE,gBAAgB,CAACW,QACnB,CAAC,CAAiD,CAAC,EACrD,CACA,GAAIX,gBAAgB,CAACC,MAAM,GAAK,QAAQ,EAAID,gBAAgB,CAACY,MAAM,CAAE,KAAAC,sBAAA,CAAAC,sBAAA,CACnE,IAAAD,sBAAA,CAAIb,gBAAgB,CAACI,cAAc,UAAAS,sBAAA,YAAAC,sBAAA,CAA/BD,sBAAA,CAAiCR,qBAAqB,UAAAS,sBAAA,WAAtDA,sBAAA,CAAwDR,QAAQ,CAAE,CACpE,eAAOC,IAAA,CAAAC,CAAA,wBAAAC,CAAA,CACLT,gBAAgB,CAACI,cAAc,CAACC,qBAAqB,CAACC,QAAQ,CAAAI,CAAA,CAC1DZ,gBAAgB,CAACE,gBAAgB,CAACW,QAAQ,CAAC,CAAC,CAAC,EACrD,CACA,eAAOJ,IAAA,CAAAC,CAAA,iEAAAC,CAAA,CAAaX,gBAAgB,CAClCE,gBAAgB,CAACW,QACnB,CAAC,CAAiD,CAAC,EACrD,CACA,MAAO,EAAE,CACX,CAEA,MAAO,SAAS,CAAAI,SAASA,CAACf,gBAAgB,CAAE,CAC1C,GAAIA,gBAAgB,CAACgB,SAAS,CAAE,CAC9B,MAAO,UAAU,CACnB,CAEA,GAAIhB,gBAAgB,CAACiB,WAAW,CAAE,CAChC,eAAOV,IAAA,CAAAC,CAAA,WAAU,CAAC,EACpB,CACA,GAAIR,gBAAgB,CAACC,MAAM,GAAK,QAAQ,EAAID,gBAAgB,CAACY,MAAM,CAAE,CACnE,eAAOL,IAAA,CAAAC,CAAA,SAAQ,CAAC,EAClB,CACA,GAAIR,gBAAgB,CAACC,MAAM,GAAK,YAAY,CAAE,CAC5C,MAAO,UAAU,CACnB,CACA,MAAO,CAAAD,gBAAgB,CAACC,MAAM,CAChC,CAEA,MAAO,SAAS,CAAAiB,eAAeA,CAAClB,gBAAgB,CAAE,CAChD,GAAI,CAACA,gBAAgB,CAACmB,mBAAmB,CAAE,CACzC,eAAOZ,IAAA,CAAAC,CAAA,gBAAe,CAAC,EACzB,CAEA,eAAOD,IAAA,CAAAC,CAAA,mBAAAC,CAAA,CAAeX,gBAAgB,CACpCE,gBAAgB,CAACmB,mBACnB,CAAC,CAAC,CAAC,EACL,CAEA,MAAO,SAAS,CAAAC,qBAAqBA,CAACpB,gBAAgB,CAAE,CACtD,GAAI,CAACA,gBAAgB,CAACmB,mBAAmB,CAAE,CACzC,eAAOZ,IAAA,CAAAC,CAAA,QAAO,CAAC,EACjB,CAEA,SAAAa,MAAA,CAAUvB,gBAAgB,CAACE,gBAAgB,CAACmB,mBAAmB,CAAC,EAClE"},"metadata":{},"sourceType":"module"}