{"ast":null,"code":"import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{i18n}from\"@lingui/core\";import React,{useCallback}from'react';import{useField,useFormikContext}from'formik';import getDocsBaseUrl from'util/getDocsBaseUrl';import{useConfig}from'contexts/Config';import CredentialLookup from'components/Lookup/CredentialLookup';import{OptionsField,SourceVarsField,VerbosityField,EnabledVarField,EnabledValueField,HostFilterField}from'./SharedFields';import getHelpText from'../Inventory.helptext';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EC2SubForm=function EC2SubForm(){var helpText=getHelpText();var _useFormikContext=useFormikContext(),setFieldValue=_useFormikContext.setFieldValue,setFieldTouched=_useFormikContext.setFieldTouched;var _useField=useField('credential'),_useField2=_slicedToArray(_useField,2),credentialField=_useField2[0],credentialMeta=_useField2[1];var config=useConfig();var handleCredentialUpdate=useCallback(function(value){setFieldValue('credential',value);setFieldTouched('credential',true,false);},[setFieldValue,setFieldTouched]);var docsBaseUrl=getDocsBaseUrl(config);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CredentialLookup,{helperTextInvalid:credentialMeta.error,isValid:!credentialMeta.touched||!credentialMeta.error,credentialTypeNamespace:\"aws\",label:/*i18n*/i18n._(\"Credential\"),value:credentialField.value,onChange:handleCredentialUpdate}),/*#__PURE__*/_jsx(VerbosityField,{}),/*#__PURE__*/_jsx(HostFilterField,{}),/*#__PURE__*/_jsx(EnabledVarField,{}),/*#__PURE__*/_jsx(EnabledValueField,{}),/*#__PURE__*/_jsx(OptionsField,{}),/*#__PURE__*/_jsx(SourceVarsField,{popoverContent:helpText.sourceVars(docsBaseUrl,'ec2')})]});};export default EC2SubForm;","map":{"version":3,"names":["React","useCallback","useField","useFormikContext","getDocsBaseUrl","useConfig","CredentialLookup","OptionsField","SourceVarsField","VerbosityField","EnabledVarField","EnabledValueField","HostFilterField","getHelpText","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","EC2SubForm","helpText","_useFormikContext","setFieldValue","setFieldTouched","_useField","_useField2","_slicedToArray","credentialField","credentialMeta","config","handleCredentialUpdate","value","docsBaseUrl","children","helperTextInvalid","error","isValid","touched","credentialTypeNamespace","label","i18n","_","onChange","popoverContent","sourceVars"],"sources":["/awx_devel/awx/ui/src/screens/Inventory/shared/InventorySourceSubForms/EC2SubForm.js"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { useField, useFormikContext } from 'formik';\nimport { t } from '@lingui/macro';\nimport getDocsBaseUrl from 'util/getDocsBaseUrl';\nimport { useConfig } from 'contexts/Config';\nimport CredentialLookup from 'components/Lookup/CredentialLookup';\nimport {\n  OptionsField,\n  SourceVarsField,\n  VerbosityField,\n  EnabledVarField,\n  EnabledValueField,\n  HostFilterField,\n} from './SharedFields';\nimport getHelpText from '../Inventory.helptext';\n\nconst EC2SubForm = () => {\n  const helpText = getHelpText();\n  const { setFieldValue, setFieldTouched } = useFormikContext();\n  const [credentialField, credentialMeta] = useField('credential');\n  const config = useConfig();\n  const handleCredentialUpdate = useCallback(\n    (value) => {\n      setFieldValue('credential', value);\n      setFieldTouched('credential', true, false);\n    },\n    [setFieldValue, setFieldTouched]\n  );\n  const docsBaseUrl = getDocsBaseUrl(config);\n\n  return (\n    <>\n      <CredentialLookup\n        helperTextInvalid={credentialMeta.error}\n        isValid={!credentialMeta.touched || !credentialMeta.error}\n        credentialTypeNamespace=\"aws\"\n        label={t`Credential`}\n        value={credentialField.value}\n        onChange={handleCredentialUpdate}\n      />\n      <VerbosityField />\n      <HostFilterField />\n      <EnabledVarField />\n      <EnabledValueField />\n      <OptionsField />\n      <SourceVarsField\n        popoverContent={helpText.sourceVars(docsBaseUrl, 'ec2')}\n      />\n    </>\n  );\n};\n\nexport default EC2SubForm;\n"],"mappings":"sIAAA,MAAO,CAAAA,KAAK,EAAIC,WAAW,KAAQ,OAAO,CAC1C,OAASC,QAAQ,CAAEC,gBAAgB,KAAQ,QAAQ,CAEnD,MAAO,CAAAC,cAAc,KAAM,qBAAqB,CAChD,OAASC,SAAS,KAAQ,iBAAiB,CAC3C,MAAO,CAAAC,gBAAgB,KAAM,oCAAoC,CACjE,OACEC,YAAY,CACZC,eAAe,CACfC,cAAc,CACdC,eAAe,CACfC,iBAAiB,CACjBC,eAAe,KACV,gBAAgB,CACvB,MAAO,CAAAC,WAAW,KAAM,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhD,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvB,GAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,IAAAS,iBAAA,CAA2CnB,gBAAgB,CAAC,CAAC,CAArDoB,aAAa,CAAAD,iBAAA,CAAbC,aAAa,CAAEC,eAAe,CAAAF,iBAAA,CAAfE,eAAe,CACtC,IAAAC,SAAA,CAA0CvB,QAAQ,CAAC,YAAY,CAAC,CAAAwB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzDG,eAAe,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IACtC,GAAM,CAAAI,MAAM,CAAGzB,SAAS,CAAC,CAAC,CAC1B,GAAM,CAAA0B,sBAAsB,CAAG9B,WAAW,CACxC,SAAC+B,KAAK,CAAK,CACTT,aAAa,CAAC,YAAY,CAAES,KAAK,CAAC,CAClCR,eAAe,CAAC,YAAY,CAAE,IAAI,CAAE,KAAK,CAAC,CAC5C,CAAC,CACD,CAACD,aAAa,CAAEC,eAAe,CACjC,CAAC,CACD,GAAM,CAAAS,WAAW,CAAG7B,cAAc,CAAC0B,MAAM,CAAC,CAE1C,mBACEX,KAAA,CAAAF,SAAA,EAAAiB,QAAA,eACEnB,IAAA,CAACT,gBAAgB,EACf6B,iBAAiB,CAAEN,cAAc,CAACO,KAAM,CACxCC,OAAO,CAAE,CAACR,cAAc,CAACS,OAAO,EAAI,CAACT,cAAc,CAACO,KAAM,CAC1DG,uBAAuB,CAAC,KAAK,CAC7BC,KAAK,SAAEC,IAAA,CAAAC,CAAA,aAAY,CAAE,CACrBV,KAAK,CAAEJ,eAAe,CAACI,KAAM,CAC7BW,QAAQ,CAAEZ,sBAAuB,CAClC,CAAC,cACFhB,IAAA,CAACN,cAAc,GAAE,CAAC,cAClBM,IAAA,CAACH,eAAe,GAAE,CAAC,cACnBG,IAAA,CAACL,eAAe,GAAE,CAAC,cACnBK,IAAA,CAACJ,iBAAiB,GAAE,CAAC,cACrBI,IAAA,CAACR,YAAY,GAAE,CAAC,cAChBQ,IAAA,CAACP,eAAe,EACdoC,cAAc,CAAEvB,QAAQ,CAACwB,UAAU,CAACZ,WAAW,CAAE,KAAK,CAAE,CACzD,CAAC,EACF,CAAC,CAEP,CAAC,CAED,cAAe,CAAAb,UAAU"},"metadata":{},"sourceType":"module"}