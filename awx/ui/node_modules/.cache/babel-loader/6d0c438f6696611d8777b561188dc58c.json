{"ast":null,"code":"import _taggedTemplateLiteral from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import React from'react';import styled from'styled-components';import{PauseIcon}from'@patternfly/react-icons';import{jsx as _jsx}from\"react/jsx-runtime\";var NodeTypeLetter=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  background-color: #393f43;\\n  border-radius: 50%;\\n  color: white;\\n  font-size: 10px;\\n  line-height: 20px;\\n  text-align: center;\\n  height: 20px;\\n  width: 20px;\\n\"])));var CenteredPauseIcon=styled(PauseIcon)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  vertical-align: middle !important;\\n\"])));function WorkflowNodeTypeLetter(_ref){var _node$originalNodeObj,_node$originalNodeObj2,_node$originalNodeObj3,_node$originalNodeObj4,_node$job;var node=_ref.node;if(!(node!==null&&node!==void 0&&node.fullUnifiedJobTemplate)&&!(node!==null&&node!==void 0&&(_node$originalNodeObj=node.originalNodeObject)!==null&&_node$originalNodeObj!==void 0&&(_node$originalNodeObj2=_node$originalNodeObj.summary_fields)!==null&&_node$originalNodeObj2!==void 0&&_node$originalNodeObj2.unified_job_template)){return null;}var unifiedJobTemplate=(node===null||node===void 0?void 0:node.fullUnifiedJobTemplate)||(node===null||node===void 0?void 0:(_node$originalNodeObj3=node.originalNodeObject)===null||_node$originalNodeObj3===void 0?void 0:(_node$originalNodeObj4=_node$originalNodeObj3.summary_fields)===null||_node$originalNodeObj4===void 0?void 0:_node$originalNodeObj4.unified_job_template);var nodeTypeLetter;if(unifiedJobTemplate.type||unifiedJobTemplate.unified_job_type||node!==null&&node!==void 0&&(_node$job=node.job)!==null&&_node$job!==void 0&&_node$job.type){var ujtType=unifiedJobTemplate.type||unifiedJobTemplate.unified_job_type||node.job.type;switch(ujtType){case'job_template':case'job':nodeTypeLetter='JT';break;case'project':case'project_update':nodeTypeLetter='P';break;case'inventory_source':case'inventory_update':nodeTypeLetter='I';break;case'system_job_template':case'system_job':nodeTypeLetter='M';break;case'workflow_job_template':case'workflow_job':nodeTypeLetter='W';break;case'workflow_approval_template':case'workflow_approval':nodeTypeLetter=/*#__PURE__*/_jsx(CenteredPauseIcon,{});break;default:nodeTypeLetter='';}}return/*#__PURE__*/_jsx(\"foreignObject\",{y:\"50\",x:\"-10\",height:\"20\",width:\"20\",children:/*#__PURE__*/_jsx(NodeTypeLetter,{id:\"node-\".concat(node.id,\"-type-letter\"),children:nodeTypeLetter})});}export default WorkflowNodeTypeLetter;","map":{"version":3,"names":["React","styled","PauseIcon","jsx","_jsx","NodeTypeLetter","div","_templateObject","_taggedTemplateLiteral","CenteredPauseIcon","_templateObject2","WorkflowNodeTypeLetter","_ref","_node$originalNodeObj","_node$originalNodeObj2","_node$originalNodeObj3","_node$originalNodeObj4","_node$job","node","fullUnifiedJobTemplate","originalNodeObject","summary_fields","unified_job_template","unifiedJobTemplate","nodeTypeLetter","type","unified_job_type","job","ujtType","y","x","height","width","children","id","concat"],"sources":["/awx_devel/awx/ui/src/components/Workflow/WorkflowNodeTypeLetter.js"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport { shape } from 'prop-types';\nimport { PauseIcon } from '@patternfly/react-icons';\n\nconst NodeTypeLetter = styled.div`\n  background-color: #393f43;\n  border-radius: 50%;\n  color: white;\n  font-size: 10px;\n  line-height: 20px;\n  text-align: center;\n  height: 20px;\n  width: 20px;\n`;\n\nconst CenteredPauseIcon = styled(PauseIcon)`\n  vertical-align: middle !important;\n`;\n\nfunction WorkflowNodeTypeLetter({ node }) {\n  if (\n    !node?.fullUnifiedJobTemplate &&\n    !node?.originalNodeObject?.summary_fields?.unified_job_template\n  ) {\n    return null;\n  }\n\n  const unifiedJobTemplate =\n    node?.fullUnifiedJobTemplate ||\n    node?.originalNodeObject?.summary_fields?.unified_job_template;\n\n  let nodeTypeLetter;\n  if (\n    unifiedJobTemplate.type ||\n    unifiedJobTemplate.unified_job_type ||\n    node?.job?.type\n  ) {\n    const ujtType =\n      unifiedJobTemplate.type ||\n      unifiedJobTemplate.unified_job_type ||\n      node.job.type;\n    switch (ujtType) {\n      case 'job_template':\n      case 'job':\n        nodeTypeLetter = 'JT';\n        break;\n      case 'project':\n      case 'project_update':\n        nodeTypeLetter = 'P';\n        break;\n      case 'inventory_source':\n      case 'inventory_update':\n        nodeTypeLetter = 'I';\n        break;\n      case 'system_job_template':\n      case 'system_job':\n        nodeTypeLetter = 'M';\n        break;\n      case 'workflow_job_template':\n      case 'workflow_job':\n        nodeTypeLetter = 'W';\n        break;\n      case 'workflow_approval_template':\n      case 'workflow_approval':\n        nodeTypeLetter = <CenteredPauseIcon />;\n        break;\n      default:\n        nodeTypeLetter = '';\n    }\n  }\n\n  return (\n    <foreignObject y=\"50\" x=\"-10\" height=\"20\" width=\"20\">\n      <NodeTypeLetter id={`node-${node.id}-type-letter`}>\n        {nodeTypeLetter}\n      </NodeTypeLetter>\n    </foreignObject>\n  );\n}\n\nWorkflowNodeTypeLetter.propTypes = {\n  node: shape().isRequired,\n};\n\nexport default WorkflowNodeTypeLetter;\n"],"mappings":"4JAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CAEtC,OAASC,SAAS,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEpD,GAAM,CAAAC,cAAc,CAAGJ,MAAM,CAACK,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,kLAShC,CAED,GAAM,CAAAC,iBAAiB,CAAGR,MAAM,CAACC,SAAS,CAAC,CAAAQ,gBAAA,GAAAA,gBAAA,CAAAF,sBAAA,gDAE1C,CAED,QAAS,CAAAG,sBAAsBA,CAAAC,IAAA,CAAW,KAAAC,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,SAAA,IAAR,CAAAC,IAAI,CAAAN,IAAA,CAAJM,IAAI,CACpC,GACE,EAACA,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEC,sBAAsB,GAC7B,EAACD,IAAI,SAAJA,IAAI,YAAAL,qBAAA,CAAJK,IAAI,CAAEE,kBAAkB,UAAAP,qBAAA,YAAAC,sBAAA,CAAxBD,qBAAA,CAA0BQ,cAAc,UAAAP,sBAAA,WAAxCA,sBAAA,CAA0CQ,oBAAoB,EAC/D,CACA,MAAO,KAAI,CACb,CAEA,GAAM,CAAAC,kBAAkB,CACtB,CAAAL,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEC,sBAAsB,IAC5BD,IAAI,SAAJA,IAAI,kBAAAH,sBAAA,CAAJG,IAAI,CAAEE,kBAAkB,UAAAL,sBAAA,kBAAAC,sBAAA,CAAxBD,sBAAA,CAA0BM,cAAc,UAAAL,sBAAA,iBAAxCA,sBAAA,CAA0CM,oBAAoB,EAEhE,GAAI,CAAAE,cAAc,CAClB,GACED,kBAAkB,CAACE,IAAI,EACvBF,kBAAkB,CAACG,gBAAgB,EACnCR,IAAI,SAAJA,IAAI,YAAAD,SAAA,CAAJC,IAAI,CAAES,GAAG,UAAAV,SAAA,WAATA,SAAA,CAAWQ,IAAI,CACf,CACA,GAAM,CAAAG,OAAO,CACXL,kBAAkB,CAACE,IAAI,EACvBF,kBAAkB,CAACG,gBAAgB,EACnCR,IAAI,CAACS,GAAG,CAACF,IAAI,CACf,OAAQG,OAAO,EACb,IAAK,cAAc,CACnB,IAAK,KAAK,CACRJ,cAAc,CAAG,IAAI,CACrB,MACF,IAAK,SAAS,CACd,IAAK,gBAAgB,CACnBA,cAAc,CAAG,GAAG,CACpB,MACF,IAAK,kBAAkB,CACvB,IAAK,kBAAkB,CACrBA,cAAc,CAAG,GAAG,CACpB,MACF,IAAK,qBAAqB,CAC1B,IAAK,YAAY,CACfA,cAAc,CAAG,GAAG,CACpB,MACF,IAAK,uBAAuB,CAC5B,IAAK,cAAc,CACjBA,cAAc,CAAG,GAAG,CACpB,MACF,IAAK,4BAA4B,CACjC,IAAK,mBAAmB,CACtBA,cAAc,cAAGpB,IAAA,CAACK,iBAAiB,GAAE,CAAC,CACtC,MACF,QACEe,cAAc,CAAG,EAAE,CACvB,CACF,CAEA,mBACEpB,IAAA,kBAAeyB,CAAC,CAAC,IAAI,CAACC,CAAC,CAAC,KAAK,CAACC,MAAM,CAAC,IAAI,CAACC,KAAK,CAAC,IAAI,CAAAC,QAAA,cAClD7B,IAAA,CAACC,cAAc,EAAC6B,EAAE,SAAAC,MAAA,CAAUjB,IAAI,CAACgB,EAAE,gBAAe,CAAAD,QAAA,CAC/CT,cAAc,CACD,CAAC,CACJ,CAAC,CAEpB,CAMA,cAAe,CAAAb,sBAAsB"},"metadata":{},"sourceType":"module"}