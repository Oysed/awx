{"ast":null,"code":"import _taggedTemplateLiteral from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import React from'react';import{Tab as PFTab,Tabs as PFTabs,TabTitleText}from'@patternfly/react-core';import{useHistory,useLocation}from'react-router-dom';import styled from'styled-components';import{getPersistentFilters}from'components/PersistentFilters';import{jsx as _jsx}from\"react/jsx-runtime\";var Tabs=styled(PFTabs)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  & > ul {\\n    flex-grow: 1;\\n  }\\n\"])));var Tab=styled(PFTab)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  \",\"\\n\"])),function(props){return props.hasstyle&&\"\".concat(props.hasstyle);});function RoutedTabs(_ref){var tabsArray=_ref.tabsArray;var history=useHistory();var location=useLocation();var getActiveTabId=function getActiveTabId(){var match=tabsArray.find(function(tab){return tab.link===location.pathname;});if(match){return match.id;}var subpathMatch=tabsArray.find(function(tab){return location.pathname.startsWith(tab.link);});if(subpathMatch){return subpathMatch.id;}return 0;};var handleTabSelect=function handleTabSelect(event,eventKey){var match=tabsArray.find(function(tab){return tab.id===eventKey;});if(match){event.preventDefault();var link=match.persistentFilterKey?\"\".concat(match.link).concat(getPersistentFilters(match.persistentFilterKey)):match.link;history.push(link);}};return/*#__PURE__*/_jsx(Tabs,{activeKey:getActiveTabId(),onSelect:handleTabSelect,ouiaId:\"routed-tabs\",children:tabsArray.map(function(tab){return/*#__PURE__*/_jsx(Tab,{\"aria-label\":typeof tab.name==='string'?tab.name:null,eventKey:tab.id,href:!tab.hasstyle&&\"#\".concat(tab.link),title:/*#__PURE__*/_jsx(TabTitleText,{children:tab.name}),\"aria-controls\":\"\",ouiaId:\"\".concat(tab.name,\"-tab\"),hasstyle:tab.hasstyle},tab.id);})});}export default RoutedTabs;","map":{"version":3,"names":["React","Tab","PFTab","Tabs","PFTabs","TabTitleText","useHistory","useLocation","styled","getPersistentFilters","jsx","_jsx","_templateObject","_taggedTemplateLiteral","_templateObject2","props","hasstyle","concat","RoutedTabs","_ref","tabsArray","history","location","getActiveTabId","match","find","tab","link","pathname","id","subpathMatch","startsWith","handleTabSelect","event","eventKey","preventDefault","persistentFilterKey","push","activeKey","onSelect","ouiaId","children","map","name","href","title"],"sources":["/awx_devel/awx/ui/src/components/RoutedTabs/RoutedTabs.js"],"sourcesContent":["import React from 'react';\nimport { shape, string, number, arrayOf, node, oneOfType } from 'prop-types';\nimport {\n  Tab as PFTab,\n  Tabs as PFTabs,\n  TabTitleText,\n} from '@patternfly/react-core';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { getPersistentFilters } from 'components/PersistentFilters';\n\nconst Tabs = styled(PFTabs)`\n  & > ul {\n    flex-grow: 1;\n  }\n`;\n\nconst Tab = styled(PFTab)`\n  ${(props) => props.hasstyle && `${props.hasstyle}`}\n`;\n\nfunction RoutedTabs({ tabsArray }) {\n  const history = useHistory();\n  const location = useLocation();\n\n  const getActiveTabId = () => {\n    const match = tabsArray.find((tab) => tab.link === location.pathname);\n    if (match) {\n      return match.id;\n    }\n    const subpathMatch = tabsArray.find((tab) =>\n      location.pathname.startsWith(tab.link)\n    );\n    if (subpathMatch) {\n      return subpathMatch.id;\n    }\n    return 0;\n  };\n\n  const handleTabSelect = (event, eventKey) => {\n    const match = tabsArray.find((tab) => tab.id === eventKey);\n    if (match) {\n      event.preventDefault();\n      const link = match.persistentFilterKey\n        ? `${match.link}${getPersistentFilters(match.persistentFilterKey)}`\n        : match.link;\n      history.push(link);\n    }\n  };\n  return (\n    <Tabs\n      activeKey={getActiveTabId()}\n      onSelect={handleTabSelect}\n      ouiaId=\"routed-tabs\"\n    >\n      {tabsArray.map((tab) => (\n        <Tab\n          aria-label={typeof tab.name === 'string' ? tab.name : null}\n          eventKey={tab.id}\n          key={tab.id}\n          href={!tab.hasstyle && `#${tab.link}`}\n          title={<TabTitleText>{tab.name}</TabTitleText>}\n          aria-controls=\"\"\n          ouiaId={`${tab.name}-tab`}\n          hasstyle={tab.hasstyle}\n        />\n      ))}\n    </Tabs>\n  );\n}\n\nRoutedTabs.propTypes = {\n  tabsArray: arrayOf(\n    shape({\n      id: number.isRequired,\n      name: oneOfType([string.isRequired, node.isRequired]),\n    })\n  ).isRequired,\n};\n\nexport default RoutedTabs;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}