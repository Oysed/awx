{"ast":null,"code":"import _taggedTemplateLiteral from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import{Trans}from\"@lingui/react\";import{i18n}from\"@lingui/core\";import React from'react';import{Link}from'react-router-dom';import{Popover,Tooltip}from'@patternfly/react-core';import styled from'styled-components';import{ExclamationTriangleIcon as PFExclamationTriangleIcon}from'@patternfly/react-icons';import{ExecutionEnvironment}from'types';import getDocsBaseUrl from'util/getDocsBaseUrl';import{useConfig}from'contexts/Config';import{Detail}from'../DetailList';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ExclamationTriangleIcon=styled(PFExclamationTriangleIcon)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  color: var(--pf-global--warning-color--100);\\n  margin-left: 18px;\\n  cursor: pointer;\\n\"])));var ExclamationTrianglePopover=styled(PFExclamationTriangleIcon)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  color: var(--pf-global--warning-color--100);\\n  margin-left: 18px;\\n  cursor: pointer;\\n\"])));ExclamationTrianglePopover.displayName='ExclamationTrianglePopover';function ExecutionEnvironmentDetail(_ref){var executionEnvironment=_ref.executionEnvironment,isDefaultEnvironment=_ref.isDefaultEnvironment,virtualEnvironment=_ref.virtualEnvironment,verifyMissingVirtualEnv=_ref.verifyMissingVirtualEnv,helpText=_ref.helpText,dataCy=_ref.dataCy;var config=useConfig();var docsLink=\"\".concat(getDocsBaseUrl(config),\"/html/upgrade-migration-guide/upgrade_to_ees.html\");var label=isDefaultEnvironment?/*i18n*/i18n._(\"Default Execution Environment\"):/*i18n*/i18n._(\"Execution Environment\");if(executionEnvironment){return/*#__PURE__*/_jsx(Detail,{label:label,value:/*#__PURE__*/_jsx(Link,{to:\"/execution_environments/\".concat(executionEnvironment.id,\"/details\"),children:executionEnvironment.name}),helpText:helpText,dataCy:dataCy});}if(verifyMissingVirtualEnv&&virtualEnvironment&&!executionEnvironment){return/*#__PURE__*/_jsx(Detail,{label:label,helpText:helpText,value:/*#__PURE__*/_jsxs(_Fragment,{children:[/*i18n*/i18n._(\"Missing resource\"),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Popover,{className:\"missing-execution-environment\",headerContent:/*#__PURE__*/_jsx(\"div\",{children:/*i18n*/i18n._(\"Execution Environment Missing\")}),bodyContent:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Trans,{id:\"Custom virtual environment {virtualEnvironment} must be replaced by an execution environment. For more information about migrating to execution environments see <0>the documentation.</0>\",values:{virtualEnvironment:virtualEnvironment},components:{0:/*#__PURE__*/_jsx(\"a\",{href:docsLink,target:\"_blank\",rel:\"noopener noreferrer\"})}})}),position:\"right\",children:/*#__PURE__*/_jsx(ExclamationTrianglePopover,{})})})]}),dataCy:\"missing-\".concat(dataCy)});}if(!verifyMissingVirtualEnv&&!virtualEnvironment&&!executionEnvironment){return/*#__PURE__*/_jsx(Detail,{label:/*i18n*/i18n._(\"Execution Environment\"),helpText:helpText,value:/*#__PURE__*/_jsxs(_Fragment,{children:[/*i18n*/i18n._(\"Missing resource\"),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(Tooltip,{content:/*i18n*/i18n._(\"Execution environment is missing or deleted.\"),children:/*#__PURE__*/_jsx(ExclamationTriangleIcon,{})})})]}),dataCy:dataCy});}return null;}ExecutionEnvironmentDetail.defaultProps={isDefaultEnvironment:false,executionEnvironment:null,virtualEnvironment:'',verifyMissingVirtualEnv:true,helpText:'',dataCy:'execution-environment-detail'};export default ExecutionEnvironmentDetail;","map":{"version":3,"names":["React","Link","Popover","Tooltip","styled","ExclamationTriangleIcon","PFExclamationTriangleIcon","ExecutionEnvironment","getDocsBaseUrl","useConfig","Detail","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","_templateObject","_taggedTemplateLiteral","ExclamationTrianglePopover","_templateObject2","displayName","ExecutionEnvironmentDetail","_ref","executionEnvironment","isDefaultEnvironment","virtualEnvironment","verifyMissingVirtualEnv","helpText","dataCy","config","docsLink","concat","label","i18n","_","value","to","id","children","name","className","headerContent","bodyContent","Trans","values","components","0","href","target","rel","position","content","defaultProps"],"sources":["/awx_devel/awx/ui/src/components/ExecutionEnvironmentDetail/ExecutionEnvironmentDetail.js"],"sourcesContent":["import React from 'react';\nimport { bool, string } from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { t, Trans } from '@lingui/macro';\nimport { Popover, Tooltip } from '@patternfly/react-core';\nimport styled from 'styled-components';\nimport { ExclamationTriangleIcon as PFExclamationTriangleIcon } from '@patternfly/react-icons';\nimport { ExecutionEnvironment } from 'types';\nimport getDocsBaseUrl from 'util/getDocsBaseUrl';\nimport { useConfig } from 'contexts/Config';\nimport { Detail } from '../DetailList';\n\nconst ExclamationTriangleIcon = styled(PFExclamationTriangleIcon)`\n  color: var(--pf-global--warning-color--100);\n  margin-left: 18px;\n  cursor: pointer;\n`;\n\nconst ExclamationTrianglePopover = styled(PFExclamationTriangleIcon)`\n  color: var(--pf-global--warning-color--100);\n  margin-left: 18px;\n  cursor: pointer;\n`;\n\nExclamationTrianglePopover.displayName = 'ExclamationTrianglePopover';\n\nfunction ExecutionEnvironmentDetail({\n  executionEnvironment,\n  isDefaultEnvironment,\n  virtualEnvironment,\n  verifyMissingVirtualEnv,\n  helpText,\n  dataCy,\n}) {\n  const config = useConfig();\n  const docsLink = `${getDocsBaseUrl(\n    config\n  )}/html/upgrade-migration-guide/upgrade_to_ees.html`;\n  const label = isDefaultEnvironment\n    ? t`Default Execution Environment`\n    : t`Execution Environment`;\n\n  if (executionEnvironment) {\n    return (\n      <Detail\n        label={label}\n        value={\n          <Link\n            to={`/execution_environments/${executionEnvironment.id}/details`}\n          >\n            {executionEnvironment.name}\n          </Link>\n        }\n        helpText={helpText}\n        dataCy={dataCy}\n      />\n    );\n  }\n  if (verifyMissingVirtualEnv && virtualEnvironment && !executionEnvironment) {\n    return (\n      <Detail\n        label={label}\n        helpText={helpText}\n        value={\n          <>\n            {t`Missing resource`}\n            <span>\n              <Popover\n                className=\"missing-execution-environment\"\n                headerContent={<div>{t`Execution Environment Missing`}</div>}\n                bodyContent={\n                  <div>\n                    <Trans>\n                      Custom virtual environment {virtualEnvironment} must be\n                      replaced by an execution environment. For more information\n                      about migrating to execution environments see{' '}\n                      <a\n                        href={docsLink}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                      >\n                        the documentation.\n                      </a>\n                    </Trans>\n                  </div>\n                }\n                position=\"right\"\n              >\n                <ExclamationTrianglePopover />\n              </Popover>\n            </span>\n          </>\n        }\n        dataCy={`missing-${dataCy}`}\n      />\n    );\n  }\n  if (\n    !verifyMissingVirtualEnv &&\n    !virtualEnvironment &&\n    !executionEnvironment\n  ) {\n    return (\n      <Detail\n        label={t`Execution Environment`}\n        helpText={helpText}\n        value={\n          <>\n            {t`Missing resource`}\n            <span>\n              <Tooltip\n                content={t`Execution environment is missing or deleted.`}\n              >\n                <ExclamationTriangleIcon />\n              </Tooltip>\n            </span>\n          </>\n        }\n        dataCy={dataCy}\n      />\n    );\n  }\n\n  return null;\n}\n\nExecutionEnvironmentDetail.propTypes = {\n  executionEnvironment: ExecutionEnvironment,\n  isDefaultEnvironment: bool,\n  virtualEnvironment: string,\n  verifyMissingVirtualEnv: bool,\n  helpText: string,\n  dataCy: string,\n};\n\nExecutionEnvironmentDetail.defaultProps = {\n  isDefaultEnvironment: false,\n  executionEnvironment: null,\n  virtualEnvironment: '',\n  verifyMissingVirtualEnv: true,\n  helpText: '',\n  dataCy: 'execution-environment-detail',\n};\n\nexport default ExecutionEnvironmentDetail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}