{"ast":null,"code":"import _asyncToGenerator from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/awx_devel/awx/ui/node_modules/@babel/runtime/regenerator/index.js\";import{i18n}from\"@lingui/core\";import React,{useEffect,useCallback,useRef}from'react';import{Route,Switch,Redirect,Link,useParams,useRouteMatch}from'react-router-dom';import{CaretLeftIcon}from'@patternfly/react-icons';import{Card,PageSection}from'@patternfly/react-core';import{InventorySourcesAPI}from'api';import ContentError from'components/ContentError';import ContentLoading from'components/ContentLoading';import RoutedTabs from'components/RoutedTabs';import{getSearchableKeys}from'components/PaginatedTable';import useRequest from'hooks/useRequest';import{getJobModel}from'util/jobs';import WorkflowOutputNavigation from'components/WorkflowOutputNavigation';import JobDetail from'./JobDetail';import JobOutput from'./JobOutput';import{WorkflowOutput}from'./WorkflowOutput';import useWsJob from'./useWsJob';// maps the displayed url segments to actual api types\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var JOB_URL_SEGMENT_MAP={playbook:'job',project:'project_update',management:'system_job',system:'system_job',inventory:'inventory_update',command:'ad_hoc_command',workflow:'workflow_job'};function Job(_ref){var setBreadcrumb=_ref.setBreadcrumb;var _useParams=useParams(),id=_useParams.id,typeSegment=_useParams.typeSegment;var match=useRouteMatch();var type=JOB_URL_SEGMENT_MAP[typeSegment];var _useRequest=useRequest(useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _jobDetailData$summar,_jobDetailData$summar2,_choices,_choices$data,_choices$data$actions,_choices$data$actions2,_choices$data$actions3,_eventOptions,_eventOptions2,_eventOptions2$action;var eventOptions,relatedJobData,_yield$getJobModel$re,jobDetailData,_yield$getJobModel$re2,jobEventOptions,_yield$getJobModel$re3,results,_yield$getJobModel$re4,_results,choices;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:eventOptions={};relatedJobData={};_context.next=4;return getJobModel(type).readDetail(id);case 4:_yield$getJobModel$re=_context.sent;jobDetailData=_yield$getJobModel$re.data;if(!(type!=='workflow_job')){_context.next=12;break;}_context.next=9;return getJobModel(type).readEventOptions(id);case 9:_yield$getJobModel$re2=_context.sent;jobEventOptions=_yield$getJobModel$re2.data;eventOptions=jobEventOptions;case 12:if(!jobDetailData.related.source_workflow_job){_context.next=18;break;}_context.next=15;return getJobModel('workflow_job').readNodes(jobDetailData.summary_fields.source_workflow_job.id);case 15:_yield$getJobModel$re3=_context.sent;results=_yield$getJobModel$re3.data.results;relatedJobData=results;case 18:if(!(jobDetailData!==null&&jobDetailData!==void 0&&(_jobDetailData$summar=jobDetailData.summary_fields)!==null&&_jobDetailData$summar!==void 0&&(_jobDetailData$summar2=_jobDetailData$summar.credentials)!==null&&_jobDetailData$summar2!==void 0&&_jobDetailData$summar2.find(function(cred){return cred.kind==='vault';}))){_context.next=24;break;}_context.next=21;return getJobModel(type).readCredentials(jobDetailData.id);case 21:_yield$getJobModel$re4=_context.sent;_results=_yield$getJobModel$re4.data.results;jobDetailData.summary_fields.credentials=_results;case 24:setBreadcrumb(jobDetailData);if(!(jobDetailData.type==='inventory_update')){_context.next=29;break;}_context.next=28;return InventorySourcesAPI.readOptions();case 28:choices=_context.sent;case 29:return _context.abrupt(\"return\",{inventorySourceChoices:((_choices=choices)===null||_choices===void 0?void 0:(_choices$data=_choices.data)===null||_choices$data===void 0?void 0:(_choices$data$actions=_choices$data.actions)===null||_choices$data$actions===void 0?void 0:(_choices$data$actions2=_choices$data$actions.GET)===null||_choices$data$actions2===void 0?void 0:(_choices$data$actions3=_choices$data$actions2.source)===null||_choices$data$actions3===void 0?void 0:_choices$data$actions3.choices)||[],jobDetail:jobDetailData,relatedJobs:relatedJobData,eventRelatedSearchableKeys:(((_eventOptions=eventOptions)===null||_eventOptions===void 0?void 0:_eventOptions.related_search_fields)||[]).map(function(val){return val.slice(0,-8);}),eventSearchableKeys:getSearchableKeys((_eventOptions2=eventOptions)===null||_eventOptions2===void 0?void 0:(_eventOptions2$action=_eventOptions2.actions)===null||_eventOptions2$action===void 0?void 0:_eventOptions2$action.GET)});case 30:case\"end\":return _context.stop();}}},_callee);})),[id,type,setBreadcrumb]),{jobDetail:null,inventorySourceChoices:[],eventRelatedSearchableKeys:[],eventSearchableKeys:[],relatedJobs:[]}),isLoading=_useRequest.isLoading,error=_useRequest.error,fetchJob=_useRequest.request,_useRequest$result=_useRequest.result,jobDetail=_useRequest$result.jobDetail,eventRelatedSearchableKeys=_useRequest$result.eventRelatedSearchableKeys,eventSearchableKeys=_useRequest$result.eventSearchableKeys,inventorySourceChoices=_useRequest$result.inventorySourceChoices,relatedJobs=_useRequest$result.relatedJobs;useEffect(function(){fetchJob();},[fetchJob]);var job=useWsJob(jobDetail);var ref=useRef(null);var tabsArray=[{name:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CaretLeftIcon,{}),/*i18n*/i18n._(\"Back to Jobs\")]}),link:\"/jobs\",persistentFilterKey:'jobs',id:99},{name:/*i18n*/i18n._(\"Details\"),link:\"\".concat(match.url,\"/details\"),id:0},{name:/*i18n*/i18n._(\"Output\"),link:\"\".concat(match.url,\"/output\"),id:1}];if((relatedJobs===null||relatedJobs===void 0?void 0:relatedJobs.length)>0){tabsArray.push({name:/*#__PURE__*/_jsx(WorkflowOutputNavigation,{parentRef:ref,relatedJobs:relatedJobs}),link:undefined,id:2,hasstyle:'margin-left: auto'});}if(isLoading){return/*#__PURE__*/_jsx(PageSection,{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(ContentLoading,{})})});}if(error){var _error$response;return/*#__PURE__*/_jsx(PageSection,{children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(ContentError,{error:error,children:((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===404&&/*#__PURE__*/_jsxs(\"span\",{children:[/*i18n*/i18n._(\"The page you requested could not be found.\"),' ',/*#__PURE__*/_jsx(Link,{to:\"/jobs\",children:/*i18n*/i18n._(\"View all Jobs.\")})]})})})});}return/*#__PURE__*/_jsx(PageSection,{children:/*#__PURE__*/_jsx(\"div\",{ref:ref,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(RoutedTabs,{isWorkflow:match.url.startsWith('/jobs/workflow'),tabsArray:tabsArray}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Redirect,{from:\"/jobs/system/:id\",to:\"/jobs/management/:id\",exact:true}),/*#__PURE__*/_jsx(Redirect,{from:\"/jobs/:typeSegment/:id\",to:\"/jobs/:typeSegment/:id/output\",exact:true}),job&&[/*#__PURE__*/_jsx(Route,{path:\"/jobs/:typeSegment/:id/details\",children:/*#__PURE__*/_jsx(JobDetail,{job:job,inventorySourceLabels:inventorySourceChoices})},job.type==='workflow_job'?'workflow-details':'details'),/*#__PURE__*/_jsx(Route,{path:\"/jobs/:typeSegment/:id/output\",children:job.type==='workflow_job'?/*#__PURE__*/_jsx(WorkflowOutput,{job:job}):/*#__PURE__*/_jsx(JobOutput,{job:job,eventRelatedSearchableKeys:eventRelatedSearchableKeys,eventSearchableKeys:eventSearchableKeys})},\"output\"),/*#__PURE__*/_jsx(Route,{path:\"*\",children:/*#__PURE__*/_jsx(ContentError,{isNotFound:true,children:/*#__PURE__*/_jsx(Link,{to:\"/jobs/\".concat(typeSegment,\"/\").concat(id,\"/details\"),children:/*i18n*/i18n._(\"View Job Details\")})})},\"not-found\")]]})]})})});}export default Job;export{Job as _Job};","map":{"version":3,"names":["React","useEffect","useCallback","useRef","Route","Switch","Redirect","Link","useParams","useRouteMatch","CaretLeftIcon","Card","PageSection","InventorySourcesAPI","ContentError","ContentLoading","RoutedTabs","getSearchableKeys","useRequest","getJobModel","WorkflowOutputNavigation","JobDetail","JobOutput","WorkflowOutput","useWsJob","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","JOB_URL_SEGMENT_MAP","playbook","project","management","system","inventory","command","workflow","Job","_ref","setBreadcrumb","_useParams","id","typeSegment","match","type","_useRequest","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_jobDetailData$summar","_jobDetailData$summar2","_choices","_choices$data","_choices$data$actions","_choices$data$actions2","_choices$data$actions3","_eventOptions","_eventOptions2","_eventOptions2$action","eventOptions","relatedJobData","_yield$getJobModel$re","jobDetailData","_yield$getJobModel$re2","jobEventOptions","_yield$getJobModel$re3","results","_yield$getJobModel$re4","_results","choices","wrap","_callee$","_context","prev","next","readDetail","sent","data","readEventOptions","related","source_workflow_job","readNodes","summary_fields","credentials","find","cred","kind","readCredentials","readOptions","abrupt","inventorySourceChoices","actions","GET","source","jobDetail","relatedJobs","eventRelatedSearchableKeys","related_search_fields","map","val","slice","eventSearchableKeys","stop","isLoading","error","fetchJob","request","_useRequest$result","result","job","ref","tabsArray","name","children","i18n","_","link","persistentFilterKey","concat","url","length","push","parentRef","undefined","hasstyle","_error$response","response","status","to","isWorkflow","startsWith","from","exact","path","inventorySourceLabels","isNotFound","_Job"],"sources":["/awx_devel/awx/ui/src/screens/Job/Job.js"],"sourcesContent":["import React, { useEffect, useCallback, useRef } from 'react';\nimport {\n  Route,\n  Switch,\n  Redirect,\n  Link,\n  useParams,\n  useRouteMatch,\n} from 'react-router-dom';\n\nimport { t } from '@lingui/macro';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { InventorySourcesAPI } from 'api';\nimport ContentError from 'components/ContentError';\nimport ContentLoading from 'components/ContentLoading';\nimport RoutedTabs from 'components/RoutedTabs';\nimport { getSearchableKeys } from 'components/PaginatedTable';\nimport useRequest from 'hooks/useRequest';\nimport { getJobModel } from 'util/jobs';\nimport WorkflowOutputNavigation from 'components/WorkflowOutputNavigation';\nimport JobDetail from './JobDetail';\nimport JobOutput from './JobOutput';\nimport { WorkflowOutput } from './WorkflowOutput';\nimport useWsJob from './useWsJob';\n\n// maps the displayed url segments to actual api types\nexport const JOB_URL_SEGMENT_MAP = {\n  playbook: 'job',\n  project: 'project_update',\n  management: 'system_job',\n  system: 'system_job',\n  inventory: 'inventory_update',\n  command: 'ad_hoc_command',\n  workflow: 'workflow_job',\n};\n\nfunction Job({ setBreadcrumb }) {\n  const { id, typeSegment } = useParams();\n  const match = useRouteMatch();\n\n  const type = JOB_URL_SEGMENT_MAP[typeSegment];\n\n  const {\n    isLoading,\n    error,\n    request: fetchJob,\n    result: {\n      jobDetail,\n      eventRelatedSearchableKeys,\n      eventSearchableKeys,\n      inventorySourceChoices,\n      relatedJobs,\n    },\n  } = useRequest(\n    useCallback(async () => {\n      let eventOptions = {};\n      let relatedJobData = {};\n      const { data: jobDetailData } = await getJobModel(type).readDetail(id);\n      if (type !== 'workflow_job') {\n        const { data: jobEventOptions } = await getJobModel(\n          type\n        ).readEventOptions(id);\n        eventOptions = jobEventOptions;\n      }\n      if (jobDetailData.related.source_workflow_job) {\n        const {\n          data: { results },\n        } = await getJobModel('workflow_job').readNodes(\n          jobDetailData.summary_fields.source_workflow_job.id\n        );\n        relatedJobData = results;\n      }\n      if (\n        jobDetailData?.summary_fields?.credentials?.find(\n          (cred) => cred.kind === 'vault'\n        )\n      ) {\n        const {\n          data: { results },\n        } = await getJobModel(type).readCredentials(jobDetailData.id);\n\n        jobDetailData.summary_fields.credentials = results;\n      }\n\n      setBreadcrumb(jobDetailData);\n      let choices;\n      if (jobDetailData.type === 'inventory_update') {\n        choices = await InventorySourcesAPI.readOptions();\n      }\n\n      return {\n        inventorySourceChoices:\n          choices?.data?.actions?.GET?.source?.choices || [],\n        jobDetail: jobDetailData,\n        relatedJobs: relatedJobData,\n        eventRelatedSearchableKeys: (\n          eventOptions?.related_search_fields || []\n        ).map((val) => val.slice(0, -8)),\n        eventSearchableKeys: getSearchableKeys(eventOptions?.actions?.GET),\n      };\n    }, [id, type, setBreadcrumb]),\n    {\n      jobDetail: null,\n      inventorySourceChoices: [],\n      eventRelatedSearchableKeys: [],\n      eventSearchableKeys: [],\n      relatedJobs: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchJob();\n  }, [fetchJob]);\n\n  const job = useWsJob(jobDetail);\n  const ref = useRef(null);\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {t`Back to Jobs`}\n        </>\n      ),\n      link: `/jobs`,\n      persistentFilterKey: 'jobs',\n      id: 99,\n    },\n    { name: t`Details`, link: `${match.url}/details`, id: 0 },\n    { name: t`Output`, link: `${match.url}/output`, id: 1 },\n  ];\n  if (relatedJobs?.length > 0) {\n    tabsArray.push({\n      name: (\n        <WorkflowOutputNavigation parentRef={ref} relatedJobs={relatedJobs} />\n      ),\n      link: undefined,\n      id: 2,\n      hasstyle: 'margin-left: auto',\n    });\n  }\n\n  if (isLoading) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentLoading />\n        </Card>\n      </PageSection>\n    );\n  }\n\n  if (error) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={error}>\n            {error.response?.status === 404 && (\n              <span>\n                {t`The page you requested could not be found.`}{' '}\n                <Link to=\"/jobs\">{t`View all Jobs.`}</Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  return (\n    <PageSection>\n      <div ref={ref}>\n        <Card>\n          <RoutedTabs\n            isWorkflow={match.url.startsWith('/jobs/workflow')}\n            tabsArray={tabsArray}\n          />\n          <Switch>\n            <Redirect from=\"/jobs/system/:id\" to=\"/jobs/management/:id\" exact />\n            <Redirect\n              from=\"/jobs/:typeSegment/:id\"\n              to=\"/jobs/:typeSegment/:id/output\"\n              exact\n            />\n            {job && [\n              <Route\n                key={\n                  job.type === 'workflow_job' ? 'workflow-details' : 'details'\n                }\n                path=\"/jobs/:typeSegment/:id/details\"\n              >\n                <JobDetail\n                  job={job}\n                  inventorySourceLabels={inventorySourceChoices}\n                />\n              </Route>,\n              <Route key=\"output\" path=\"/jobs/:typeSegment/:id/output\">\n                {job.type === 'workflow_job' ? (\n                  <WorkflowOutput job={job} />\n                ) : (\n                  <JobOutput\n                    job={job}\n                    eventRelatedSearchableKeys={eventRelatedSearchableKeys}\n                    eventSearchableKeys={eventSearchableKeys}\n                  />\n                )}\n              </Route>,\n              <Route key=\"not-found\" path=\"*\">\n                <ContentError isNotFound>\n                  <Link to={`/jobs/${typeSegment}/${id}/details`}>\n                    {t`View Job Details`}\n                  </Link>\n                </ContentError>\n              </Route>,\n            ]}\n          </Switch>\n        </Card>\n      </div>\n    </PageSection>\n  );\n}\n\nexport default Job;\nexport { Job as _Job };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}