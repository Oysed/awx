{"ast":null,"code":"import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{i18n}from\"@lingui/core\";import React from'react';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var buildAnchor=function buildAnchor(obj,resource,activity){var url;var name;// try/except pattern asserts that:\n// if we encounter a case where a UI url can't or\n// shouldn't be generated, just supply the name of the resource\ntry{// catch-all case to avoid generating urls if a resource has been deleted\n// if a resource still exists, it'll be serialized in the activity's summary_fields\nif(!activity.summary_fields[resource]){throw new Error('The referenced resource no longer exists');}switch(resource){case'custom_inventory_script':url=\"/inventory_scripts/\".concat(obj.id,\"/\");break;case'group':if(activity.operation==='create'||activity.operation==='delete'){// the API formats the changes.inventory field as str 'myInventoryName-PrimaryKey'\nvar _activity$changes$inv=activity.changes.inventory.split('-').slice(-1),_activity$changes$inv2=_slicedToArray(_activity$changes$inv,1),inventory_id=_activity$changes$inv2[0];url=\"/inventories/inventory/\".concat(inventory_id,\"/groups/\").concat(activity.changes.id,\"/details/\");}else{url=\"/inventories/inventory/\".concat(activity.summary_fields.inventory[0].id,\"/groups/\").concat(activity.changes.id||activity.changes.object1_pk,\"/details/\");}break;case'host':url=\"/hosts/\".concat(obj.id,\"/\");break;case'job':url=\"/jobs/\".concat(obj.id,\"/\");break;case'inventory':url=(obj===null||obj===void 0?void 0:obj.kind)==='smart'?\"/inventories/smart_inventory/\".concat(obj.id,\"/\"):\"/inventories/inventory/\".concat(obj.id,\"/\");break;case'schedule':// schedule urls depend on the resource they're associated with\nif(activity.summary_fields.job_template){var jt_id=activity.summary_fields.job_template[0].id;url=\"/templates/job_template/\".concat(jt_id,\"/schedules/\").concat(obj.id,\"/\");}else if(activity.summary_fields.workflow_job_template){var wfjt_id=activity.summary_fields.workflow_job_template[0].id;url=\"/templates/workflow_job_template/\".concat(wfjt_id,\"/schedules/\").concat(obj.id,\"/\");}else if(activity.summary_fields.project){url=\"/projects/\".concat(activity.summary_fields.project[0].id,\"/schedules/\").concat(obj.id,\"/\");}else if(activity.summary_fields.system_job_template){url=null;}else{// urls for inventory sync schedules currently depend on having\n// an inventory id and group id\nthrow new Error('activity.summary_fields to build this url not implemented yet');}break;case'setting':url=\"/settings/\";break;case'notification_template':url=\"/notification_templates/\".concat(obj.id,\"/\");break;case'role':throw new Error('role object management is not consolidated to a single UI view');case'job_template':url=\"/templates/job_template/\".concat(obj.id,\"/\");break;case'workflow_job_template':url=\"/templates/workflow_job_template/\".concat(obj.id,\"/\");break;case'workflow_job_template_node':{var _activity$summary_fie=activity.summary_fields.workflow_job_template[0],_wfjt_id=_activity$summary_fie.id,wfjt_name=_activity$summary_fie.name;url=\"/templates/workflow_job_template/\".concat(_wfjt_id,\"/\");name=wfjt_name;break;}case'workflow_job':url=\"/jobs/workflow/\".concat(obj.id,\"/\");break;case'label':url=null;break;case'inventory_source':{var inventoryId=(obj.inventory||'').split('-').reverse()[0];url=\"/inventories/inventory/\".concat(inventoryId,\"/sources/\").concat(obj.id,\"/details/\");break;}case'o_auth2_application':url=\"/applications/\".concat(obj.id,\"/\");break;case'workflow_approval':url=\"/jobs/workflow/\".concat(activity.summary_fields.workflow_job[0].id,\"/output/\");name=\"\".concat(activity.summary_fields.workflow_job[0].name,\" | \").concat(activity.summary_fields.workflow_approval[0].name);break;case'workflow_approval_template':url=\"/templates/workflow_job_template/\".concat(activity.summary_fields.workflow_job_template[0].id,\"/visualizer/\");name=\"\".concat(activity.summary_fields.workflow_job_template[0].name,\" | \").concat(activity.summary_fields.workflow_approval_template[0].name);break;default:url=\"/\".concat(resource,\"s/\").concat(obj.id,\"/\");}name=name||obj.name||obj.username;if(url){return/*#__PURE__*/_jsx(Link,{to:url,children:name});}return/*#__PURE__*/_jsx(\"span\",{children:name});}catch(err){return/*#__PURE__*/_jsx(\"span\",{children:obj.name||obj.username||''});}};var getPastTense=function getPastTense(item){return /e$/.test(item)?\"\".concat(item,\"d\"):\"\".concat(item,\"ed\");};var isGroupRelationship=function isGroupRelationship(item){return item.object1==='group'&&item.object2==='group'&&item.summary_fields.group.length>1;};var buildLabeledLink=function buildLabeledLink(label,link){return/*#__PURE__*/_jsxs(\"span\",{children:[label,\" \",link]});};function ActivityStreamDescription(_ref){var _activity$changes,_activity$changes$sta;var activity=_ref.activity;var labeledLinks=[];// Activity stream objects will outlive the resources they reference\n// in that case, summary_fields will not be available - show generic error text instead\ntry{switch(activity.object_association){// explicit role dis+associations\ncase'role':{var object1=activity.object1,object2=activity.object2;// if object1 winds up being the role's resource, we need to swap the objects\n// in order to make the sentence make sense.\nif(activity.object_type===object1){object1=activity.object2;object2=activity.object1;}// object1 field is resource targeted by the dis+association\n// object2 field is the resource the role is inherited from\n// summary_field.role[0] contains ref info about the role\nswitch(activity.operation){// expected outcome: \"disassociated <object2> role_name from <object1>\"\ncase'disassociate':if(isGroupRelationship(activity)){labeledLinks.push(buildLabeledLink(getPastTense(activity.operation),buildAnchor(activity.summary_fields.group[1],object2,activity)));labeledLinks.push(buildLabeledLink(\"\".concat(activity.summary_fields.role[0].role_field,\" from\"),buildAnchor(activity.summary_fields.group[0],object1,activity)));}else{labeledLinks.push(buildLabeledLink(getPastTense(activity.operation),buildAnchor(activity.summary_fields[object2][0],object2,activity)));labeledLinks.push(buildLabeledLink(\"\".concat(activity.summary_fields.role[0].role_field,\" from\"),buildAnchor(activity.summary_fields[object1][0],object1,activity)));}break;// expected outcome: \"associated <object2> role_name to <object1>\"\ncase'associate':if(isGroupRelationship(activity)){labeledLinks.push(buildLabeledLink(getPastTense(activity.operation),buildAnchor(activity.summary_fields.group[1],object2,activity)));labeledLinks.push(buildLabeledLink(\"\".concat(activity.summary_fields.role[0].role_field,\" to\"),buildAnchor(activity.summary_fields.group[0],object1,activity)));}else{labeledLinks.push(buildLabeledLink(getPastTense(activity.operation),buildAnchor(activity.summary_fields[object2][0],object2,activity)));labeledLinks.push(buildLabeledLink(\"\".concat(activity.summary_fields.role[0].role_field,\" to\"),buildAnchor(activity.summary_fields[object1][0],object1,activity)));}break;default:break;}break;// inherited role dis+associations (logic identical to case 'role')\n}case'parents':// object1 field is resource targeted by the dis+association\n// object2 field is the resource the role is inherited from\n// summary_field.role[0] contains ref info about the role\nswitch(activity.operation){// expected outcome: \"disassociated <object2> role_name from <object1>\"\ncase'disassociate':if(isGroupRelationship(activity)){labeledLinks.push(buildLabeledLink(\"\".concat(getPastTense(activity.operation),\" \").concat(activity.object2),buildAnchor(activity.summary_fields.group[1],activity.object2,activity)));labeledLinks.push(buildLabeledLink(\"from \".concat(activity.object1),buildAnchor(activity.summary_fields.group[0],activity.object1,activity)));}else{labeledLinks.push(buildLabeledLink(getPastTense(activity.operation),buildAnchor(activity.summary_fields[activity.object2][0],activity.object2,activity)));labeledLinks.push(buildLabeledLink(\"\".concat(activity.summary_fields.role[0].role_field,\" from\"),buildAnchor(activity.summary_fields[activity.object1][0],activity.object1,activity)));}break;// expected outcome: \"associated <object2> role_name to <object1>\"\ncase'associate':if(isGroupRelationship(activity)){labeledLinks.push(buildLabeledLink(\"\".concat(getPastTense(activity.operation),\" \").concat(activity.object1),buildAnchor(activity.summary_fields.group[0],activity.object1,activity)));labeledLinks.push(buildLabeledLink(\"to \".concat(activity.object2),buildAnchor(activity.summary_fields.group[1],activity.object2,activity)));}else{labeledLinks.push(buildLabeledLink(getPastTense(activity.operation),buildAnchor(activity.summary_fields[activity.object2][0],activity.object2,activity)));labeledLinks.push(buildLabeledLink(\"\".concat(activity.summary_fields.role[0].role_field,\" to\"),buildAnchor(activity.summary_fields[activity.object1][0],activity.object1,activity)));}break;default:break;}break;// CRUD operations / resource on resource dis+associations\ndefault:switch(activity.operation){// expected outcome: \"disassociated <object2> from <object1>\"\ncase'disassociate':if(isGroupRelationship(activity)){labeledLinks.push(buildLabeledLink(\"\".concat(getPastTense(activity.operation),\" \").concat(activity.object2),buildAnchor(activity.summary_fields.group[1],activity.object2,activity)));labeledLinks.push(buildLabeledLink(\"from \".concat(activity.object1),buildAnchor(activity.summary_fields.group[0],activity.object1,activity)));}else if(activity.object1==='workflow_job_template_node'&&activity.object2==='workflow_job_template_node'){labeledLinks.push(buildLabeledLink(\"\".concat(getPastTense(activity.operation),\" two nodes on workflow\"),buildAnchor(activity.summary_fields[activity.object1[0]],activity.object1,activity)));}else{labeledLinks.push(buildLabeledLink(\"\".concat(getPastTense(activity.operation),\" \").concat(activity.object2),buildAnchor(activity.summary_fields[activity.object2][0],activity.object2,activity)));labeledLinks.push(buildLabeledLink(\"from \".concat(activity.object1),buildAnchor(activity.summary_fields[activity.object1][0],activity.object1,activity)));}break;// expected outcome \"associated <object2> to <object1>\"\ncase'associate':// groups are the only resource that can be associated/disassociated into each other\nif(isGroupRelationship(activity)){labeledLinks.push(buildLabeledLink(\"\".concat(getPastTense(activity.operation),\" \").concat(activity.object1),buildAnchor(activity.summary_fields.group[0],activity.object1,activity)));labeledLinks.push(buildLabeledLink(\"to \".concat(activity.object2),buildAnchor(activity.summary_fields.group[1],activity.object2,activity)));}else if(activity.object1==='workflow_job_template_node'&&activity.object2==='workflow_job_template_node'){labeledLinks.push(buildLabeledLink(\"\".concat(getPastTense(activity.operation),\" two nodes on workflow\"),buildAnchor(activity.summary_fields[activity.object1[0]],activity.object1,activity)));}else{labeledLinks.push(buildLabeledLink(\"\".concat(getPastTense(activity.operation),\" \").concat(activity.object1),buildAnchor(activity.summary_fields[activity.object1][0],activity.object1,activity)));labeledLinks.push(buildLabeledLink(\"to \".concat(activity.object2),buildAnchor(activity.summary_fields[activity.object2][0],activity.object2,activity)));}break;case'delete':labeledLinks.push(buildLabeledLink(\"\".concat(getPastTense(activity.operation),\" \").concat(activity.object1),buildAnchor(activity.changes,activity.object1,activity)));break;// expected outcome: \"operation <object1>\"\ncase'update':if(activity.object1==='workflow_approval'&&(activity===null||activity===void 0?void 0:(_activity$changes=activity.changes)===null||_activity$changes===void 0?void 0:(_activity$changes$sta=_activity$changes.status)===null||_activity$changes$sta===void 0?void 0:_activity$changes$sta.length)===2){var operationText='';if(activity.changes.status[1]==='successful'){operationText=/*i18n*/i18n._(\"approved\");}else if(activity.changes.status[1]==='failed'){if(activity.changes.timed_out&&activity.changes.timed_out[1]===true){operationText=/*i18n*/i18n._(\"timed out\");}else{operationText=/*i18n*/i18n._(\"denied\");}}else{operationText=/*i18n*/i18n._(\"updated\");}labeledLinks.push(buildLabeledLink(\"\".concat(operationText,\" \").concat(activity.object1),buildAnchor(activity.summary_fields[activity.object1][0],activity.object1,activity)));}else{labeledLinks.push(buildLabeledLink(\"\".concat(getPastTense(activity.operation),\" \").concat(activity.object1),buildAnchor(activity.summary_fields[activity.object1][0],activity.object1,activity)));}break;case'create':labeledLinks.push(buildLabeledLink(\"\".concat(getPastTense(activity.operation),\" \").concat(activity.object1),buildAnchor(activity.changes,activity.object1,activity)));break;default:break;}break;}}catch(err){return/*#__PURE__*/_jsx(\"span\",{children:/*i18n*/i18n._(\"Event summary not available\")});}return/*#__PURE__*/_jsx(\"span\",{children:labeledLinks.reduce(function(acc,x){return acc===null?x:/*#__PURE__*/_jsxs(_Fragment,{children:[acc,\" \",x]});},null)});}export default ActivityStreamDescription;","map":{"version":3,"names":["React","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","buildAnchor","obj","resource","activity","url","name","summary_fields","Error","concat","id","operation","_activity$changes$inv","changes","inventory","split","slice","_activity$changes$inv2","_slicedToArray","inventory_id","object1_pk","kind","job_template","jt_id","workflow_job_template","wfjt_id","project","system_job_template","_activity$summary_fie","wfjt_name","inventoryId","reverse","workflow_job","workflow_approval","workflow_approval_template","username","to","children","err","getPastTense","item","test","isGroupRelationship","object1","object2","group","length","buildLabeledLink","label","link","ActivityStreamDescription","_ref","_activity$changes","_activity$changes$sta","labeledLinks","object_association","object_type","push","role","role_field","status","operationText","i18n","_","timed_out","reduce","acc","x"],"sources":["/awx_devel/awx/ui/src/screens/ActivityStream/ActivityStreamDescription.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { t } from '@lingui/macro';\n\nconst buildAnchor = (obj, resource, activity) => {\n  let url;\n  let name;\n  // try/except pattern asserts that:\n  // if we encounter a case where a UI url can't or\n  // shouldn't be generated, just supply the name of the resource\n  try {\n    // catch-all case to avoid generating urls if a resource has been deleted\n    // if a resource still exists, it'll be serialized in the activity's summary_fields\n    if (!activity.summary_fields[resource]) {\n      throw new Error('The referenced resource no longer exists');\n    }\n    switch (resource) {\n      case 'custom_inventory_script':\n        url = `/inventory_scripts/${obj.id}/`;\n        break;\n      case 'group':\n        if (\n          activity.operation === 'create' ||\n          activity.operation === 'delete'\n        ) {\n          // the API formats the changes.inventory field as str 'myInventoryName-PrimaryKey'\n          const [inventory_id] = activity.changes.inventory\n            .split('-')\n            .slice(-1);\n          url = `/inventories/inventory/${inventory_id}/groups/${activity.changes.id}/details/`;\n        } else {\n          url = `/inventories/inventory/${\n            activity.summary_fields.inventory[0].id\n          }/groups/${\n            activity.changes.id || activity.changes.object1_pk\n          }/details/`;\n        }\n        break;\n      case 'host':\n        url = `/hosts/${obj.id}/`;\n        break;\n      case 'job':\n        url = `/jobs/${obj.id}/`;\n        break;\n      case 'inventory':\n        url =\n          obj?.kind === 'smart'\n            ? `/inventories/smart_inventory/${obj.id}/`\n            : `/inventories/inventory/${obj.id}/`;\n        break;\n      case 'schedule':\n        // schedule urls depend on the resource they're associated with\n        if (activity.summary_fields.job_template) {\n          const jt_id = activity.summary_fields.job_template[0].id;\n          url = `/templates/job_template/${jt_id}/schedules/${obj.id}/`;\n        } else if (activity.summary_fields.workflow_job_template) {\n          const wfjt_id = activity.summary_fields.workflow_job_template[0].id;\n          url = `/templates/workflow_job_template/${wfjt_id}/schedules/${obj.id}/`;\n        } else if (activity.summary_fields.project) {\n          url = `/projects/${activity.summary_fields.project[0].id}/schedules/${obj.id}/`;\n        } else if (activity.summary_fields.system_job_template) {\n          url = null;\n        } else {\n          // urls for inventory sync schedules currently depend on having\n          // an inventory id and group id\n          throw new Error(\n            'activity.summary_fields to build this url not implemented yet'\n          );\n        }\n        break;\n      case 'setting':\n        url = `/settings/`;\n        break;\n      case 'notification_template':\n        url = `/notification_templates/${obj.id}/`;\n        break;\n      case 'role':\n        throw new Error(\n          'role object management is not consolidated to a single UI view'\n        );\n      case 'job_template':\n        url = `/templates/job_template/${obj.id}/`;\n        break;\n      case 'workflow_job_template':\n        url = `/templates/workflow_job_template/${obj.id}/`;\n        break;\n      case 'workflow_job_template_node': {\n        const { id: wfjt_id, name: wfjt_name } =\n          activity.summary_fields.workflow_job_template[0];\n        url = `/templates/workflow_job_template/${wfjt_id}/`;\n        name = wfjt_name;\n        break;\n      }\n      case 'workflow_job':\n        url = `/jobs/workflow/${obj.id}/`;\n        break;\n      case 'label':\n        url = null;\n        break;\n      case 'inventory_source': {\n        const inventoryId = (obj.inventory || '').split('-').reverse()[0];\n        url = `/inventories/inventory/${inventoryId}/sources/${obj.id}/details/`;\n        break;\n      }\n      case 'o_auth2_application':\n        url = `/applications/${obj.id}/`;\n        break;\n      case 'workflow_approval':\n        url = `/jobs/workflow/${activity.summary_fields.workflow_job[0].id}/output/`;\n        name = `${activity.summary_fields.workflow_job[0].name} | ${activity.summary_fields.workflow_approval[0].name}`;\n        break;\n      case 'workflow_approval_template':\n        url = `/templates/workflow_job_template/${activity.summary_fields.workflow_job_template[0].id}/visualizer/`;\n        name = `${activity.summary_fields.workflow_job_template[0].name} | ${activity.summary_fields.workflow_approval_template[0].name}`;\n        break;\n      default:\n        url = `/${resource}s/${obj.id}/`;\n    }\n\n    name = name || obj.name || obj.username;\n\n    if (url) {\n      return <Link to={url}>{name}</Link>;\n    }\n\n    return <span>{name}</span>;\n  } catch (err) {\n    return <span>{obj.name || obj.username || ''}</span>;\n  }\n};\n\nconst getPastTense = (item) => (/e$/.test(item) ? `${item}d` : `${item}ed`);\n\nconst isGroupRelationship = (item) =>\n  item.object1 === 'group' &&\n  item.object2 === 'group' &&\n  item.summary_fields.group.length > 1;\n\nconst buildLabeledLink = (label, link) => (\n  <span>\n    {label} {link}\n  </span>\n);\n\nfunction ActivityStreamDescription({ activity }) {\n  const labeledLinks = [];\n  // Activity stream objects will outlive the resources they reference\n  // in that case, summary_fields will not be available - show generic error text instead\n  try {\n    switch (activity.object_association) {\n      // explicit role dis+associations\n      case 'role': {\n        let { object1, object2 } = activity;\n\n        // if object1 winds up being the role's resource, we need to swap the objects\n        // in order to make the sentence make sense.\n        if (activity.object_type === object1) {\n          object1 = activity.object2;\n          object2 = activity.object1;\n        }\n\n        // object1 field is resource targeted by the dis+association\n        // object2 field is the resource the role is inherited from\n        // summary_field.role[0] contains ref info about the role\n        switch (activity.operation) {\n          // expected outcome: \"disassociated <object2> role_name from <object1>\"\n          case 'disassociate':\n            if (isGroupRelationship(activity)) {\n              labeledLinks.push(\n                buildLabeledLink(\n                  getPastTense(activity.operation),\n                  buildAnchor(\n                    activity.summary_fields.group[1],\n                    object2,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${activity.summary_fields.role[0].role_field} from`,\n                  buildAnchor(\n                    activity.summary_fields.group[0],\n                    object1,\n                    activity\n                  )\n                )\n              );\n            } else {\n              labeledLinks.push(\n                buildLabeledLink(\n                  getPastTense(activity.operation),\n                  buildAnchor(\n                    activity.summary_fields[object2][0],\n                    object2,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${activity.summary_fields.role[0].role_field} from`,\n                  buildAnchor(\n                    activity.summary_fields[object1][0],\n                    object1,\n                    activity\n                  )\n                )\n              );\n            }\n            break;\n          // expected outcome: \"associated <object2> role_name to <object1>\"\n          case 'associate':\n            if (isGroupRelationship(activity)) {\n              labeledLinks.push(\n                buildLabeledLink(\n                  getPastTense(activity.operation),\n                  buildAnchor(\n                    activity.summary_fields.group[1],\n                    object2,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${activity.summary_fields.role[0].role_field} to`,\n                  buildAnchor(\n                    activity.summary_fields.group[0],\n                    object1,\n                    activity\n                  )\n                )\n              );\n            } else {\n              labeledLinks.push(\n                buildLabeledLink(\n                  getPastTense(activity.operation),\n                  buildAnchor(\n                    activity.summary_fields[object2][0],\n                    object2,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${activity.summary_fields.role[0].role_field} to`,\n                  buildAnchor(\n                    activity.summary_fields[object1][0],\n                    object1,\n                    activity\n                  )\n                )\n              );\n            }\n            break;\n          default:\n            break;\n        }\n        break;\n        // inherited role dis+associations (logic identical to case 'role')\n      }\n      case 'parents':\n        // object1 field is resource targeted by the dis+association\n        // object2 field is the resource the role is inherited from\n        // summary_field.role[0] contains ref info about the role\n        switch (activity.operation) {\n          // expected outcome: \"disassociated <object2> role_name from <object1>\"\n          case 'disassociate':\n            if (isGroupRelationship(activity)) {\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${getPastTense(activity.operation)} ${activity.object2}`,\n                  buildAnchor(\n                    activity.summary_fields.group[1],\n                    activity.object2,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `from ${activity.object1}`,\n                  buildAnchor(\n                    activity.summary_fields.group[0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n            } else {\n              labeledLinks.push(\n                buildLabeledLink(\n                  getPastTense(activity.operation),\n                  buildAnchor(\n                    activity.summary_fields[activity.object2][0],\n                    activity.object2,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${activity.summary_fields.role[0].role_field} from`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object1][0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n            }\n            break;\n          // expected outcome: \"associated <object2> role_name to <object1>\"\n          case 'associate':\n            if (isGroupRelationship(activity)) {\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${getPastTense(activity.operation)} ${activity.object1}`,\n                  buildAnchor(\n                    activity.summary_fields.group[0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `to ${activity.object2}`,\n                  buildAnchor(\n                    activity.summary_fields.group[1],\n                    activity.object2,\n                    activity\n                  )\n                )\n              );\n            } else {\n              labeledLinks.push(\n                buildLabeledLink(\n                  getPastTense(activity.operation),\n                  buildAnchor(\n                    activity.summary_fields[activity.object2][0],\n                    activity.object2,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${activity.summary_fields.role[0].role_field} to`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object1][0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n            }\n            break;\n          default:\n            break;\n        }\n        break;\n      // CRUD operations / resource on resource dis+associations\n      default:\n        switch (activity.operation) {\n          // expected outcome: \"disassociated <object2> from <object1>\"\n          case 'disassociate':\n            if (isGroupRelationship(activity)) {\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${getPastTense(activity.operation)} ${activity.object2}`,\n                  buildAnchor(\n                    activity.summary_fields.group[1],\n                    activity.object2,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `from ${activity.object1}`,\n                  buildAnchor(\n                    activity.summary_fields.group[0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n            } else if (\n              activity.object1 === 'workflow_job_template_node' &&\n              activity.object2 === 'workflow_job_template_node'\n            ) {\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${getPastTense(activity.operation)} two nodes on workflow`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object1[0]],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n            } else {\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${getPastTense(activity.operation)} ${activity.object2}`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object2][0],\n                    activity.object2,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `from ${activity.object1}`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object1][0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n            }\n            break;\n          // expected outcome \"associated <object2> to <object1>\"\n          case 'associate':\n            // groups are the only resource that can be associated/disassociated into each other\n            if (isGroupRelationship(activity)) {\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${getPastTense(activity.operation)} ${activity.object1}`,\n                  buildAnchor(\n                    activity.summary_fields.group[0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `to ${activity.object2}`,\n                  buildAnchor(\n                    activity.summary_fields.group[1],\n                    activity.object2,\n                    activity\n                  )\n                )\n              );\n            } else if (\n              activity.object1 === 'workflow_job_template_node' &&\n              activity.object2 === 'workflow_job_template_node'\n            ) {\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${getPastTense(activity.operation)} two nodes on workflow`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object1[0]],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n            } else {\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${getPastTense(activity.operation)} ${activity.object1}`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object1][0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `to ${activity.object2}`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object2][0],\n                    activity.object2,\n                    activity\n                  )\n                )\n              );\n            }\n            break;\n          case 'delete':\n            labeledLinks.push(\n              buildLabeledLink(\n                `${getPastTense(activity.operation)} ${activity.object1}`,\n                buildAnchor(activity.changes, activity.object1, activity)\n              )\n            );\n            break;\n          // expected outcome: \"operation <object1>\"\n          case 'update':\n            if (\n              activity.object1 === 'workflow_approval' &&\n              activity?.changes?.status?.length === 2\n            ) {\n              let operationText = '';\n              if (activity.changes.status[1] === 'successful') {\n                operationText = t`approved`;\n              } else if (activity.changes.status[1] === 'failed') {\n                if (\n                  activity.changes.timed_out &&\n                  activity.changes.timed_out[1] === true\n                ) {\n                  operationText = t`timed out`;\n                } else {\n                  operationText = t`denied`;\n                }\n              } else {\n                operationText = t`updated`;\n              }\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${operationText} ${activity.object1}`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object1][0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n            } else {\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${getPastTense(activity.operation)} ${activity.object1}`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object1][0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n            }\n            break;\n          case 'create':\n            labeledLinks.push(\n              buildLabeledLink(\n                `${getPastTense(activity.operation)} ${activity.object1}`,\n                buildAnchor(activity.changes, activity.object1, activity)\n              )\n            );\n            break;\n          default:\n            break;\n        }\n        break;\n    }\n  } catch (err) {\n    return <span>{t`Event summary not available`}</span>;\n  }\n\n  return (\n    <span>\n      {labeledLinks.reduce(\n        (acc, x) =>\n          acc === null ? (\n            x\n          ) : (\n            <>\n              {acc} {x}\n            </>\n          ),\n        null\n      )}\n    </span>\n  );\n}\n\nexport default ActivityStreamDescription;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}