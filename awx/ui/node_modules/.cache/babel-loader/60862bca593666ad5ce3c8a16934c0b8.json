{"ast":null,"code":"import _taggedTemplateLiteral from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import{i18n}from\"@lingui/core\";import React from'react';import styled from'styled-components';import{Badge,Tooltip}from'@patternfly/react-core';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BarWrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  background-color: #d7d7d7;\\n  display: flex;\\n  height: 5px;\\n  margin-top: 16px;\\n  width: 100%;\\n\"])));var BarSegment=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  flex-grow: \",\";\\n\"])),function(props){return props.color||'inherit';},function(props){return props.count||0;});BarSegment.displayName='BarSegment';var TooltipContent=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  align-items: center;\\n  display: flex;\\n\\n  span.pf-c-badge {\\n    margin-left: 10px;\\n  }\\n\"])));var HostStatusBar=function HostStatusBar(_ref){var _ref$counts=_ref.counts,counts=_ref$counts===void 0?{}:_ref$counts;var noData=Object.keys(counts).length===0;var hostStatus={ok:{color:'#4CB140',label:/*i18n*/i18n._(\"OK\")},skipped:{color:'#73BCF7',label:/*i18n*/i18n._(\"Skipped\")},changed:{color:'#F0AB00',label:/*i18n*/i18n._(\"Changed\")},failures:{color:'#C9190B',label:/*i18n*/i18n._(\"Failed\")},dark:{color:'#8F4700',label:/*i18n*/i18n._(\"Unreachable\")}};var barSegments=Object.keys(hostStatus).map(function(key){var count=counts[key]||0;return/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsxs(TooltipContent,{children:[hostStatus[key].label,/*#__PURE__*/_jsx(Badge,{isRead:true,children:count})]}),children:/*#__PURE__*/_jsx(BarSegment,{color:hostStatus[key].color,count:count},key)},key);});if(noData){return/*#__PURE__*/_jsx(BarWrapper,{children:/*#__PURE__*/_jsx(Tooltip,{content:/*i18n*/i18n._(\"Host status information for this job is unavailable.\"),children:/*#__PURE__*/_jsx(BarSegment,{count:1})})});}return/*#__PURE__*/_jsx(BarWrapper,{children:barSegments});};export default HostStatusBar;","map":{"version":3,"names":["React","styled","Badge","Tooltip","jsx","_jsx","jsxs","_jsxs","BarWrapper","div","_templateObject","_taggedTemplateLiteral","BarSegment","_templateObject2","props","color","count","displayName","TooltipContent","_templateObject3","HostStatusBar","_ref","_ref$counts","counts","noData","Object","keys","length","hostStatus","ok","label","i18n","_","skipped","changed","failures","dark","barSegments","map","key","content","children","isRead"],"sources":["/awx_devel/awx/ui/src/screens/Job/JobOutput/shared/HostStatusBar.js"],"sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\n\nimport { t } from '@lingui/macro';\nimport { Badge, Tooltip } from '@patternfly/react-core';\n\nconst BarWrapper = styled.div`\n  background-color: #d7d7d7;\n  display: flex;\n  height: 5px;\n  margin-top: 16px;\n  width: 100%;\n`;\n\nconst BarSegment = styled.div`\n  background-color: ${(props) => props.color || 'inherit'};\n  flex-grow: ${(props) => props.count || 0};\n`;\nBarSegment.displayName = 'BarSegment';\n\nconst TooltipContent = styled.div`\n  align-items: center;\n  display: flex;\n\n  span.pf-c-badge {\n    margin-left: 10px;\n  }\n`;\n\nconst HostStatusBar = ({ counts = {} }) => {\n  const noData = Object.keys(counts).length === 0;\n  const hostStatus = {\n    ok: {\n      color: '#4CB140',\n      label: t`OK`,\n    },\n    skipped: {\n      color: '#73BCF7',\n      label: t`Skipped`,\n    },\n    changed: {\n      color: '#F0AB00',\n      label: t`Changed`,\n    },\n    failures: {\n      color: '#C9190B',\n      label: t`Failed`,\n    },\n    dark: {\n      color: '#8F4700',\n      label: t`Unreachable`,\n    },\n  };\n\n  const barSegments = Object.keys(hostStatus).map((key) => {\n    const count = counts[key] || 0;\n    return (\n      <Tooltip\n        key={key}\n        content={\n          <TooltipContent>\n            {hostStatus[key].label}\n            <Badge isRead>{count}</Badge>\n          </TooltipContent>\n        }\n      >\n        <BarSegment key={key} color={hostStatus[key].color} count={count} />\n      </Tooltip>\n    );\n  });\n\n  if (noData) {\n    return (\n      <BarWrapper>\n        <Tooltip\n          content={t`Host status information for this job is unavailable.`}\n        >\n          <BarSegment count={1} />\n        </Tooltip>\n      </BarWrapper>\n    );\n  }\n\n  return <BarWrapper>{barSegments}</BarWrapper>;\n};\n\nexport default HostStatusBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}