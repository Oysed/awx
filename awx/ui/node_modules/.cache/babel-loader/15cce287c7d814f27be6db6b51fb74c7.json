{"ast":null,"code":"import _defineProperty from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/awx_devel/awx/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{i18n}from\"@lingui/core\";import React,{useCallback,useState}from'react';import{Route,withRouter,Switch,useRouteMatch}from'react-router-dom';import{Config}from'contexts/Config';import ScreenHeader from'components/ScreenHeader/ScreenHeader';import PersistentFilters from'components/PersistentFilters';import OrganizationsList from'./OrganizationList/OrganizationList';import OrganizationAdd from'./OrganizationAdd/OrganizationAdd';import Organization from'./Organization';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Organizations(){var match=useRouteMatch();var _useState=useState({'/organizations':/*i18n*/i18n._(\"Organizations\"),'/organizations/add':/*i18n*/i18n._(\"Create New Organization\")}),_useState2=_slicedToArray(_useState,2),breadcrumbConfig=_useState2[0],setBreadcrumbConfig=_useState2[1];var setBreadcrumb=useCallback(function(organization){var _breadcrumb;if(!organization){return;}var breadcrumb=(_breadcrumb={'/organizations':/*i18n*/i18n._(\"Organizations\"),'/organizations/add':/*i18n*/i18n._(\"Create New Organization\")},_defineProperty(_breadcrumb,\"/organizations/\".concat(organization.id),\"\".concat(organization.name)),_defineProperty(_breadcrumb,\"/organizations/\".concat(organization.id,\"/edit\"),/*i18n*/i18n._(\"Edit Details\")),_defineProperty(_breadcrumb,\"/organizations/\".concat(organization.id,\"/details\"),/*i18n*/i18n._(\"Details\")),_defineProperty(_breadcrumb,\"/organizations/\".concat(organization.id,\"/access\"),/*i18n*/i18n._(\"Access\")),_defineProperty(_breadcrumb,\"/organizations/\".concat(organization.id,\"/teams\"),/*i18n*/i18n._(\"Teams\")),_defineProperty(_breadcrumb,\"/organizations/\".concat(organization.id,\"/notifications\"),/*i18n*/i18n._(\"Notifications\")),_defineProperty(_breadcrumb,\"/organizations/\".concat(organization.id,\"/execution_environments\"),/*i18n*/i18n._(\"Execution Environments\")),_breadcrumb);setBreadcrumbConfig(breadcrumb);},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ScreenHeader,{streamType:\"organization\",breadcrumbConfig:breadcrumbConfig}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.path,\"/add\"),children:/*#__PURE__*/_jsx(OrganizationAdd,{})}),/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.path,\"/:id\"),children:/*#__PURE__*/_jsx(Config,{children:function children(_ref){var me=_ref.me;return/*#__PURE__*/_jsx(Organization,{setBreadcrumb:setBreadcrumb,me:me||{}});}})}),/*#__PURE__*/_jsx(Route,{path:\"\".concat(match.path),children:/*#__PURE__*/_jsx(PersistentFilters,{pageKey:\"organizations\",children:/*#__PURE__*/_jsx(OrganizationsList,{})})})]})]});}export{Organizations as _Organizations};export default withRouter(Organizations);","map":{"version":3,"names":["React","useCallback","useState","Route","withRouter","Switch","useRouteMatch","Config","ScreenHeader","PersistentFilters","OrganizationsList","OrganizationAdd","Organization","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Organizations","match","_useState","i18n","_","_useState2","_slicedToArray","breadcrumbConfig","setBreadcrumbConfig","setBreadcrumb","organization","_breadcrumb","breadcrumb","_defineProperty","concat","id","name","children","streamType","path","_ref","me","pageKey","_Organizations"],"sources":["/awx_devel/awx/ui/src/screens/Organization/Organizations.js"],"sourcesContent":["import React, { useCallback, useState } from 'react';\nimport { Route, withRouter, Switch, useRouteMatch } from 'react-router-dom';\n\nimport { t } from '@lingui/macro';\n\nimport { Config } from 'contexts/Config';\nimport ScreenHeader from 'components/ScreenHeader/ScreenHeader';\nimport PersistentFilters from 'components/PersistentFilters';\nimport OrganizationsList from './OrganizationList/OrganizationList';\nimport OrganizationAdd from './OrganizationAdd/OrganizationAdd';\nimport Organization from './Organization';\n\nfunction Organizations() {\n  const match = useRouteMatch();\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/organizations': t`Organizations`,\n    '/organizations/add': t`Create New Organization`,\n  });\n\n  const setBreadcrumb = useCallback((organization) => {\n    if (!organization) {\n      return;\n    }\n\n    const breadcrumb = {\n      '/organizations': t`Organizations`,\n      '/organizations/add': t`Create New Organization`,\n      [`/organizations/${organization.id}`]: `${organization.name}`,\n      [`/organizations/${organization.id}/edit`]: t`Edit Details`,\n      [`/organizations/${organization.id}/details`]: t`Details`,\n      [`/organizations/${organization.id}/access`]: t`Access`,\n      [`/organizations/${organization.id}/teams`]: t`Teams`,\n      [`/organizations/${organization.id}/notifications`]: t`Notifications`,\n      [`/organizations/${organization.id}/execution_environments`]: t`Execution Environments`,\n    };\n    setBreadcrumbConfig(breadcrumb);\n  }, []);\n\n  return (\n    <>\n      <ScreenHeader\n        streamType=\"organization\"\n        breadcrumbConfig={breadcrumbConfig}\n      />\n      <Switch>\n        <Route path={`${match.path}/add`}>\n          <OrganizationAdd />\n        </Route>\n        <Route path={`${match.path}/:id`}>\n          <Config>\n            {({ me }) => (\n              <Organization setBreadcrumb={setBreadcrumb} me={me || {}} />\n            )}\n          </Config>\n        </Route>\n        <Route path={`${match.path}`}>\n          <PersistentFilters pageKey=\"organizations\">\n            <OrganizationsList />\n          </PersistentFilters>\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport { Organizations as _Organizations };\nexport default withRouter(Organizations);\n"],"mappings":"+OAAA,MAAO,CAAAA,KAAK,EAAIC,WAAW,CAAEC,QAAQ,KAAQ,OAAO,CACpD,OAASC,KAAK,CAAEC,UAAU,CAAEC,MAAM,CAAEC,aAAa,KAAQ,kBAAkB,CAI3E,OAASC,MAAM,KAAQ,iBAAiB,CACxC,MAAO,CAAAC,YAAY,KAAM,sCAAsC,CAC/D,MAAO,CAAAC,iBAAiB,KAAM,8BAA8B,CAC5D,MAAO,CAAAC,iBAAiB,KAAM,qCAAqC,CACnE,MAAO,CAAAC,eAAe,KAAM,mCAAmC,CAC/D,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE1C,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACvB,GAAM,CAAAC,KAAK,CAAGd,aAAa,CAAC,CAAC,CAC7B,IAAAe,SAAA,CAAgDnB,QAAQ,CAAC,CACvD,gBAAgB,SAAEoB,IAAA,CAAAC,CAAA,gBAAe,CAAC,CAClC,oBAAoB,SAAED,IAAA,CAAAC,CAAA,0BAAyB,CACjD,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAJ,SAAA,IAHKK,gBAAgB,CAAAF,UAAA,IAAEG,mBAAmB,CAAAH,UAAA,IAK5C,GAAM,CAAAI,aAAa,CAAG3B,WAAW,CAAC,SAAC4B,YAAY,CAAK,KAAAC,WAAA,CAClD,GAAI,CAACD,YAAY,CAAE,CACjB,OACF,CAEA,GAAM,CAAAE,UAAU,EAAAD,WAAA,EACd,gBAAgB,SAAER,IAAA,CAAAC,CAAA,gBAAe,CAAC,CAClC,oBAAoB,SAAED,IAAA,CAAAC,CAAA,0BAAyB,CAAC,EAAAS,eAAA,CAAAF,WAAA,mBAAAG,MAAA,CAC7BJ,YAAY,CAACK,EAAE,KAAAD,MAAA,CAAQJ,YAAY,CAACM,IAAI,GAAAH,eAAA,CAAAF,WAAA,mBAAAG,MAAA,CACxCJ,YAAY,CAACK,EAAE,kBAAUZ,IAAA,CAAAC,CAAA,eAAc,CAAC,EAAAS,eAAA,CAAAF,WAAA,mBAAAG,MAAA,CACxCJ,YAAY,CAACK,EAAE,qBAAaZ,IAAA,CAAAC,CAAA,UAAS,CAAC,EAAAS,eAAA,CAAAF,WAAA,mBAAAG,MAAA,CACtCJ,YAAY,CAACK,EAAE,oBAAYZ,IAAA,CAAAC,CAAA,SAAQ,CAAC,EAAAS,eAAA,CAAAF,WAAA,mBAAAG,MAAA,CACpCJ,YAAY,CAACK,EAAE,mBAAWZ,IAAA,CAAAC,CAAA,QAAO,CAAC,EAAAS,eAAA,CAAAF,WAAA,mBAAAG,MAAA,CAClCJ,YAAY,CAACK,EAAE,2BAAmBZ,IAAA,CAAAC,CAAA,gBAAe,CAAC,EAAAS,eAAA,CAAAF,WAAA,mBAAAG,MAAA,CAClDJ,YAAY,CAACK,EAAE,oCAA4BZ,IAAA,CAAAC,CAAA,yBAAwB,CAAC,EAAAO,WAAA,CACxF,CACDH,mBAAmB,CAACI,UAAU,CAAC,CACjC,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEf,KAAA,CAAAE,SAAA,EAAAkB,QAAA,eACEtB,IAAA,CAACN,YAAY,EACX6B,UAAU,CAAC,cAAc,CACzBX,gBAAgB,CAAEA,gBAAiB,CACpC,CAAC,cACFV,KAAA,CAACX,MAAM,EAAA+B,QAAA,eACLtB,IAAA,CAACX,KAAK,EAACmC,IAAI,IAAAL,MAAA,CAAKb,KAAK,CAACkB,IAAI,QAAO,CAAAF,QAAA,cAC/BtB,IAAA,CAACH,eAAe,GAAE,CAAC,CACd,CAAC,cACRG,IAAA,CAACX,KAAK,EAACmC,IAAI,IAAAL,MAAA,CAAKb,KAAK,CAACkB,IAAI,QAAO,CAAAF,QAAA,cAC/BtB,IAAA,CAACP,MAAM,EAAA6B,QAAA,CACJ,SAAAA,SAAAG,IAAA,KAAG,CAAAC,EAAE,CAAAD,IAAA,CAAFC,EAAE,oBACJ1B,IAAA,CAACF,YAAY,EAACgB,aAAa,CAAEA,aAAc,CAACY,EAAE,CAAEA,EAAE,EAAI,CAAC,CAAE,CAAE,CAAC,EAC7D,CACK,CAAC,CACJ,CAAC,cACR1B,IAAA,CAACX,KAAK,EAACmC,IAAI,IAAAL,MAAA,CAAKb,KAAK,CAACkB,IAAI,CAAG,CAAAF,QAAA,cAC3BtB,IAAA,CAACL,iBAAiB,EAACgC,OAAO,CAAC,eAAe,CAAAL,QAAA,cACxCtB,IAAA,CAACJ,iBAAiB,GAAE,CAAC,CACJ,CAAC,CACf,CAAC,EACF,CAAC,EACT,CAAC,CAEP,CAEA,OAASS,aAAa,GAAI,CAAAuB,cAAc,EACxC,cAAe,CAAAtC,UAAU,CAACe,aAAa,CAAC"},"metadata":{},"sourceType":"module"}